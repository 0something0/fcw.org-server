var a,tileset_tile_width=96,tileset_tile_height=48,tileset_options="+tilespec4+2007.Oct.26",tileset_name="amplio",priority=20,normal_tile_width=96,normal_tile_height=48,small_tile_width=15,small_tile_height=20,is_hex=0,is_isometric=1,is_mountainous=0,roadstyle=0,fogstyle=2,darkness_style=4,unit_flag_offset_x=25,unit_flag_offset_y=16,city_flag_offset_x=2,city_flag_offset_y=9,city_size_offset_x=0,city_size_offset_y=20,unit_activity_offset_x=10,unit_activity_offset_y=25,unit_offset_x=19,unit_offset_y=
18,is_full_citybar=1,citybar_offset_y=55,citybar_offset_x=45,city_names_font_size=10,city_productions_font_size=8,ts_layer=[];ts_layer[0]={};ts_layer[0].match_types=["shallow","deep","land"];ts_layer[1]={};ts_layer[1].match_types=["forest","hills","mountains","water","ice"];ts_layer[2]={};ts_layer[2].match_types=["water","ice"];var ts_tiles={};ts_tiles.lake={};ts_tiles.lake.is_blended=0;ts_tiles.lake.num_layers=1;ts_tiles.lake.layer0_match_type="shallow";ts_tiles.lake.layer0_match_with=["land"];
ts_tiles.lake.layer0_sprite_type="corner";ts_tiles.coast={};ts_tiles.coast.is_blended=1;ts_tiles.coast.num_layers=2;ts_tiles.coast.layer0_match_type="shallow";ts_tiles.coast.layer0_match_with=["deep","land"];ts_tiles.coast.layer0_sprite_type="corner";ts_tiles.coast.layer1_match_type="water";ts_tiles.coast.layer1_match_with=["ice"];ts_tiles.coast.layer1_sprite_type="corner";ts_tiles.floor={};ts_tiles.floor.is_blended=0;ts_tiles.floor.num_layers=2;ts_tiles.floor.layer0_match_type="deep";
ts_tiles.floor.layer0_match_with=["shallow","land"];ts_tiles.floor.layer0_sprite_type="corner";ts_tiles.floor.layer1_match_type="water";ts_tiles.floor.layer1_match_with=["ice"];ts_tiles.floor.layer1_sprite_type="corner";ts_tiles.arctic={};ts_tiles.arctic.is_blended=0;ts_tiles.arctic.num_layers=3;ts_tiles.arctic.layer0_match_type="shallow";ts_tiles.arctic.layer1_match_type="ice";ts_tiles.arctic.layer2_match_type="ice";ts_tiles.arctic.mine_sprite="tx.oil_mine";ts_tiles.desert={};
ts_tiles.desert.is_blended=1;ts_tiles.desert.num_layers=1;ts_tiles.desert.layer0_match_type="land";ts_tiles.desert.mine_sprite="tx.oil_mine";ts_tiles.forest={};ts_tiles.forest.is_blended=1;ts_tiles.forest.num_layers=2;ts_tiles.forest.layer0_match_type="land";ts_tiles.forest.layer1_match_type="forest";ts_tiles.forest.layer1_match_with=["forest"];ts_tiles.grassland={};ts_tiles.grassland.is_blended=1;ts_tiles.grassland.num_layers=1;ts_tiles.grassland.layer0_match_type="land";ts_tiles.hills={};
ts_tiles.hills.is_blended=1;ts_tiles.hills.num_layers=2;ts_tiles.hills.layer0_match_type="land";ts_tiles.hills.layer1_match_type="hills";ts_tiles.hills.layer1_match_with=["hills"];ts_tiles.hills.mine_sprite="tx.mine";ts_tiles.jungle={};ts_tiles.jungle.is_blended=1;ts_tiles.jungle.num_layers=1;ts_tiles.jungle.layer0_match_type="land";ts_tiles.mountains={};ts_tiles.mountains.is_blended=1;ts_tiles.mountains.num_layers=2;ts_tiles.mountains.layer0_match_type="land";
ts_tiles.mountains.layer1_match_type="mountains";ts_tiles.mountains.layer1_match_with=["mountains"];ts_tiles.mountains.mine_sprite="tx.mine";ts_tiles.plains={};ts_tiles.plains.is_blended=1;ts_tiles.plains.num_layers=1;ts_tiles.plains.layer0_match_type="land";ts_tiles.swamp={};ts_tiles.swamp.is_blended=1;ts_tiles.swamp.num_layers=1;ts_tiles.swamp.layer0_match_type="land";ts_tiles.tundra={};ts_tiles.tundra.is_blended=1;ts_tiles.tundra.num_layers=1;ts_tiles.tundra.layer0_match_type="land";
var tile_types_setup={"l0.lake":{match_style:2,sprite_type:1,mine_tag:"(null)",match_indices:2,match_index:[0,2]},"l0.coast":{match_style:3,sprite_type:1,mine_tag:"(null)",match_indices:3,match_index:[0,1,2]},"l1.coast":{match_style:2,sprite_type:1,mine_tag:"(null)",match_indices:2,match_index:[3,4]},"l0.floor":{match_style:3,sprite_type:1,mine_tag:"(null)",match_indices:3,match_index:[1,0,2]},"l1.floor":{match_style:2,sprite_type:1,mine_tag:"(null)",match_indices:2,match_index:[3,4]},"l0.arctic":{match_style:0,
sprite_type:0,mine_tag:"tx.oil_mine",match_indices:1,match_index:[0]},"l0.desert":{match_style:0,sprite_type:0,mine_tag:"tx.oil_mine",match_indices:1,match_index:[2]},"l0.forest":{match_style:0,sprite_type:0,mine_tag:"(null)",match_indices:1,match_index:[2]},"l1.forest":{match_style:1,sprite_type:0,mine_tag:"(null)",match_indices:2,match_index:[0,0]},"l0.grassland":{match_style:0,sprite_type:0,mine_tag:"(null)",match_indices:1,match_index:[2]},"l0.hills":{match_style:0,sprite_type:0,mine_tag:"tx.mine",
match_indices:1,match_index:[2]},"l1.hills":{match_style:1,sprite_type:0,mine_tag:"tx.mine",match_indices:2,match_index:[1,1]},"l0.jungle":{match_style:0,sprite_type:0,mine_tag:"(null)",match_indices:1,match_index:[2]},"l0.mountains":{match_style:0,sprite_type:0,mine_tag:"tx.mine",match_indices:1,match_index:[2]},"l1.mountains":{match_style:1,sprite_type:0,mine_tag:"tx.mine",match_indices:2,match_index:[2,2]},"l0.plains":{match_style:0,sprite_type:0,mine_tag:"(null)",match_indices:1,match_index:[2]},
"l0.swamp":{match_style:0,sprite_type:0,mine_tag:"(null)",match_indices:1,match_index:[2]},"l0.tundra":{match_style:0,sprite_type:0,mine_tag:"(null)",match_indices:1,match_index:[2]}},cellgroup_map={"coast.0":"t.l0.cellgroup_s_s_s_s","coast.1":"t.l0.cellgroup_s_s_s_s","coast.2":"t.l0.cellgroup_s_s_s_s","coast.3":"t.l0.cellgroup_s_s_s_s","coast.4":"t.l0.cellgroup_s_s_s_d","coast.5":"t.l0.cellgroup_s_d_s_s","coast.6":"t.l0.cellgroup_d_s_s_s","coast.7":"t.l0.cellgroup_s_s_d_s","coast.8":"t.l0.cellgroup_s_s_s_l",
"coast.9":"t.l0.cellgroup_s_l_s_s","coast.10":"t.l0.cellgroup_l_s_s_s","coast.11":"t.l0.cellgroup_s_s_l_s","coast.12":"t.l0.cellgroup_d_s_s_s","coast.13":"t.l0.cellgroup_s_s_d_s","coast.14":"t.l0.cellgroup_s_d_s_s","coast.15":"t.l0.cellgroup_s_s_s_d","coast.16":"t.l0.cellgroup_d_s_s_d","coast.17":"t.l0.cellgroup_s_d_d_s","coast.18":"t.l0.cellgroup_d_d_s_s","coast.19":"t.l0.cellgroup_s_s_d_d","coast.20":"t.l0.cellgroup_d_s_s_l","coast.21":"t.l0.cellgroup_s_l_d_s","coast.22":"t.l0.cellgroup_l_d_s_s",
"coast.23":"t.l0.cellgroup_s_s_l_d","coast.24":"t.l0.cellgroup_l_s_s_s","coast.25":"t.l0.cellgroup_s_s_l_s","coast.26":"t.l0.cellgroup_s_l_s_s","coast.27":"t.l0.cellgroup_s_s_s_l","coast.28":"t.l0.cellgroup_l_s_s_d","coast.29":"t.l0.cellgroup_s_d_l_s","coast.30":"t.l0.cellgroup_d_l_s_s","coast.31":"t.l0.cellgroup_s_s_d_l","coast.32":"t.l0.cellgroup_l_s_s_l","coast.33":"t.l0.cellgroup_s_l_l_s","coast.34":"t.l0.cellgroup_l_l_s_s","coast.35":"t.l0.cellgroup_s_s_l_l","coast.36":"t.l0.cellgroup_s_d_s_s",
"coast.37":"t.l0.cellgroup_s_s_s_d","coast.38":"t.l0.cellgroup_s_s_d_s","coast.39":"t.l0.cellgroup_d_s_s_s","coast.40":"t.l0.cellgroup_s_d_s_d","coast.41":"t.l0.cellgroup_s_d_s_d","coast.42":"t.l0.cellgroup_d_s_d_s","coast.43":"t.l0.cellgroup_d_s_d_s","coast.44":"t.l0.cellgroup_s_d_s_l","coast.45":"t.l0.cellgroup_s_l_s_d","coast.46":"t.l0.cellgroup_l_s_d_s","coast.47":"t.l0.cellgroup_d_s_l_s","coast.48":"t.l0.cellgroup_d_d_s_s","coast.49":"t.l0.cellgroup_s_s_d_d","coast.50":"t.l0.cellgroup_s_d_d_s",
"coast.51":"t.l0.cellgroup_d_s_s_d","coast.52":"t.l0.cellgroup_d_d_s_d","coast.53":"t.l0.cellgroup_s_d_d_d","coast.54":"t.l0.cellgroup_d_d_d_s","coast.55":"t.l0.cellgroup_d_s_d_d","coast.56":"t.l0.cellgroup_d_d_s_l","coast.57":"t.l0.cellgroup_s_l_d_d","coast.58":"t.l0.cellgroup_l_d_d_s","coast.59":"t.l0.cellgroup_d_s_l_d","coast.60":"t.l0.cellgroup_l_d_s_s","coast.61":"t.l0.cellgroup_s_s_l_d","coast.62":"t.l0.cellgroup_s_l_d_s","coast.63":"t.l0.cellgroup_d_s_s_l","coast.64":"t.l0.cellgroup_l_d_s_d",
"coast.65":"t.l0.cellgroup_s_d_l_d","coast.66":"t.l0.cellgroup_d_l_d_s","coast.67":"t.l0.cellgroup_d_s_d_l","coast.68":"t.l0.cellgroup_l_d_s_l","coast.69":"t.l0.cellgroup_s_l_l_d","coast.70":"t.l0.cellgroup_l_l_d_s","coast.71":"t.l0.cellgroup_d_s_l_l","coast.72":"t.l0.cellgroup_s_l_s_s","coast.73":"t.l0.cellgroup_s_s_s_l","coast.74":"t.l0.cellgroup_s_s_l_s","coast.75":"t.l0.cellgroup_l_s_s_s","coast.76":"t.l0.cellgroup_s_l_s_d","coast.77":"t.l0.cellgroup_s_d_s_l","coast.78":"t.l0.cellgroup_d_s_l_s",
"coast.79":"t.l0.cellgroup_l_s_d_s","coast.80":"t.l0.cellgroup_s_l_s_l","coast.81":"t.l0.cellgroup_s_l_s_l","coast.82":"t.l0.cellgroup_l_s_l_s","coast.83":"t.l0.cellgroup_l_s_l_s","coast.84":"t.l0.cellgroup_d_l_s_s","coast.85":"t.l0.cellgroup_s_s_d_l","coast.86":"t.l0.cellgroup_s_d_l_s","coast.87":"t.l0.cellgroup_l_s_s_d","coast.88":"t.l0.cellgroup_d_l_s_d","coast.89":"t.l0.cellgroup_s_d_d_l","coast.90":"t.l0.cellgroup_d_d_l_s","coast.91":"t.l0.cellgroup_l_s_d_d","coast.92":"t.l0.cellgroup_d_l_s_l",
"coast.93":"t.l0.cellgroup_s_l_d_l","coast.94":"t.l0.cellgroup_l_d_l_s","coast.95":"t.l0.cellgroup_l_s_l_d","coast.96":"t.l0.cellgroup_l_l_s_s","coast.97":"t.l0.cellgroup_s_s_l_l","coast.98":"t.l0.cellgroup_s_l_l_s","coast.99":"t.l0.cellgroup_l_s_s_l","coast.100":"t.l0.cellgroup_l_l_s_d","coast.101":"t.l0.cellgroup_s_d_l_l","coast.102":"t.l0.cellgroup_d_l_l_s","coast.103":"t.l0.cellgroup_l_s_d_l","coast.104":"t.l0.cellgroup_l_l_s_l","coast.105":"t.l0.cellgroup_s_l_l_l","coast.106":"t.l0.cellgroup_l_l_l_s",
"coast.107":"t.l0.cellgroup_l_s_l_l","floor.0":"t.l0.cellgroup_d_d_d_d","floor.1":"t.l0.cellgroup_d_d_d_d","floor.2":"t.l0.cellgroup_d_d_d_d","floor.3":"t.l0.cellgroup_d_d_d_d","floor.4":"t.l0.cellgroup_d_d_d_s","floor.5":"t.l0.cellgroup_d_s_d_d","floor.6":"t.l0.cellgroup_s_d_d_d","floor.7":"t.l0.cellgroup_d_d_s_d","floor.8":"t.l0.cellgroup_d_d_d_l","floor.9":"t.l0.cellgroup_d_l_d_d","floor.10":"t.l0.cellgroup_l_d_d_d","floor.11":"t.l0.cellgroup_d_d_l_d","floor.12":"t.l0.cellgroup_s_d_d_d","floor.13":"t.l0.cellgroup_d_d_s_d",
"floor.14":"t.l0.cellgroup_d_s_d_d","floor.15":"t.l0.cellgroup_d_d_d_s","floor.16":"t.l0.cellgroup_s_d_d_s","floor.17":"t.l0.cellgroup_d_s_s_d","floor.18":"t.l0.cellgroup_s_s_d_d","floor.19":"t.l0.cellgroup_d_d_s_s","floor.20":"t.l0.cellgroup_s_d_d_l","floor.21":"t.l0.cellgroup_d_l_s_d","floor.22":"t.l0.cellgroup_l_s_d_d","floor.23":"t.l0.cellgroup_d_d_l_s","floor.24":"t.l0.cellgroup_l_d_d_d","floor.25":"t.l0.cellgroup_d_d_l_d","floor.26":"t.l0.cellgroup_d_l_d_d","floor.27":"t.l0.cellgroup_d_d_d_l",
"floor.28":"t.l0.cellgroup_l_d_d_s","floor.29":"t.l0.cellgroup_d_s_l_d","floor.30":"t.l0.cellgroup_s_l_d_d","floor.31":"t.l0.cellgroup_d_d_s_l","floor.32":"t.l0.cellgroup_l_d_d_l","floor.33":"t.l0.cellgroup_d_l_l_d","floor.34":"t.l0.cellgroup_l_l_d_d","floor.35":"t.l0.cellgroup_d_d_l_l","floor.36":"t.l0.cellgroup_d_s_d_d","floor.37":"t.l0.cellgroup_d_d_d_s","floor.38":"t.l0.cellgroup_d_d_s_d","floor.39":"t.l0.cellgroup_s_d_d_d","floor.40":"t.l0.cellgroup_d_s_d_s","floor.41":"t.l0.cellgroup_d_s_d_s",
"floor.42":"t.l0.cellgroup_s_d_s_d","floor.43":"t.l0.cellgroup_s_d_s_d","floor.44":"t.l0.cellgroup_d_s_d_l","floor.45":"t.l0.cellgroup_d_l_d_s","floor.46":"t.l0.cellgroup_l_d_s_d","floor.47":"t.l0.cellgroup_s_d_l_d","floor.48":"t.l0.cellgroup_s_s_d_d","floor.49":"t.l0.cellgroup_d_d_s_s","floor.50":"t.l0.cellgroup_d_s_s_d","floor.51":"t.l0.cellgroup_s_d_d_s","floor.52":"t.l0.cellgroup_s_s_d_s","floor.53":"t.l0.cellgroup_d_s_s_s","floor.54":"t.l0.cellgroup_s_s_s_d","floor.55":"t.l0.cellgroup_s_d_s_s",
"floor.56":"t.l0.cellgroup_s_s_d_l","floor.57":"t.l0.cellgroup_d_l_s_s","floor.58":"t.l0.cellgroup_l_s_s_d","floor.59":"t.l0.cellgroup_s_d_l_s","floor.60":"t.l0.cellgroup_l_s_d_d","floor.61":"t.l0.cellgroup_d_d_l_s","floor.62":"t.l0.cellgroup_d_l_s_d","floor.63":"t.l0.cellgroup_s_d_d_l","floor.64":"t.l0.cellgroup_l_s_d_s","floor.65":"t.l0.cellgroup_d_s_l_s","floor.66":"t.l0.cellgroup_s_l_s_d","floor.67":"t.l0.cellgroup_s_d_s_l","floor.68":"t.l0.cellgroup_l_s_d_l","floor.69":"t.l0.cellgroup_d_l_l_s",
"floor.70":"t.l0.cellgroup_l_l_s_d","floor.71":"t.l0.cellgroup_s_d_l_l","floor.72":"t.l0.cellgroup_d_l_d_d","floor.73":"t.l0.cellgroup_d_d_d_l","floor.74":"t.l0.cellgroup_d_d_l_d","floor.75":"t.l0.cellgroup_l_d_d_d","floor.76":"t.l0.cellgroup_d_l_d_s","floor.77":"t.l0.cellgroup_d_s_d_l","floor.78":"t.l0.cellgroup_s_d_l_d","floor.79":"t.l0.cellgroup_l_d_s_d","floor.80":"t.l0.cellgroup_d_l_d_l","floor.81":"t.l0.cellgroup_d_l_d_l","floor.82":"t.l0.cellgroup_l_d_l_d","floor.83":"t.l0.cellgroup_l_d_l_d",
"floor.84":"t.l0.cellgroup_s_l_d_d","floor.85":"t.l0.cellgroup_d_d_s_l","floor.86":"t.l0.cellgroup_d_s_l_d","floor.87":"t.l0.cellgroup_l_d_d_s","floor.88":"t.l0.cellgroup_s_l_d_s","floor.89":"t.l0.cellgroup_d_s_s_l","floor.90":"t.l0.cellgroup_s_s_l_d","floor.91":"t.l0.cellgroup_l_d_s_s","floor.92":"t.l0.cellgroup_s_l_d_l","floor.93":"t.l0.cellgroup_d_l_s_l","floor.94":"t.l0.cellgroup_l_s_l_d","floor.95":"t.l0.cellgroup_l_d_l_s","floor.96":"t.l0.cellgroup_l_l_d_d","floor.97":"t.l0.cellgroup_d_d_l_l",
"floor.98":"t.l0.cellgroup_d_l_l_d","floor.99":"t.l0.cellgroup_l_d_d_l","floor.100":"t.l0.cellgroup_l_l_d_s","floor.101":"t.l0.cellgroup_d_s_l_l","floor.102":"t.l0.cellgroup_s_l_l_d","floor.103":"t.l0.cellgroup_l_d_s_l","floor.104":"t.l0.cellgroup_l_l_d_l","floor.105":"t.l0.cellgroup_d_l_l_l","floor.106":"t.l0.cellgroup_l_l_l_d","floor.107":"t.l0.cellgroup_l_d_l_l"};var bmp_lib={};
bmp_lib.render=function(b,c,e){if(typeof b=="string")b=document.getElementById(b);if(!b||!b.tagName)throw"bmp_lib.render: Invalid element: "+b;else if(b.tagName=="IMG")b.src=this.imageSource(c,e);else if(b.tagName=="TABLE"){c=this.tableBody(c,e);if("outerHTML"in b){for(e=b.rows.length-1;e>=0;e--)b.deleteRow(e);e=b.outerHTML;e=e.substring(0,e.indexOf(">")+1);var f=document.createElement("DIV");f.innerHTML=e+c+"</table>";b.parentElement.replaceChild(f.firstChild,b)}else b.innerHTML=c}else throw"bmp_lib.render: Invalid HTML tag: "+b.tagName;
};bmp_lib.imageSource=function(b,c){b=this.normalize_(b,c);return"data:image/bmp;base64,"+this.encode64_(this.createBmp_(b[0],b[1]))};bmp_lib.tableBody=function(b,c){c=this.normalize_(b,c);b=c[0];c=c[1];for(var e=b.length,f=e&&b[0].length,k,m=[],p=0;p<e;p++){row=[];for(var x=0;x<f;x++){k=c?c[b[p].charCodeAt(x)]:b[p][x];k=this.dec2hex_(k[0])+this.dec2hex_(k[1])+this.dec2hex_(k[2]);row[x]="<TD BGCOLOR=#"+k+"><img width=1 height=1></TD>"}row.unshift("<TR>");row.push("</TR>");m[p]=row.join("")}return m.join("\n")};
bmp_lib.normalize_=function(b,c){if(b.length==0)c=null;else if(typeof b[0]=="string"&&c)c=c;else if(typeof b[0]=="object"&&typeof b[0][0]=="number"&&c){b=this.arrayArrayToArrayStr_(b);c=c}else if(typeof b[0]=="object"&&typeof b[0][0]=="object"&&b[0][0].length>=3)c=null;else throw"Invalid argument types.";return[b,c]};
bmp_lib.createBmp_=function(b,c){var e=b.length,f=e&&b[0].length,k=this.multixbyteEncode_(e,4),m=this.multixbyteEncode_(f,4),p=this.multixbyteEncode_(40,4),x;if(c&&c.length<=256)x=8;else{x=24;if(c)b=this.depalette_(b,c);c=null}var q=this.multixbyteEncode_(x,2);k=p+m+k+"\u0001\u0000"+q+"\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000";if(x!=24){q=String(c);if(bmp_lib.createBmp_.palette_str_cache==q)m=bmp_lib.createBmp_.rgbQuad_cache;
else{m=[];var v=0,w=0,C=0;for(p=0;p<256;p++){if(p<c.length){v=c[p][0];w=c[p][1];C=c[p][2]}m[p]=String.fromCharCode(C,w,v,0)}m=m.join("");bmp_lib.createBmp_.palette_str_cache=q;bmp_lib.createBmp_.rgbQuad_cache=m}}else m="";c=f%4==1?"\u0000\u0000\u0000":f%4==2?"\u0000\u0000":f%4==3?"\u0000":"";if(x==24)c=c+c+c;q=[];for(v=0;v<e;v++){w=b[e-v-1];if(x==8)q[v]=w+c;else if(x==24){for(p=0;p<f;p++)q.push(String.fromCharCode(w[p][2],w[p][1],w[p][0]));q.push(c)}}q=q.join("");b="BMxxxx\u0000\u0000\u0000\u0000yyyy"+
k+m+q;b=b.replace(/yyyy/,this.multixbyteEncode_(14+k.length+m.length,4));return b=b.replace(/xxxx/,this.multixbyteEncode_(b.length,4))};bmp_lib.createBmp_.palette_str_cache="";bmp_lib.createBmp_.rgbQuad_cache="";bmp_lib.multixbyteEncode_=function(b,c){if(b<0||c<0)throw"Negative numbers not allowed.";for(var e=1,f="",k=0;k<c;k++){var m=0;if(b!=0){var p=e*256;m=b%p;b-=m;m/=e;e=p}f+=String.fromCharCode(m)}if(b!=0)throw"Overflow, number too big for string length";return f};
bmp_lib.arrayArrayToArrayStr_=function(b){for(var c=Array(b.length),e=0;e<b.length;e++){line=[];for(var f=0;f<b[e].length;f++)line[f]=String.fromCharCode(b[e][f]);c[e]=line.join("")}return c};bmp_lib.depalette_=function(b,c){for(var e=Array(b.length),f=0;f<b.length;f++){e[f]=[];for(var k=0;k<b[f].length;k++)e[f][k]=c[b[f].charCodeAt(k)]}return e};bmp_lib.dec2hex_=function(b){var c=b%16;return bmp_lib.dec2hex_.hexChars.charAt((b-c)/16)+bmp_lib.dec2hex_.hexChars.charAt(c)};
bmp_lib.dec2hex_.hexChars="0123456789ABCDEF";bmp_lib.encode64_=function(b){var c="",e=0;do{var f=b.charCodeAt(e++),k=b.charCodeAt(e++),m=b.charCodeAt(e++),p=f>>2;f=(f&3)<<4|k>>4;var x=(k&15)<<2|m>>6,q=m&63;if(isNaN(k))x=q=64;else if(isNaN(m))q=64;c=c+bmp_lib.encode64_.keyStr.charAt(p)+bmp_lib.encode64_.keyStr.charAt(f)+bmp_lib.encode64_.keyStr.charAt(x)+bmp_lib.encode64_.keyStr.charAt(q)}while(e<b.length);return c};bmp_lib.encode64_.keyStr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";
if("btoa"in window&&typeof window.btoa=="function"&&window.btoa("hello")=="aGVsbG8=")bmp_lib.encode64_=function(b){return window.btoa(b)};function canvas_put_rectangle(b,c,e,f,k,m){if(is_canvas_supported()){b.fillStyle=c;b.fillRect(e,f,e+k,f+m)}}function canvas_put_sprite(b,c,e,f,k,m){is_canvas_supported()?mapview_put_tile(b,f.key,c+k,e+m):mapview_put_tile_ie(b,f.key,c+k,e+m)}function is_canvas_supported(){return window.CanvasRenderingContext2D}function is_canvas_clipping_supported(){return!jQuery.browser.opera};var CanvasTextFunctions={};
CanvasTextFunctions.letters={" ":{width:16,points:[]},"!":{width:10,points:[[5,21],[5,7],[-1,-1],[5,2],[4,1],[5,0],[6,1],[5,2]]},'"':{width:16,points:[[4,21],[4,14],[-1,-1],[12,21],[12,14]]},"#":{width:21,points:[[11,25],[4,-7],[-1,-1],[17,25],[10,-7],[-1,-1],[4,12],[18,12],[-1,-1],[3,6],[17,6]]},$:{width:20,points:[[8,25],[8,-4],[-1,-1],[12,25],[12,-4],[-1,-1],[17,18],[15,20],[12,21],[8,21],[5,20],[3,18],[3,16],[4,14],[5,13],[7,12],[13,10],[15,9],[16,8],[17,6],[17,3],[15,1],[12,0],[8,0],[5,1],[3,
3]]},"%":{width:24,points:[[21,21],[3,0],[-1,-1],[8,21],[10,19],[10,17],[9,15],[7,14],[5,14],[3,16],[3,18],[4,20],[6,21],[8,21],[10,20],[13,19],[16,19],[19,20],[21,21],[-1,-1],[17,7],[15,6],[14,4],[14,2],[16,0],[18,0],[20,1],[21,3],[21,5],[19,7],[17,7]]},"&":{width:26,points:[[23,12],[23,13],[22,14],[21,14],[20,13],[19,11],[17,6],[15,3],[13,1],[11,0],[7,0],[5,1],[4,2],[3,4],[3,6],[4,8],[5,9],[12,13],[13,14],[14,16],[14,18],[13,20],[11,21],[9,20],[8,18],[8,16],[9,13],[11,10],[16,3],[18,1],[20,0],[22,
0],[23,1],[23,2]]},"'":{width:10,points:[[5,19],[4,20],[5,21],[6,20],[6,18],[5,16],[4,15]]},"(":{width:14,points:[[11,25],[9,23],[7,20],[5,16],[4,11],[4,7],[5,2],[7,-2],[9,-5],[11,-7]]},")":{width:14,points:[[3,25],[5,23],[7,20],[9,16],[10,11],[10,7],[9,2],[7,-2],[5,-5],[3,-7]]},"*":{width:16,points:[[8,21],[8,9],[-1,-1],[3,18],[13,12],[-1,-1],[13,18],[3,12]]},"+":{width:26,points:[[13,18],[13,0],[-1,-1],[4,9],[22,9]]},",":{width:10,points:[[6,1],[5,0],[4,1],[5,2],[6,1],[6,-1],[5,-3],[4,-4]]},"-":{width:26,
points:[[4,9],[22,9]]},".":{width:10,points:[[5,2],[4,1],[5,0],[6,1],[5,2]]},"/":{width:22,points:[[20,25],[2,-7]]},"0":{width:20,points:[[9,21],[6,20],[4,17],[3,12],[3,9],[4,4],[6,1],[9,0],[11,0],[14,1],[16,4],[17,9],[17,12],[16,17],[14,20],[11,21],[9,21]]},"1":{width:20,points:[[6,17],[8,18],[11,21],[11,0]]},"2":{width:20,points:[[4,16],[4,17],[5,19],[6,20],[8,21],[12,21],[14,20],[15,19],[16,17],[16,15],[15,13],[13,10],[3,0],[17,0]]},"3":{width:20,points:[[5,21],[16,21],[10,13],[13,13],[15,12],
[16,11],[17,8],[17,6],[16,3],[14,1],[11,0],[8,0],[5,1],[4,2],[3,4]]},"4":{width:20,points:[[13,21],[3,7],[18,7],[-1,-1],[13,21],[13,0]]},"5":{width:20,points:[[15,21],[5,21],[4,12],[5,13],[8,14],[11,14],[14,13],[16,11],[17,8],[17,6],[16,3],[14,1],[11,0],[8,0],[5,1],[4,2],[3,4]]},"6":{width:20,points:[[16,18],[15,20],[12,21],[10,21],[7,20],[5,17],[4,12],[4,7],[5,3],[7,1],[10,0],[11,0],[14,1],[16,3],[17,6],[17,7],[16,10],[14,12],[11,13],[10,13],[7,12],[5,10],[4,7]]},"7":{width:20,points:[[17,21],[7,
0],[-1,-1],[3,21],[17,21]]},"8":{width:20,points:[[8,21],[5,20],[4,18],[4,16],[5,14],[7,13],[11,12],[14,11],[16,9],[17,7],[17,4],[16,2],[15,1],[12,0],[8,0],[5,1],[4,2],[3,4],[3,7],[4,9],[6,11],[9,12],[13,13],[15,14],[16,16],[16,18],[15,20],[12,21],[8,21]]},"9":{width:20,points:[[16,14],[15,11],[13,9],[10,8],[9,8],[6,9],[4,11],[3,14],[3,15],[4,18],[6,20],[9,21],[10,21],[13,20],[15,18],[16,14],[16,9],[15,4],[13,1],[10,0],[8,0],[5,1],[4,3]]},":":{width:10,points:[[5,14],[4,13],[5,12],[6,13],[5,14],[-1,
-1],[5,2],[4,1],[5,0],[6,1],[5,2]]},",":{width:10,points:[[5,14],[4,13],[5,12],[6,13],[5,14],[-1,-1],[6,1],[5,0],[4,1],[5,2],[6,1],[6,-1],[5,-3],[4,-4]]},"<":{width:24,points:[[20,18],[4,9],[20,0]]},"=":{width:26,points:[[4,12],[22,12],[-1,-1],[4,6],[22,6]]},">":{width:24,points:[[4,18],[20,9],[4,0]]},"?":{width:18,points:[[3,16],[3,17],[4,19],[5,20],[7,21],[11,21],[13,20],[14,19],[15,17],[15,15],[14,13],[13,12],[9,10],[9,7],[-1,-1],[9,2],[8,1],[9,0],[10,1],[9,2]]},"@":{width:27,points:[[18,13],[17,
15],[15,16],[12,16],[10,15],[9,14],[8,11],[8,8],[9,6],[11,5],[14,5],[16,6],[17,8],[-1,-1],[12,16],[10,14],[9,11],[9,8],[10,6],[11,5],[-1,-1],[18,16],[17,8],[17,6],[19,5],[21,5],[23,7],[24,10],[24,12],[23,15],[22,17],[20,19],[18,20],[15,21],[12,21],[9,20],[7,19],[5,17],[4,15],[3,12],[3,9],[4,6],[5,4],[7,2],[9,1],[12,0],[15,0],[18,1],[20,2],[21,3],[-1,-1],[19,16],[18,8],[18,6],[19,5]]},A:{width:18,points:[[9,21],[1,0],[-1,-1],[9,21],[17,0],[-1,-1],[4,7],[14,7]]},B:{width:21,points:[[4,21],[4,0],[-1,
-1],[4,21],[13,21],[16,20],[17,19],[18,17],[18,15],[17,13],[16,12],[13,11],[-1,-1],[4,11],[13,11],[16,10],[17,9],[18,7],[18,4],[17,2],[16,1],[13,0],[4,0]]},C:{width:21,points:[[18,16],[17,18],[15,20],[13,21],[9,21],[7,20],[5,18],[4,16],[3,13],[3,8],[4,5],[5,3],[7,1],[9,0],[13,0],[15,1],[17,3],[18,5]]},D:{width:21,points:[[4,21],[4,0],[-1,-1],[4,21],[11,21],[14,20],[16,18],[17,16],[18,13],[18,8],[17,5],[16,3],[14,1],[11,0],[4,0]]},E:{width:19,points:[[4,21],[4,0],[-1,-1],[4,21],[17,21],[-1,-1],[4,
11],[12,11],[-1,-1],[4,0],[17,0]]},F:{width:18,points:[[4,21],[4,0],[-1,-1],[4,21],[17,21],[-1,-1],[4,11],[12,11]]},G:{width:21,points:[[18,16],[17,18],[15,20],[13,21],[9,21],[7,20],[5,18],[4,16],[3,13],[3,8],[4,5],[5,3],[7,1],[9,0],[13,0],[15,1],[17,3],[18,5],[18,8],[-1,-1],[13,8],[18,8]]},H:{width:22,points:[[4,21],[4,0],[-1,-1],[18,21],[18,0],[-1,-1],[4,11],[18,11]]},I:{width:8,points:[[4,21],[4,0]]},J:{width:16,points:[[12,21],[12,5],[11,2],[10,1],[8,0],[6,0],[4,1],[3,2],[2,5],[2,7]]},K:{width:21,
points:[[4,21],[4,0],[-1,-1],[18,21],[4,7],[-1,-1],[9,12],[18,0]]},L:{width:17,points:[[4,21],[4,0],[-1,-1],[4,0],[16,0]]},M:{width:24,points:[[4,21],[4,0],[-1,-1],[4,21],[12,0],[-1,-1],[20,21],[12,0],[-1,-1],[20,21],[20,0]]},N:{width:22,points:[[4,21],[4,0],[-1,-1],[4,21],[18,0],[-1,-1],[18,21],[18,0]]},O:{width:22,points:[[9,21],[7,20],[5,18],[4,16],[3,13],[3,8],[4,5],[5,3],[7,1],[9,0],[13,0],[15,1],[17,3],[18,5],[19,8],[19,13],[18,16],[17,18],[15,20],[13,21],[9,21]]},P:{width:21,points:[[4,21],
[4,0],[-1,-1],[4,21],[13,21],[16,20],[17,19],[18,17],[18,14],[17,12],[16,11],[13,10],[4,10]]},Q:{width:22,points:[[9,21],[7,20],[5,18],[4,16],[3,13],[3,8],[4,5],[5,3],[7,1],[9,0],[13,0],[15,1],[17,3],[18,5],[19,8],[19,13],[18,16],[17,18],[15,20],[13,21],[9,21],[-1,-1],[12,4],[18,-2]]},R:{width:21,points:[[4,21],[4,0],[-1,-1],[4,21],[13,21],[16,20],[17,19],[18,17],[18,15],[17,13],[16,12],[13,11],[4,11],[-1,-1],[11,11],[18,0]]},S:{width:20,points:[[17,18],[15,20],[12,21],[8,21],[5,20],[3,18],[3,16],
[4,14],[5,13],[7,12],[13,10],[15,9],[16,8],[17,6],[17,3],[15,1],[12,0],[8,0],[5,1],[3,3]]},T:{width:16,points:[[8,21],[8,0],[-1,-1],[1,21],[15,21]]},U:{width:22,points:[[4,21],[4,6],[5,3],[7,1],[10,0],[12,0],[15,1],[17,3],[18,6],[18,21]]},V:{width:18,points:[[1,21],[9,0],[-1,-1],[17,21],[9,0]]},W:{width:24,points:[[2,21],[7,0],[-1,-1],[12,21],[7,0],[-1,-1],[12,21],[17,0],[-1,-1],[22,21],[17,0]]},X:{width:20,points:[[3,21],[17,0],[-1,-1],[17,21],[3,0]]},Y:{width:18,points:[[1,21],[9,11],[9,0],[-1,
-1],[17,21],[9,11]]},Z:{width:20,points:[[17,21],[3,0],[-1,-1],[3,21],[17,21],[-1,-1],[3,0],[17,0]]},"[":{width:14,points:[[4,25],[4,-7],[-1,-1],[5,25],[5,-7],[-1,-1],[4,25],[11,25],[-1,-1],[4,-7],[11,-7]]},"\\":{width:14,points:[[0,21],[14,-3]]},"]":{width:14,points:[[9,25],[9,-7],[-1,-1],[10,25],[10,-7],[-1,-1],[3,25],[10,25],[-1,-1],[3,-7],[10,-7]]},"^":{width:16,points:[[6,15],[8,18],[10,15],[-1,-1],[3,12],[8,17],[13,12],[-1,-1],[8,17],[8,0]]},_:{width:16,points:[[0,-2],[16,-2]]},"`":{width:10,
points:[[6,21],[5,20],[4,18],[4,16],[5,15],[6,16],[5,17]]},a:{width:19,points:[[15,14],[15,0],[-1,-1],[15,11],[13,13],[11,14],[8,14],[6,13],[4,11],[3,8],[3,6],[4,3],[6,1],[8,0],[11,0],[13,1],[15,3]]},b:{width:19,points:[[4,21],[4,0],[-1,-1],[4,11],[6,13],[8,14],[11,14],[13,13],[15,11],[16,8],[16,6],[15,3],[13,1],[11,0],[8,0],[6,1],[4,3]]},c:{width:18,points:[[15,11],[13,13],[11,14],[8,14],[6,13],[4,11],[3,8],[3,6],[4,3],[6,1],[8,0],[11,0],[13,1],[15,3]]},d:{width:19,points:[[15,21],[15,0],[-1,-1],
[15,11],[13,13],[11,14],[8,14],[6,13],[4,11],[3,8],[3,6],[4,3],[6,1],[8,0],[11,0],[13,1],[15,3]]},e:{width:18,points:[[3,8],[15,8],[15,10],[14,12],[13,13],[11,14],[8,14],[6,13],[4,11],[3,8],[3,6],[4,3],[6,1],[8,0],[11,0],[13,1],[15,3]]},f:{width:12,points:[[10,21],[8,21],[6,20],[5,17],[5,0],[-1,-1],[2,14],[9,14]]},g:{width:19,points:[[15,14],[15,-2],[14,-5],[13,-6],[11,-7],[8,-7],[6,-6],[-1,-1],[15,11],[13,13],[11,14],[8,14],[6,13],[4,11],[3,8],[3,6],[4,3],[6,1],[8,0],[11,0],[13,1],[15,3]]},h:{width:19,
points:[[4,21],[4,0],[-1,-1],[4,10],[7,13],[9,14],[12,14],[14,13],[15,10],[15,0]]},i:{width:8,points:[[3,21],[4,20],[5,21],[4,22],[3,21],[-1,-1],[4,14],[4,0]]},j:{width:10,points:[[5,21],[6,20],[7,21],[6,22],[5,21],[-1,-1],[6,14],[6,-3],[5,-6],[3,-7],[1,-7]]},k:{width:17,points:[[4,21],[4,0],[-1,-1],[14,14],[4,4],[-1,-1],[8,8],[15,0]]},l:{width:8,points:[[4,21],[4,0]]},m:{width:30,points:[[4,14],[4,0],[-1,-1],[4,10],[7,13],[9,14],[12,14],[14,13],[15,10],[15,0],[-1,-1],[15,10],[18,13],[20,14],[23,
14],[25,13],[26,10],[26,0]]},n:{width:19,points:[[4,14],[4,0],[-1,-1],[4,10],[7,13],[9,14],[12,14],[14,13],[15,10],[15,0]]},o:{width:19,points:[[8,14],[6,13],[4,11],[3,8],[3,6],[4,3],[6,1],[8,0],[11,0],[13,1],[15,3],[16,6],[16,8],[15,11],[13,13],[11,14],[8,14]]},p:{width:19,points:[[4,14],[4,-7],[-1,-1],[4,11],[6,13],[8,14],[11,14],[13,13],[15,11],[16,8],[16,6],[15,3],[13,1],[11,0],[8,0],[6,1],[4,3]]},q:{width:19,points:[[15,14],[15,-7],[-1,-1],[15,11],[13,13],[11,14],[8,14],[6,13],[4,11],[3,8],[3,
6],[4,3],[6,1],[8,0],[11,0],[13,1],[15,3]]},r:{width:13,points:[[4,14],[4,0],[-1,-1],[4,8],[5,11],[7,13],[9,14],[12,14]]},s:{width:17,points:[[14,11],[13,13],[10,14],[7,14],[4,13],[3,11],[4,9],[6,8],[11,7],[13,6],[14,4],[14,3],[13,1],[10,0],[7,0],[4,1],[3,3]]},t:{width:12,points:[[5,21],[5,4],[6,1],[8,0],[10,0],[-1,-1],[2,14],[9,14]]},u:{width:19,points:[[4,14],[4,4],[5,1],[7,0],[10,0],[12,1],[15,4],[-1,-1],[15,14],[15,0]]},v:{width:16,points:[[2,14],[8,0],[-1,-1],[14,14],[8,0]]},w:{width:22,points:[[3,
14],[7,0],[-1,-1],[11,14],[7,0],[-1,-1],[11,14],[15,0],[-1,-1],[19,14],[15,0]]},x:{width:17,points:[[3,14],[14,0],[-1,-1],[14,14],[3,0]]},y:{width:16,points:[[2,14],[8,0],[-1,-1],[14,14],[8,0],[6,-4],[4,-6],[2,-7],[1,-7]]},z:{width:17,points:[[14,14],[3,0],[-1,-1],[3,14],[14,14],[-1,-1],[3,0],[14,0]]},"{":{width:14,points:[[9,25],[7,24],[6,23],[5,21],[5,19],[6,17],[7,16],[8,14],[8,12],[6,10],[-1,-1],[7,24],[6,22],[6,20],[7,18],[8,17],[9,15],[9,13],[8,11],[4,9],[8,7],[9,5],[9,3],[8,1],[7,0],[6,-2],
[6,-4],[7,-6],[-1,-1],[6,8],[8,6],[8,4],[7,2],[6,1],[5,-1],[5,-3],[6,-5],[7,-6],[9,-7]]},"|":{width:8,points:[[4,25],[4,-7]]},"}":{width:14,points:[[5,25],[7,24],[8,23],[9,21],[9,19],[8,17],[7,16],[6,14],[6,12],[8,10],[-1,-1],[7,24],[8,22],[8,20],[7,18],[6,17],[5,15],[5,13],[6,11],[10,9],[6,7],[5,5],[5,3],[6,1],[7,0],[8,-2],[8,-4],[7,-6],[-1,-1],[8,8],[6,6],[6,4],[7,2],[8,1],[9,-1],[9,-3],[8,-5],[7,-6],[5,-7]]},"~":{width:24,points:[[3,6],[3,8],[4,11],[6,12],[8,12],[10,11],[14,8],[16,7],[18,7],[20,
8],[21,10],[-1,-1],[3,8],[4,10],[6,11],[8,11],[10,10],[14,7],[16,6],[18,6],[20,7],[21,10],[21,12]]}};CanvasTextFunctions.letter=function(b){return CanvasTextFunctions.letters[b]};CanvasTextFunctions.ascent=function(b,c){return c};CanvasTextFunctions.descent=function(b,c){return 7*c/25};CanvasTextFunctions.measure=function(b,c,e){b=0;var f=e.length;for(i=0;i<f;i++){var k=CanvasTextFunctions.letter(e.charAt(i));if(k)b+=k.width*c/25}return b};
CanvasTextFunctions.draw=function(b,c,e,f,k,m){c=m.length;e=e/25;b.save();b.lineCap="round";b.lineWidth=2*e;for(i=0;i<c;i++){var p=CanvasTextFunctions.letter(m.charAt(i));if(p){b.beginPath();var x=1;for(j=0;j<p.points.length;j++){var q=p.points[j];if(q[0]==-1&&q[1]==-1)x=1;else if(x){b.moveTo(f+q[0]*e,k-q[1]*e);x=false}else b.lineTo(f+q[0]*e,k-q[1]*e)}b.stroke();f+=p.width*e}}b.restore();return 0};
CanvasTextFunctions.enable=function(b){b.drawText=function(c,e,f,k,m){return CanvasTextFunctions.draw(b,c,e,f,k,m)};b.measureText=function(c,e,f){return CanvasTextFunctions.measure(c,e,f)};b.fontAscent=function(c,e){return CanvasTextFunctions.ascent(c,e)};b.fontDescent=function(c,e){return CanvasTextFunctions.descent(c,e)};b.drawTextRight=function(c,e,f,k,m){var p=CanvasTextFunctions.measure(c,e,m);return CanvasTextFunctions.draw(b,c,e,f-p,k,m)};b.drawTextCenter=function(c,e,f,k,m){var p=CanvasTextFunctions.measure(c,
e,m);return CanvasTextFunctions.draw(b,c,e,f-p/2,k,m)}};var cities={},city_rules={},active_city=null,I_NEVER=-1,I_DESTROYED=-2;function city_tile(b){if(b==null)return null;return b.tile!=null?b.tile:map_pos_to_tile(b.x,b.y)}function city_owner_player_id(b){if(b==null)return null;return b.owner}function city_owner(b){return players[city_owner_player_id(b)]}function remove_city(b){if(b!=null){b=cities[city_id];b!=null&&cities.indexOf(b)>=0&&cities.splice(cities.indexOf(b),1)}}function is_city_center(b,c){return b.x==c.x&&b.y==c.y}
function is_free_worked(b,c){return b.tile==c}function show_city_dialog_by_id(b){show_city_dialog(cities[b])}
function show_city_dialog(b){var c=FC_INFINITY;active_city=b;if(b!=null){set_city_mapview_active();center_tile_mapcanvas(city_tile(b));$("#tabs-map").addClass("ui-tabs-hide");$("#tabs-cit").removeClass("ui-tabs-hide");$("#map_tab").removeClass("ui-state-active");$("#map_tab").removeClass("ui-tabs-selected");$("#map_tab").addClass("ui-state-default");$("#city_heading").html(b.name);$("#city_size").html("City size: "+b.size);if(b.production_kind==VUT_UTYPE){c=unit_types[b.production_value];$("#city_production").html("Producing: "+
c.name);c=city_turns_to_build(b,c,true)}if(b.production_kind==VUT_IMPROVEMENT){c=improvements[b.production_value];$("#city_production").html("Producing: "+c.name);c=city_turns_to_build(b,c,true)}c!=FC_INFINITY&&$("#city_production_turns").html("Turns to completion: "+c);for(var e="",f=0;f<b.improvements.length;f++)if(b.improvements[f]==1){c=get_improvement_image_sprite(improvements[f]);e=e+"<div style='background: transparent url("+c["image-src"]+");background-position:-"+c["tileset-x"]+"px -"+c["tileset-y"]+
"px;  width: "+c.width+"px;height: "+c.height+"px;float:left; '></div>"}$("#city_improvements_list").html(e);e=[];for(unit_type_id in unit_types){c=unit_types[unit_type_id];c.name=="Barbarian Leader"||c.name=="Leader"||can_city_build_unit_now(b,c)==true&&e.push({kind:VUT_UTYPE,value:c.id,text:c.name,sprite:get_unit_type_image_sprite(c)})}for(improvement_id in improvements){c=improvements[improvement_id];can_city_build_improvement_now(b,c)&&e.push({kind:VUT_IMPROVEMENT,value:c.id,text:c.name,sprite:get_improvement_image_sprite(c)})}f=
"";for(var k=0;k<e.length;k++){var m=b.production_kind==e[k].kind&&b.production_value==e[k].value;c=e[k].sprite;f=f+"<div style='text-align: center; "+(m?"background-color:#777777; text:#000000; border: 1px solid #ffffff;":"")+"' onclick='send_city_change("+b.id+","+e[k].kind+","+e[k].value+")'><div id='production_list_item' style='cursor:pointer;cursor:hand; background: transparent url("+c["image-src"]+");background-position:-"+c["tileset-x"]+"px -"+c["tileset-y"]+"px;  width: "+c.width+"px;height: "+
c.height+"px;float:left; '></div>"+e[k].text+"</div>"}$("#city_production_choices").html(f);b=tile_units(city_tile(b));if(b!=null){e="";for(f=0;f<b.length;f++){k=b[f];c=unit_type(k);c=get_unit_image_sprite(k);e=e+"<div id='game_unit_list_item' style='cursor:pointer;cursor:hand; background: transparent url("+c["image-src"]+");background-position:-"+c["tileset-x"]+"px -"+c["tileset-y"]+"px;  width: "+c.width+"px;height: "+c.height+"px;float:left; ' onclick='city_dialog_activate_unit(units["+k.id+"]);'></div>"}$("#city_present_units_list").html(e)}}}
function can_city_build_unit_direct(b,c){if(!can_player_build_unit_direct(city_owner(b),c))return false;return true}function can_city_build_unit_now(b,c){if(!can_city_build_unit_direct(b,c))return false;for(;(c=c.obsoleted_by)!=U_NOT_OBSOLETED;)if(can_player_build_unit_direct(city_owner(b),c))return false;return true}function can_city_build_improvement_direct(b,c){if(!can_player_build_improvement_direct(city_owner(b),c))return false;if(city_has_building(b,c))return false;return true}
function can_city_build_improvement_now(b,c){if(!can_city_build_improvement_direct(b,c))return false;return true}function city_has_building(b,c){return false}function city_turns_to_build(b,c,e){var f=b.last_turns_shield_surplus,k=e?b.shield_stock:0;c=universal_build_shield_cost(c);return e==true&&b.shield_stock>=c?1:b.last_turns_shield_surplus>0?Math.floor((c-k-1)/f+1):FC_INFINITY}
function send_city_buy(){active_city!=null&&send_request(JSON.stringify([{packet_type:"city_buy",city_id:active_city.id}]))}function send_city_change(b,c,e){send_request(JSON.stringify([{packet_type:"city_change",city_id:b,production_kind:c,production_value:e}]))}
function close_city_dialog(){$("#tabs-map").removeClass("ui-tabs-hide");$("#tabs-cit").addClass("ui-tabs-hide");$("#map_tab").addClass("ui-state-active");$("#map_tab").addClass("ui-tabs-selected");$("#map_tab").removeClass("ui-state-default");set_default_mapview_active()};var client={};client.conn={};var client_frozen=false,chatbox_text=" ",previous_scroll=0,phase_start_time=0;
function civclient_init(){setup_crash_reporting();if(window.loadFirebugConsole)window.loadFirebugConsole();else window.console||(console={log:function(){},debug:function(){},info:function(){},warn:function(){},assert:function(){}});game_init();network_init();init_mapview();window.addEventListener?document.addEventListener("keyup",keyboard_listener,false):document.attachEvent("onkeyup",keyboard_listener);timeoutTimerId=setInterval("update_timeout()",1E3);update_game_status_panel();statusTimerId=setInterval("update_game_status_panel()",
6E3);if(!Array.indexOf)Array.prototype.indexOf=function(b){for(var c=0;c<this.length;c++)if(this[c]==b)return c;return-1};load_game_check();if(is_iphone())autostartTimerId=setTimeout("iphone_autostart();",1E3);else show_dialog_message("Welcome to Freeciv.net","You have now joined the game. Before the game begins, you can change game options or wait for more players to join the game.  Type /help in the command line below to find out how to customize the game. <br><br>Click the start game button to begin the game.")}
function add_chatbox_text(b){var c;c=civclient_state<=C_S_PREPARING?document.getElementById("pregame_message_area"):document.getElementById("game_message_area");chatbox_text=chatbox_text+b+"<br>";if(c!=null){c.innerHTML=chatbox_text;b=0;if(c.scrollHeight>0)b=c.scrollHeight;else if(c.offsetHeight>0)b=c.offsetHeight;if(previous_scroll<b)c.scrollTop=b;previous_scroll=b}}
function show_dialog_message(b,c){$("#dialog").html(c);$("#dialog").attr("title",b);$("#dialog").dialog({bgiframe:true,modal:true,width:"40%",buttons:{Ok:function(){$(this).dialog("close")}}});$("#dialog").dialog("open")}function is_server(){return false}function update_timeout(){var b=(new Date).getTime();if(game_info!=null&&game_info.timeout!=null&&game_info.timeout>0){b=game_info.timeout-Math.floor((b-phase_start_time)/1E3);b>=0&&$("#turn_done_button").text("Turn Done ("+b+"s)")}}
function set_phase_start(){phase_start_time=(new Date).getTime()}function show_help(){$.ajax({url:"/manual",async:false,success:function(b){$("#game_manual").html(b);$("#tabs_manual").tabs()}})};var C_S_INITIAL=0,C_S_PREPARING=1,C_S_RUNNING=2,C_S_OVER=3,civclient_state=C_S_INITIAL;function set_client_state(b){var c=C_S_PREPARING==civclient_state&&C_S_PREPARING==b;c=civclient_state;if(civclient_state!=b){civclient_state=b;switch(civclient_state){case C_S_RUNNING:chatbox_text=" ";show_new_game_message();set_client_page(PAGE_GAME);break;case C_S_OVER:break;case C_S_PREPARING:break;default:break}}}function client_state(){return civclient_state}
function can_client_change_view(){return(client.conn.playing!=null||client_is_observer())&&(C_S_RUNNING==client_state()||C_S_OVER==client_state())}function client_is_observer(){return client.conn.observer}
function show_new_game_message(){is_iphone()?show_dialog_message("Welcome to Freeciv.net","Welcome to Freeciv.net.  You lead a civilization.  Your\n      task is to conquer the world!"):show_dialog_message("Welcome to Freeciv.net","Welcome to Freeciv.net.  You lead a civilization.  Your\n      task is to conquer the world!  You should start by\n      exploring the land around you with your explorer,\n      and using your settlers to find a good place to build\n      a city.  Use the number pad to move units around.")};function client_tile_get_known(b){return tile_get_known(b)};var civwebserver_url_base="/civ",error_shown=false,syncTimerId=-1,isWorking=false;function network_init(){civwebserver_url=civwebserver_url_base+"?p="+civserverport+"&h="+civserverhost+"&u="+username;syncTimerId=jQuery.browser.msie?setInterval("sync_civclient()",200):setInterval("sync_civclient()",30);$(document).ajaxComplete(function(){isWorking=false})}function network_stop(){clearInterval(syncTimerId)}
function sync_civclient(){if(!isWorking){isWorking=true;if(!over_error_threshold()){var b=JSON.stringify([]);$.ajax({url:civwebserver_url,type:"POST",data:b,dataType:"json",success:client_handle_packet,error:function(c,e,f){js_breakpad_report("Network error: "+e+"\n"+c.status+"\n"+c.statusText+"\n\n"+c.responseText+"\n\n","clinet.js",62)}})}}}function send_request(b){$.post(civwebserver_url,b,client_handle_packet,"json")};var connections={};function find_conn_by_id(b){return connections[b]}function client_remove_cli_conn(b){delete connections[b.id]}function conn_list_append(b){connections[b.id]=b};var mouse_x,mouse_y,keyboard_input=true,current_focus=[],goto_active=false,SELECT_POPUP=0,SELECT_SEA=1,SELECT_LAND=2,SELECT_APPEND=3,intro_click_description=true;function mouse_moved_cb(b){mouse_y=mouse_x=0;if(!b)b=window.event;if(b.pageX||b.pageY){mouse_x=b.pageX;mouse_y=b.pageY}else if(b.clientX||b.clientY){mouse_x=b.clientX;mouse_y=b.clientY}if(mapview_canvas!=null){mouse_x-=mapview_canvas.offsetLeft;mouse_y-=mapview_canvas.offsetTop}}
function check_text_input(b,c){if(b.keyCode==13&&b.shiftKey==0){message=$(c).val();message=message.replace(/^\s+|\s+$/g,"");$(c).val("");$(c).focus();b=JSON.stringify([{packet_type:"chat_msg_req",message:message}]);send_request(b);return false}}function get_focus_unit_on_tile(b){var c=get_units_in_focus();if(c==null)return null;for(var e=0;e<c.length;e++){var f=c[e];if(f.x==b.x&&f.y==b.y)return f}return null}
function unit_is_in_focus(b){for(var c=get_units_in_focus(),e=0;e<c.length;e++)if(c[e].id==b.id)return true;return false}function get_units_in_focus(){return current_focus}function update_unit_focus(){for(var b=get_units_in_focus(),c=0;c<b.length;c++){var e=b[c];if(unit_has_goto(e)&&e.movesleft>0&&e.done_moving==false&&e.ai==false)return}advance_unit_focus()}
function advance_unit_focus(){if(!client_is_observer()){var b=get_units_in_focus();b=find_best_focus_candidate(false);if(b==null)b=find_best_focus_candidate(true);if(b!=null)set_unit_focus_and_redraw(b);else for(city_id in cities){b=cities[city_id];if(city_owner_player_id(b)==client.conn.playing.playerno){center_tile_mapcanvas(city_tile(b));break}}}}
function find_best_focus_candidate(b){if(client_is_observer())return null;for(unit_id in units){var c=units[unit_id];if((!unit_is_in_focus(c)||b)&&c.owner==client.conn.playing.playerno&&c.activity==ACTIVITY_IDLE&&c.movesleft>0&&c.done_moving==false&&c.ai==false&&c.transported==false)return c}return null}function set_unit_focus(b){current_focus=[];current_focus[0]=b}
function set_unit_focus_and_redraw(b){current_focus=[];if(b!=null)current_focus[0]=b;update_map_canvas_full();update_unit_info_label(current_focus);$("#game_unit_orders_default").show()}function city_dialog_activate_unit(b){request_new_unit_activity(b,ACTIVITY_IDLE);close_city_dialog();set_unit_focus_and_redraw(b)}function auto_center_on_focus_unit(){var b=find_a_focus_unit_tile_to_center_on();b!=null&&auto_center_on_unit&&center_tile_mapcanvas(b)}
function find_a_focus_unit_tile_to_center_on(){var b=current_focus[0];if(b==null)return null;return map_pos_to_tile(b.x,b.y)}function find_visible_unit(b){var c=null;c=c=c=null;if(unit_list_size(tile_units(b))==0)return null;c=get_focus_unit_on_tile(b);if(c!=null)return c;if(tile_city(b)!=null)return null;c=tile_units(b);for(var e=0;e<c.length;e++){var f=c[e];if(f.transported==false)return f}return tile_units(b)[0]}
function get_drawable_unit(b,c){b=find_visible_unit(b);if(b==null)return null;return!unit_is_in_focus(b)||current_focus.length>0?b:null}
function do_map_click(b,c){if(b!=null)if(goto_active){current_focus.length>0&&send_request(JSON.stringify([{packet_type:"unit_move",unit_id:current_focus[0].id,x:b.x,y:b.y}]));deactivate_goto();update_unit_focus()}else{c=tile_units(b);var e=tile_city(b);if(e!=null)e.owner==client.conn.playing.playerno&&show_city_dialog(e);else{if(c!=null&&c.length>0)if(c[0].owner==client.conn.playing.playerno)if(c.length==1){c=c[0];set_unit_focus_and_redraw(c);request_new_unit_activity(c,ACTIVITY_IDLE)}else{set_unit_focus_and_redraw(c[0]);
update_select_unit_dialog(c)}left_click_center()&&center_tile_mapcanvas(b)}}}function keyboard_listener(b){if(keyboard_input){if(!b)b=window.event;var c=String.fromCharCode(b.keyCode);civclient_handle_key(c,b.keyCode,b.ctrlKey,b.altKey,b.shiftKey)}}
function civclient_handle_key(b,c,e,f,k){switch(b){case "B":request_unit_build_city();break;case "G":current_focus.length>0&&activate_goto();break;case "X":key_unit_auto_explore();break;case "A":key_unit_auto_settle();break;case "R":key_unit_road();break;case "F":key_unit_fortify();break;case "I":key_unit_irrigate();break;case "P":key_unit_pillage();break;case "M":key_unit_mine();break;case "Q":f&&civclient_benchmark(0);break}switch(c){case 35:case 97:key_unit_move(DIR8_SOUTH);break;case 40:case 98:key_unit_move(DIR8_SOUTHEAST);
break;case 34:case 99:key_unit_move(DIR8_EAST);break;case 37:case 100:key_unit_move(DIR8_SOUTHWEST);break;case 39:case 102:key_unit_move(DIR8_NORTHEAST);break;case 36:case 103:key_unit_move(DIR8_WEST);break;case 38:case 104:key_unit_move(DIR8_NORTHWEST);break;case 33:case 105:key_unit_move(DIR8_NORTH);break}}
function activate_goto(){goto_active=true;mapview_canvas.style.cursor="crosshair";if(intro_click_description){add_chatbox_text("Click on the tile to send this unit to.");intro_click_description=false}}function deactivate_goto(){goto_active=false;mapview_canvas.style.cursor="default"}function send_end_turn(){send_request(JSON.stringify([{packet_type:"player_phase_done",turn:game_info.turn}]))}
function key_unit_auto_explore(){for(var b=get_units_in_focus(),c=0;c<b.length;c++)request_new_unit_activity(b[c],ACTIVITY_EXPLORE);update_unit_focus()}function key_unit_fortify(){for(var b=get_units_in_focus(),c=0;c<b.length;c++)request_new_unit_activity(b[c],ACTIVITY_FORTIFYING);update_unit_focus()}function key_unit_irrigate(){for(var b=get_units_in_focus(),c=0;c<b.length;c++)request_new_unit_activity(b[c],ACTIVITY_IRRIGATE);update_unit_focus()}
function key_unit_pillage(){for(var b=get_units_in_focus(),c=0;c<b.length;c++)request_new_unit_activity(b[c],ACTIVITY_PILLAGE);update_unit_focus()}function key_unit_mine(){for(var b=get_units_in_focus(),c=0;c<b.length;c++)request_new_unit_activity(b[c],ACTIVITY_MINE);update_unit_focus()}function key_unit_road(){for(var b=get_units_in_focus(),c=0;c<b.length;c++)request_new_unit_activity(b[c],ACTIVITY_ROAD);update_unit_focus()}
function key_unit_auto_settle(){for(var b=get_units_in_focus(),c=0;c<b.length;c++)request_unit_autosettlers(b[c]);update_unit_focus()}function request_new_unit_activity(b,c){send_request(JSON.stringify([{packet_type:"unit_change_activity",unit_id:b.id,activity:c,activity_target:S_LAST,activity_base:-1}]))}function request_unit_autosettlers(b){b!=null&&send_request(JSON.stringify([{packet_type:"unit_autosettlers",unit_id:b.id}]))}
function request_unit_build_city(){if(current_focus.length>0){var b=current_focus[0];b!=null&&send_request(JSON.stringify([{packet_type:"unit_build_city",name:"default",unit_id:b.id}]))}}function key_unit_disband(){for(var b=get_units_in_focus(),c=0;c<b.length;c++)send_request(JSON.stringify([{packet_type:"unit_disband",unit_id:b[c].id}]))}
function key_unit_move(b){if(current_focus.length>0){var c=current_focus[0];if(c==null)return;var e=map_pos_to_tile(c.x,c.y);if(e==null)return;b=mapstep(e,b);if(b==null)return;send_request(JSON.stringify([{packet_type:"unit_move",unit_id:c.id,x:b.x,y:b.y}]))}deactivate_goto()}
function process_diplomat_arrival(b,c){var e=game_find_city_by_number(c);if(game_find_unit_by_number(c)!=null){b=[{packet_type:"unit_diplomat_action",diplomat_id:b.id,target_id:c,value:0,action_type:DIPLOMAT_BRIBE}];send_request(JSON.stringify(b))}else if(e!=null){b=[{packet_type:"unit_diplomat_action",diplomat_id:b.id,target_id:c,value:0,action_type:DIPLOMAT_INCITE}];send_request(JSON.stringify(b))}}function left_click_center(){return is_iphone()||jQuery.browser.opera};function popup_diplomat_dialog(b,c){};var effects={};var TRUE=true,FALSE=false,MAX_NUM_ITEMS=200,FC_INFINITY=1E9,ACTIVITY_IDLE=0,ACTIVITY_POLLUTION=1,ACTIVITY_ROAD=2,ACTIVITY_MINE=3,ACTIVITY_IRRIGATE=4,ACTIVITY_FORTIFIED=5,ACTIVITY_FORTRESS=6,ACTIVITY_SENTRY=7,ACTIVITY_RAILROAD=8,ACTIVITY_PILLAGE=9,ACTIVITY_GOTO=10,ACTIVITY_EXPLORE=11,ACTIVITY_TRANSFORM=12,ACTIVITY_UNKNOWN=13,ACTIVITY_AIRBASE=14,ACTIVITY_FORTIFYING=15,ACTIVITY_FALLOUT=16,ACTIVITY_PATROL_UNUSED=17,ACTIVITY_BASE=18,ACTIVITY_LAST,VUT_NONE=0,VUT_ADVANCE=1,VUT_GOVERNMENT=2,VUT_IMPROVEMENT=
3,VUT_SPECIAL=4,VUT_TERRAIN=5,VUT_NATION=6,VUT_UTYPE=7,VUT_UTFLAG=8,VUT_UCLASS=9,VUT_UCFLAG=10,VUT_OTYPE=11,VUT_SPECIALIST=12,VUT_MINSIZE=13,VUT_AI_LEVEL=14,VUT_TERRAINCLASS=15,VUT_BASE=16,VUT_MINYEAR=17,VUT_TERRAINALTER=18,VUT_CITYTILE=19,VUT_LAST=20,RPT_POSSIBLE=0,RPT_CERTAIN=1;var tileset={"t.fog_k_u_k_k":[1,192,614,96,48],"t.fog_k_u_k_f":[1,96,614,96,48],"unit.irrigate":[2,768,304,96,48],"u.howitzer":[2,160,640,64,48],"f.netherlands":[2,1015,1622,29,20],"f.shield.cartago":[2,690,1160,14,14],"t.fog_k_u_k_u":[1,288,614,96,48],"t.l0.cellgroup_l_l_l_d.3":[1,624,1558,48,24],"t.fog_k_k_u_k":[1,864,566,96,48],"t.l0.cellgroup_l_l_l_d.1":[1,528,1558,48,24],"t.l0.cellgroup_l_l_l_d.0":[1,480,1558,48,24],"t.fog_k_k_u_f":[1,768,566,96,48],"t.fog_k_k_u_u":[1,960,566,96,48],"spaceship.fuel":[2,
1168,1290,60,60],"t.l1.forest_n0e1s0w1":[2,960,112,96,48],"t.l1.forest_n0e1s0w0":[2,192,112,96,48],"f.peru":[2,116,1644,29,20],"f.shield.mongolia":[2,574,1224,14,14],"f.quebec":[2,406,1644,29,20],"unit.pollution":[2,576,304,96,48],"cursor.edit_paint0":[2,352,1290,32,32],"cursor.edit_paint3":[2,448,1290,32,32],"cursor.edit_paint2":[2,416,1290,32,32],"cursor.edit_paint5":[2,512,1290,32,32],"cursor.edit_paint4":[2,480,1290,32,32],"t.t_river_n0e1s1w1":[2,384,880,96,48],"t.t_river_n0e1s1w0":[2,288,880,
96,48],"f.shield.north_korea":[2,686,1224,14,14],"unit.connect":[2,0,304,96,48],"t.fog_f_u_f_k":[1,1152,470,96,48],"t.l1.hills_n1e0s0w1":[2,192,256,96,48],"t.l1.hills_n1e0s0w0":[2,96,256,96,48],"t.fog_f_u_f_f":[1,1056,470,96,48],"city.electricage_occupied_0":[1,192,974,96,72],"t.fog_f_u_f_u":[1,0,518,96,48],"r.road_ne":[1,768,1726,96,48],"f.shield.innu":[2,56,1224,14,14],"r.road_nw":[2,96,16,96,48],"f.chola":[2,1188,1554,29,20],"tx.pollution":[2,192,64,96,48],"city.tropical_occupied_0":[1,96,14,96,
72],"t.l0.cellgroup_l_d_d_l.3":[1,432,1318,48,24],"t.l0.cellgroup_l_d_d_l.2":[1,384,1318,48,24],"t.l0.cellgroup_l_d_d_l.1":[1,336,1318,48,24],"t.l0.cellgroup_l_d_d_l.0":[1,288,1318,48,24],"f.argentina":[2,376,1554,29,20],"f.silesia":[2,725,1644,29,20],"t.l0.cellgroup_l_l_l_d.2":[1,576,1558,48,24],"explode.unit_2":[1,444,422,30,30],"explode.unit_3":[1,474,422,30,30],"explode.unit_0":[1,384,422,30,30],"f.shield.uyghur":[2,364,1238,14,14],"explode.unit_1":[1,414,422,30,30],"unit.loaded":[2,1152,256,
96,48],"a.communism":[2,384,1410,48,48],"a.map_making":[2,480,1458,48,48],"grid.selected.we":[1,192,758,96,48],"a.masonry":[2,528,1458,48,48],"explode.unit_4":[1,504,422,30,30],"ts.wine":[1,192,1678,96,48],"t.l1.coast_cell_l_i_w_w":[2,1200,928,48,24],"tx.s_river_n0e1s1w1":[2,96,832,96,48],"tx.s_river_n0e1s1w0":[2,0,832,96,48],"f.shield.muskogee":[2,588,1224,14,14],"city.postmodern_city_8":[1,288,1118,96,72],"t.l1.coast_cell_l_i_w_i":[2,144,976,48,24],"city.postmodern_city_0":[1,96,1118,96,72],"city.european_occupied_0":[1,
1030,758,96,72],"city.postmodern_city_4":[1,192,1118,96,72],"t.l1.floor_cell_r_i_i_w":[2,720,1E3,48,24],"t.l1.coast_cell_r_i_w_i":[2,528,976,48,24],"f.chile":[2,1130,1554,29,20],"t.l1.coast_cell_r_i_w_w":[2,336,976,48,24],"f.bosnia":[2,811,1554,29,20],"t.l1.floor_cell_r_i_i_i":[2,912,1E3,48,24],"t.l0.cellgroup_s_s_s_d.0":[1,864,1414,48,24],"t.l0.cellgroup_s_s_s_d.1":[1,912,1414,48,24],"t.l0.cellgroup_s_s_s_d.2":[1,960,1414,48,24],"t.l0.cellgroup_s_s_s_d.3":[1,1008,1414,48,24],"f.westphalia":[2,725,
1664,29,18],"f.illyria":[2,986,1602,29,20],"t.l1.coast_cell_l_i_i_i":[2,240,976,48,24],"t.l1.coast_cell_l_i_i_w":[2,48,976,48,24],"t.l1.coast_cell_u_i_i_i":[2,720,928,48,24],"t.l1.coast_cell_u_i_i_w":[2,528,928,48,24],"unit.hp_40":[2,864,352,96,48],"u.paratroopers":[2,640,736,64,48],"f.estonia":[2,319,1602,29,20],"upkeep.shield":[2,384,592,96,48],"f.himyar":[2,812,1602,29,20],"f.shield.chola":[2,760,1160,14,14],"b.research_lab":[1,768,374,64,48],"f.shield.poland":[2,868,1224,14,14],"u.elephants":[2,
704,736,64,48],"f.assyria":[2,434,1554,29,20],"city.european_city_16":[1,384,830,96,72],"b.great_library":[2,448,1048,64,48],"city.european_city_12":[1,288,830,96,72],"f.italy":[2,58,1622,29,20],"f.shield.taino":[2,70,1238,14,14],"f.shield.akwe":[2,298,1160,14,14],"r.rail_isolated":[2,192,16,96,48],"f.newzealand":[2,1044,1622,29,20],"f.shield.pakistan":[2,770,1224,14,14],"t.l1.floor_cell_r_i_w_i":[2,816,1E3,48,24],"f.samogitia":[2,580,1644,29,20],"city.t_food_8":[2,192,496,96,48],"city.t_food_9":[2,
288,496,96,48],"city.t_food_6":[2,0,496,96,48],"city.t_food_7":[2,96,496,96,48],"city.t_food_4":[2,1056,448,96,48],"city.t_food_5":[2,1152,448,96,48],"city.t_food_2":[2,864,448,96,48],"city.t_food_3":[2,960,448,96,48],"city.t_food_0":[2,672,448,96,48],"city.t_food_1":[2,768,448,96,48],"t.l1.coast_cell_r_i_i_i":[2,624,976,48,24],"t.l1.floor_cell_r_i_w_w":[2,624,1E3,48,24],"t.l1.mountains_n0e1s1w0":[2,864,160,96,48],"f.shield.europe":[2,984,1160,14,14],"t.fog_k_u_f_u":[1,0,614,96,48],"f.shield.mars":[2,
518,1224,14,14],"f.shield.normandy":[2,672,1224,14,14],"t.fog_k_u_f_f":[1,1056,566,96,48],"t.fog_k_u_f_k":[1,1152,566,96,48],"f.shield.sapmi":[2,1050,1224,14,14],"f.shield.canada":[2,676,1160,14,14],"f.khwarezm":[2,290,1622,29,20],"b.mfg_plant":[1,256,374,64,48],"f.france_old":[2,493,1602,29,18],"grid.worked.ns":[1,0,758,96,48],"f.shield.libya":[2,392,1224,14,14],"t.l0.cellgroup_s_d_l_d.0":[1,576,1486,48,24],"t.l0.cellgroup_s_d_l_d.1":[1,624,1486,48,24],"t.l0.cellgroup_s_d_l_d.2":[1,672,1486,48,24],
"t.l0.cellgroup_s_d_l_d.3":[1,720,1486,48,24],"f.shield.himyar":[2,1194,1160,14,14],"gov.despotism":[2,611,1238,15,20],"a.monarchy":[2,864,1458,48,48],"t.l1.forest_n1e1s1w1":[2,192,160,96,48],"t.l1.forest_n1e1s1w0":[2,672,112,96,48],"t.l0.cellgroup_l_l_d_l.3":[1,144,1390,48,24],"t.l0.cellgroup_l_l_d_l.2":[1,96,1390,48,24],"t.l0.cellgroup_l_l_d_l.1":[1,48,1390,48,24],"t.l0.cellgroup_l_l_d_l.0":[1,0,1390,48,24],"ts.tundra_game":[1,480,1678,96,48],"t.l1.forest_n1e0s0w1":[2,864,112,96,48],"t.l1.forest_n1e0s0w0":[2,
96,112,96,48],"a.metallurgy":[2,720,1458,48,48],"cursor.select2":[2,1102,1258,32,32],"cursor.select3":[2,1134,1258,32,32],"cursor.select0":[2,1038,1258,32,32],"cursor.select1":[2,1070,1258,32,32],"cursor.select4":[2,1166,1258,32,32],"cursor.select5":[2,1198,1258,32,32],"f.shield.estonia":[2,956,1160,14,14],"t.l1.mountains_n1e0s0w1":[2,1152,160,96,48],"t.l1.mountains_n1e0s0w0":[2,1056,160,96,48],"t.fog_f_u_k_f":[1,96,518,96,48],"cd.occupied":[1,864,902,96,72],"u.transport":[2,512,688,64,48],"f.myanmar":[2,
957,1622,29,20],"t.fog_f_u_k_k":[1,192,518,96,48],"a.chivalry":[2,192,1410,48,48],"t.fog_k_u_u_k":[1,480,614,96,48],"f.shield.nigeria":[2,658,1224,14,14],"s.cooling_flake_6":[2,911,1238,15,20],"grid.unavailable":[1,96,758,96,48],"t.fog_k_u_u_f":[1,384,614,96,48],"s.cooling_flake_7":[2,926,1238,15,20],"t.l1.hills_n0e1s0w1":[2,1056,208,96,48],"a.engineering":[2,816,1410,48,48],"t.l1.mountains_n0e0s1w1":[2,576,160,96,48],"t.l1.mountains_n0e0s1w0":[2,480,160,96,48],"t.fog_k_u_u_u":[1,576,614,96,48],"t.l1.hills_n0e0s0w0":[2,
576,208,96,48],"t.l1.hills_n0e0s0w1":[2,672,208,96,48],"city.babylonian_occupied_0":[1,384,14,96,72],"t.fog_f_u_u_k":[1,480,518,96,48],"t.fog_f_u_u_f":[1,384,518,96,48],"t.l0.cellgroup_l_d_l_d.3":[1,912,1486,48,24],"t.l0.cellgroup_l_d_l_d.2":[1,864,1486,48,24],"t.l0.cellgroup_l_d_l_d.1":[1,816,1486,48,24],"t.l0.cellgroup_l_d_l_d.0":[1,768,1486,48,24],"b.hanging_gardens":[2,576,1048,64,48],"t.fog_f_u_u_u":[1,576,518,96,48],"a.monotheism":[2,912,1458,48,48],"f.shield.palmyra":[2,784,1224,14,14],"city.classical_wall_0":[1,
96,230,96,72],"t.l0.cellgroup_s_d_s_d.3":[1,528,1390,48,24],"t.l0.cellgroup_s_d_s_d.2":[1,480,1390,48,24],"ev.wonderstart":[2,165,1258,15,20],"t.l0.cellgroup_s_d_s_d.0":[1,384,1390,48,24],"city.classical_wall_8":[1,288,230,96,72],"a.trade":[2,1104,1506,48,48],"cursor.nuke2":[2,910,1258,32,32],"f.bulgaria":[2,898,1554,29,20],"f.shield.hawaii":[2,1180,1160,14,14],"upkeep.gold2":[2,1152,544,96,48],"b.barracks_ii":[1,544,302,64,48],"u.trireme":[2,576,688,64,48],"f.bangladesh":[2,637,1554,29,20],"a.banking":[2,
1188,1350,48,48],"grid.selected.ns":[1,288,758,96,48],"f.shield.england":[2,928,1160,14,14],"explode.nuke_21":[2,1152,592,96,48],"b.mass_transit":[1,192,374,64,48],"t.fog_f_u_k_u":[1,288,518,96,48],"gov.anarchy":[2,596,1238,15,20],"city.postmodern_wall_8":[1,768,1118,96,72],"a.combined_arms":[2,288,1410,48,48],"b.magellans_expedition":[2,1024,1048,64,48],"city.postmodern_wall_0":[1,576,1118,96,72],"city.postmodern_wall_4":[1,672,1118,96,72],"b.michelangelos_chapel":[2,0,1096,64,48],"a.invention":[2,
96,1458,48,48],"treaty.disagree_thumb_down":[2,813,1664,30,30],"f.shield.stpatrick":[2,1246,1224,14,14],"b.seti_program":[2,192,1096,64,48],"city.postmodern_wall_12":[1,864,1118,96,72],"f.usa":[2,522,1664,29,20],"city.postmodern_wall_16":[1,960,1118,96,72],"f.austria":[2,492,1554,29,20],"f.shield.peru":[2,812,1224,14,14],"t.l1.floor_cell_r_w_i_w":[2,672,1E3,48,24],"t.l1.floor_cell_r_w_i_i":[2,864,1E3,48,24],"f.finland":[2,435,1602,29,20],"t.l0.cellgroup_d_s_s_l.0":[1,576,1438,48,24],"u.caravan":[2,
416,640,64,48],"u.freight":[2,1024,688,64,48],"unit.hp_70":[2,576,352,96,48],"f.greenland":[2,696,1602,29,20],"t.l0.cellgroup_l_s_s_s.0":[1,384,1438,48,24],"f.shield.ethiopia":[2,970,1160,14,14],"city.postmodern_occupied_0":[1,384,974,96,72],"city.asian_wall_0":[1,960,14,96,72],"t.l0.cellgroup_l_s_s_s.3":[1,528,1438,48,24],"city.asian_wall_4":[1,1056,14,96,72],"city.asian_wall_8":[1,1152,14,96,72],"city.t_trade_7":[2,768,544,96,48],"city.t_trade_6":[2,672,544,96,48],"city.t_trade_5":[2,576,544,96,
48],"city.t_trade_4":[2,480,544,96,48],"city.t_trade_3":[2,384,544,96,48],"city.t_trade_2":[2,288,544,96,48],"city.t_trade_1":[2,192,544,96,48],"city.t_trade_0":[2,96,544,96,48],"f.texas":[2,87,1664,29,20],"city.t_trade_9":[2,960,544,96,48],"city.t_trade_8":[2,864,544,96,48],"t.t_river_n1e0s0w0":[2,480,880,96,48],"t.t_river_n1e0s0w1":[2,576,880,96,48],"cursor.goto3":[2,366,1258,32,32],"cursor.goto2":[2,334,1258,32,32],"cursor.goto1":[2,302,1258,32,32],"b.temple":[1,256,422,64,48],"cursor.goto5":[2,
430,1258,32,32],"cursor.goto4":[2,398,1258,32,32],"f.shield.czech":[2,858,1160,14,14],"a.magnetism":[2,432,1458,48,48],"cd.city":[1,672,902,96,72],"a.mass_production":[2,576,1458,48,48],"upkeep.unhappy":[2,192,592,96,48],"t.l1.mountains_n0e1s0w1":[2,768,160,96,48],"t.l1.mountains_n0e1s0w0":[2,672,160,96,48],"f.uae":[2,348,1664,29,20],"t.l1.floor_cell_r_w_w_w":[2,576,1E3,48,24],"f.korea":[2,348,1622,29,20],"t.l1.floor_cell_r_w_w_i":[2,768,1E3,48,24],"f.uyghur":[2,551,1664,29,20],"t.l0.cellgroup_d_s_l_s.0":[1,
192,1534,48,24],"u.stealth_bomber":[2,448,736,64,48],"unit.select0":[1,576,1582,96,48],"unit.select1":[1,672,1582,96,48],"unit.select2":[1,768,1582,96,48],"unit.select3":[1,864,1582,96,48],"a.space_flight":[2,576,1506,48,48],"base.fortress_bg":[1,96,974,96,72],"city.modern_occupied_0":[1,288,974,96,72],"u.chariot":[2,672,640,64,48],"f.shield.catalan":[2,704,1160,14,14],"f.kenya":[2,261,1622,29,20],"t.l0.lake_cell_u_l_s_l":[2,1200,1E3,48,24],"tx.oil_mine":[2,1056,16,96,48],"t.l0.lake_cell_u_l_s_s":[2,
1008,1E3,48,24],"t.l0.mountains1":[1,288,1630,96,48],"t.l1.hills_n1e1s1w1":[2,768,256,96,48],"t.l1.hills_n1e1s1w0":[2,672,256,96,48],"base.ruins_mg":[1,576,974,96,72],"f.shield.aram":[2,354,1160,14,14],"f.shield.arab":[2,340,1160,14,14],"u.stealth_fighter":[2,512,736,64,48],"f.korea_ancient":[2,377,1622,29,20],"f.shield.burgundy":[2,634,1160,14,14],"f.saxony":[2,638,1644,29,20],"f.shield.azerbaijan":[2,452,1160,14,14],"u.catapult":[2,544,640,64,48],"t.fog_k_k_k_u":[1,672,566,96,48],"ev.hutbarbarians":[2,
1166,1238,15,20],"f.laos":[2,464,1622,29,20],"f.malaysia":[2,667,1622,29,20],"f.tupi":[2,261,1664,29,20],"base.buoy_mg":[1,480,974,96,72],"f.shield.myanmar":[2,602,1224,14,14],"unit.pillage":[2,1152,304,96,48],"spaceship.habitation":[2,1048,1290,60,60],"cursor.edit_add3":[2,640,1290,32,32],"f.shield.kurd":[2,336,1224,14,14],"city.t_shields_9":[2,0,544,96,48],"city.t_shields_8":[2,1152,496,96,48],"t.unknown1":[2,768,64,96,48],"city.t_shields_5":[2,864,496,96,48],"ev.nuke":[2,135,1258,15,20],"city.t_shields_7":[2,
1056,496,96,48],"city.t_shields_6":[2,960,496,96,48],"city.t_shields_1":[2,480,496,96,48],"city.t_shields_0":[2,384,496,96,48],"city.t_shields_3":[2,672,496,96,48],"city.t_shields_2":[2,576,496,96,48],"s.tax_gold":[2,971,1238,15,20],"cursor.invalid0":[2,1230,1258,32,32],"cursor.invalid1":[2,0,1290,32,32],"cursor.invalid2":[2,32,1290,32,32],"cursor.invalid3":[2,64,1290,32,32],"cursor.invalid4":[2,96,1290,32,32],"cursor.invalid5":[2,128,1290,32,32],"u.leader":[2,1024,736,64,48],"f.shield.kazakhstan":[2,
238,1224,14,14],"f.ottoman":[2,0,1644,29,20],"f.uruguay":[2,493,1664,29,20],"u.horsemen":[2,608,640,64,48],"f.shield.brasil":[2,592,1160,14,14],"b.library":[1,64,374,64,48],"f.shield.slovakia":[2,1134,1224,14,14],"r.rail_nw":[2,960,16,96,48],"r.rail_ne":[2,384,16,96,48],"b.hydro_plant":[1,0,374,64,48],"f.shield.italy":[2,168,1224,14,14],"f.cornwall":[2,29,1602,29,20],"f.shield.purhepecha":[2,924,1224,14,14],"b.factory":[1,1056,302,64,48],"city.celtic_wall_4":[1,480,158,96,72],"city.celtic_wall_0":[1,
384,158,96,72],"city.celtic_wall_8":[1,576,158,96,72],"t.l0.cellgroup_d_s_s_l.3":[1,720,1438,48,24],"t.l0.cellgroup_d_s_s_l.2":[1,672,1438,48,24],"t.l0.cellgroup_d_s_s_l.1":[1,624,1438,48,24],"unit.hp_60":[2,672,352,96,48],"t.l0.cellgroup_d_s_l_d.0":[1,864,1510,48,24],"t.l0.cellgroup_d_s_l_d.1":[1,912,1510,48,24],"t.l0.cellgroup_d_s_l_d.2":[1,960,1510,48,24],"t.l0.cellgroup_d_s_l_d.3":[1,1008,1510,48,24],"f.colombia":[2,1217,1554,29,20],"b.cathedral":[1,736,302,64,48],"f.shield.croatia":[2,830,1160,
14,14],"f.shield.egypt_ancient":[2,900,1160,14,14],"t.l0.cellgroup_d_s_s_d.3":[1,816,1414,48,24],"t.l0.cellgroup_d_s_s_d.2":[1,768,1414,48,24],"t.l0.cellgroup_d_s_s_d.1":[1,720,1414,48,24],"t.l0.cellgroup_d_s_s_d.0":[1,672,1414,48,24],"f.shield.russia":[2,994,1224,14,14],"u.cavalry":[2,704,688,64,48],"f.shield.tunisia":[2,210,1238,14,14],"t.l0.cellgroup_s_l_d_s.3":[1,624,1366,48,24],"t.l0.cellgroup_s_l_d_s.2":[1,576,1366,48,24],"t.l0.cellgroup_s_l_d_s.1":[1,528,1366,48,24],"t.l0.cellgroup_s_l_d_s.0":[1,
480,1366,48,24],"f.esperanto":[2,290,1602,29,20],"f.shield.armenia":[2,382,1160,14,14],"tx.darkness":[2,576,64,96,48],"f.romania":[2,435,1644,29,20],"f.shield.scotland":[2,1078,1224,14,14],"f.moldova":[2,870,1622,29,20],"t.l0.cellgroup_d_d_s_s.3":[1,912,1390,48,24],"t.l0.cellgroup_d_d_s_s.2":[1,864,1390,48,24],"t.l0.cellgroup_d_d_s_s.1":[1,816,1390,48,24],"t.l0.cellgroup_d_d_s_s.0":[1,768,1390,48,24],"t.t_river_n0e0s0w1":[2,1056,832,96,48],"t.t_river_n0e0s0w0":[2,960,832,96,48],"f.shield.denmark":[2,
872,1160,14,14],"city.babylonian_city_8":[1,768,230,96,72],"f.norway":[2,1160,1622,29,20],"city.babylonian_city_4":[1,672,230,96,72],"city.babylonian_city_0":[1,576,230,96,72],"t.l0.lake_cell_r_s_s_s":[2,864,1024,48,24],"t.l0.lake_cell_r_s_s_l":[2,1056,1024,48,24],"f.shield.greece":[2,1124,1160,14,14],"t.l0.cellgroup_s_d_d_s.3":[1,912,1294,48,24],"t.l0.cellgroup_s_d_d_s.2":[1,864,1294,48,24],"t.l0.cellgroup_s_d_d_s.1":[1,816,1294,48,24],"t.l0.cellgroup_s_d_d_s.0":[1,768,1294,48,24],"f.portugal":[2,
290,1644,29,20],"f.shield.prussia":[2,910,1224,14,14],"f.shield.argentina":[2,368,1160,14,14],"s.minus":[2,255,1258,15,20],"cursor.paradrop5":[2,814,1258,32,32],"unit.sentry":[2,288,304,96,48],"u.spy":[2,128,736,64,48],"f.shield.hittite":[2,1208,1160,14,14],"a.nuclear_power":[2,1104,1458,48,48],"s.tax_science":[2,956,1238,15,20],"f.united_nations":[2,435,1664,29,20],"b.marco_polos_embassy":[2,1152,1048,64,48],"f.egypt":[2,232,1602,29,20],"t.l0.cellgroup_l_s_d_l.0":[1,768,1342,48,24],"t.l0.cellgroup_l_s_d_l.1":[1,
816,1342,48,24],"t.l0.cellgroup_l_s_d_l.2":[1,864,1342,48,24],"t.l0.cellgroup_l_s_d_l.3":[1,912,1342,48,24],"f.shield.sumeria":[2,0,1238,14,14],"t.l0.lake_cell_u_s_l_l":[2,0,1024,48,24],"tx.fallout":[2,384,64,96,48],"t.l0.lake_cell_u_s_l_s":[2,1056,1E3,48,24],"f.shield.united_kingdom":[2,294,1238,14,14],"t.l1.floor_cell_l_w_i_w":[2,288,1E3,48,24],"t.l1.floor_cell_l_w_w_i":[2,384,1E3,48,24],"f.aborigines":[2,144,1554,29,20],"b.apollo_program":[2,64,1048,64,48],"t.l1.floor_cell_l_w_w_w":[2,192,1E3,
48,24],"t.l1.floor_cell_l_w_i_i":[2,480,1E3,48,24],"ev.citybuild":[2,45,1258,15,20],"f.gaul":[2,551,1602,29,20],"t.l0.cellgroup_l_l_s_l.0":[1,192,1486,48,24],"t.l0.cellgroup_l_l_s_l.1":[1,240,1486,48,24],"t.l0.cellgroup_l_l_s_l.2":[1,288,1486,48,24],"unit.fortress":[2,960,304,96,48],"a.polytheism":[2,48,1506,48,48],"f.kyrgyzstan":[2,435,1622,29,20],"ev.wonderobsolete":[2,195,1258,15,20],"t.l0.cellgroup_d_l_s_l.1":[1,1104,1462,48,24],"t.l0.cellgroup_d_l_s_l.2":[1,1152,1462,48,24],"t.l0.cellgroup_d_l_s_l.3":[1,
1200,1462,48,24],"editor.unit_4":[2,690,1350,30,30],"t.l0.lake_cell_l_l_l_l":[2,816,1024,48,24],"t.l0.cellgroup_d_s_d_s.3":[1,1200,1318,48,24],"t.l0.cellgroup_d_s_d_s.2":[1,1152,1318,48,24],"t.l0.cellgroup_d_s_d_s.1":[1,1104,1318,48,24],"t.l0.cellgroup_d_s_d_s.0":[1,1056,1318,48,24],"u.frigate":[2,928,640,64,48],"f.nubia":[2,1189,1622,29,20],"f.shield.mali":[2,476,1224,14,14],"b.capitalization":[1,672,302,64,48],"f.scotland":[2,667,1644,29,20],"a.advanced_flight":[2,900,1350,48,48],"f.shield.inca":[2,
14,1224,14,14],"t.l0.lake_cell_l_l_l_s":[2,624,1024,48,24],"u.barbarian_leader":[2,1088,736,64,48],"b.barracks_i":[1,480,302,64,48],"f.rome":[2,464,1644,29,20],"city.electricage_city_16":[1,1056,974,96,72],"city.electricage_city_12":[1,960,974,96,72],"f.arab":[2,318,1554,29,20],"f.aram":[2,347,1554,29,20],"t.l0.cellgroup_l_s_l_l.0":[1,1152,1534,48,24],"t.l0.cellgroup_l_s_l_l.1":[1,1200,1534,48,24],"t.l0.cellgroup_l_s_l_l.2":[1,0,1558,48,24],"t.l0.cellgroup_l_s_l_l.3":[1,48,1558,48,24],"t.fog_u_u_f_u":[1,
96,710,96,48],"b.harbour":[1,1184,302,64,48],"editor.terrain_resource":[2,240,1350,30,30],"t.fog_u_u_f_f":[1,1152,662,96,48],"unit.hp_10":[2,1152,352,96,48],"t.t_river_n1e1s1w0":[2,1056,880,96,48],"t.t_river_n1e1s1w1":[2,1152,880,96,48],"t.fog_u_u_f_k":[1,0,710,96,48],"f.spain":[2,928,1644,29,20],"t.l0.lake_cell_r_l_s_l":[2,1104,1024,48,24],"t.l0.lake_cell_r_l_s_s":[2,912,1024,48,24],"f.shield.thailand":[2,154,1238,14,14],"f.shield.iraq":[2,98,1224,14,14],"t.fog_u_u_k_f":[1,192,710,96,48],"t.fog_u_u_u_u":[1,
672,710,96,48],"t.fog_u_u_k_k":[1,288,710,96,48],"t.l0.cellgroup_d_d_s_d.0":[1,192,1390,48,24],"t.l0.cellgroup_d_d_s_d.1":[1,240,1390,48,24],"t.l0.cellgroup_d_d_s_d.2":[1,288,1390,48,24],"t.l0.cellgroup_d_d_s_d.3":[1,336,1390,48,24],"t.fog_u_u_u_f":[1,480,710,96,48],"t.fog_u_u_k_u":[1,384,710,96,48],"t.fog_u_u_u_k":[1,576,710,96,48],"f.shield.philippines":[2,826,1224,14,14],"f.shield.iran":[2,84,1224,14,14],"editor.tiles_2":[2,840,1350,30,30],"f.shield.latvia":[2,378,1224,14,14],"grid.coastline.ns":[1,
480,758,96,48],"t.l0.cellgroup_l_l_l_l.2":[1,480,1582,48,24],"t.l0.cellgroup_l_l_l_l.1":[1,432,1582,48,24],"t.l0.cellgroup_l_l_l_l.0":[1,384,1582,48,24],"f.shield.rwanda":[2,1008,1224,14,14],"s.warming_sun_5":[2,776,1238,15,20],"s.warming_sun_4":[2,761,1238,15,20],"s.warming_sun_7":[2,806,1238,15,20],"s.warming_sun_6":[2,791,1238,15,20],"s.warming_sun_1":[2,716,1238,15,20],"t.l0.cellgroup_s_s_s_l.1":[1,816,1438,48,24],"t.l0.cellgroup_s_s_s_l.2":[1,864,1438,48,24],"t.l0.cellgroup_s_s_s_l.3":[1,912,
1438,48,24],"ts.arctic_oil":[1,768,1678,96,48],"a.rocketry":[2,432,1506,48,48],"f.shield.turkey":[2,238,1238,14,14],"t.l0.cellgroup_l_d_d_d.3":[1,528,1294,48,24],"t.l0.cellgroup_l_d_d_d.2":[1,480,1294,48,24],"t.l0.cellgroup_l_d_d_d.1":[1,432,1294,48,24],"t.l0.cellgroup_l_d_d_d.0":[1,384,1294,48,24],"f.phoenicia":[2,174,1644,29,20],"ts.river_resources":[2,0,112,96,48],"unit.tired":[2,576,784,64,48],"t.l1.coast_cell_l_w_i_w":[2,0,976,48,24],"a.computers":[2,432,1410,48,48],"t.l1.coast_cell_l_w_i_i":[2,
192,976,48,24],"ev.hutcowardlybarbs":[2,1181,1238,15,20],"t.l0.cellgroup_s_d_d_l.0":[1,96,1318,48,24],"t.l0.cellgroup_s_d_d_l.1":[1,144,1318,48,24],"t.l0.cellgroup_s_d_d_l.2":[1,192,1318,48,24],"t.l0.cellgroup_s_d_d_l.3":[1,240,1318,48,24],"f.papua_newguinea":[2,87,1644,29,20],"f.brasil":[2,840,1554,29,20],"t.l0.cellgroup_d_d_l_d.3":[1,528,1486,48,24],"t.l0.cellgroup_d_d_l_d.2":[1,480,1486,48,24],"city.asian_occupied_0":[1,0,14,96,72],"t.l0.cellgroup_d_d_l_d.0":[1,384,1486,48,24],"a.mathematics":[2,
624,1458,48,48],"f.shield.viking":[2,420,1238,14,14],"ts.oasis":[1,768,1630,96,48],"a.the_republic":[2,1008,1506,48,48],"f.constantine":[2,0,1602,29,20],"f.europe":[2,377,1602,29,20],"f.united_kingdom":[2,406,1664,29,20],"f.shield.templar":[2,126,1238,14,14],"f.wales":[2,696,1664,29,20],"a.code_of_laws":[2,240,1410,48,48],"mask.worked_tile":[2,0,1160,128,64],"f.south_africa":[2,841,1644,29,20],"f.shield.indonesia":[2,42,1224,14,14],"ts.pheasant":[1,1152,1630,96,48],"u.riflemen":[2,256,688,64,48],
"b.airport":[1,288,302,64,48],"s.tax_luxury":[2,941,1238,15,20],"f.innu":[2,1102,1602,29,20],"colors.overlay_3":[2,1040,1096,128,64],"b.coastal_defense":[1,864,302,64,48],"colors.overlay_1":[2,784,1096,128,64],"colors.overlay_0":[2,656,1096,128,64],"a.philosophy":[2,1152,1458,48,48],"f.palmyra":[2,58,1644,29,20],"t.l0.cellgroup_d_l_d_l.3":[1,1008,1366,48,24],"t.l0.cellgroup_d_l_d_l.2":[1,960,1366,48,24],"t.l0.cellgroup_d_l_d_l.1":[1,912,1366,48,24],"t.l0.cellgroup_d_l_d_l.0":[1,864,1366,48,24],"t.l0.cellgroup_s_l_d_d.0":[1,
1152,1342,48,24],"t.l0.cellgroup_s_l_d_d.1":[1,1200,1342,48,24],"t.l0.cellgroup_s_l_d_d.2":[1,0,1366,48,24],"t.l0.cellgroup_s_l_d_d.3":[1,48,1366,48,24],"t.blend.arctic":[2,864,64,96,48],"t.l0.cellgroup_l_s_s_l.3":[1,1104,1438,48,24],"t.l0.cellgroup_l_s_s_l.2":[1,1056,1438,48,24],"t.l0.cellgroup_l_s_s_l.1":[1,1008,1438,48,24],"t.l0.cellgroup_l_s_s_l.0":[1,960,1438,48,24],"t.l0.desert1":[1,960,1582,96,48],"t.fog_k_f_k_f":[1,960,518,96,48],"t.fog_k_f_k_k":[1,1056,518,96,48],"cursor.paradrop4":[2,782,
1258,32,32],"cursor.paradrop3":[2,750,1258,32,32],"cursor.paradrop2":[2,718,1258,32,32],"cursor.paradrop1":[2,686,1258,32,32],"cursor.paradrop0":[2,654,1258,32,32],"t.fog_k_f_k_u":[1,1152,518,96,48],"t.fog_u_f_k_k":[1,1056,614,96,48],"editor.properties":[2,570,1350,30,30],"t.l0.lake_cell_l_s_s_s":[2,480,1024,48,24],"t.fog_u_f_k_f":[1,960,614,96,48],"f.babylon":[2,608,1554,29,20],"t.l0.lake_cell_l_s_s_l":[2,672,1024,48,24],"t.fog_u_f_k_u":[1,1152,614,96,48],"ev.firstcontact":[2,1226,1238,15,20],"f.nato":[2,
986,1622,29,20],"a.leadership":[2,288,1458,48,48],"f.shield.israel":[2,154,1224,14,14],"f.shield.swaziland":[2,14,1238,14,14],"f.shield.maori":[2,490,1224,14,14],"treaty.agree_thumb_up":[2,783,1664,30,30],"f.shield.rome":[2,980,1224,14,14],"city.celtic_wall_16":[1,768,158,96,72],"city.celtic_wall_12":[1,672,158,96,72],"f.shield.japan":[2,182,1224,14,14],"b.power_plant":[1,640,374,64,48],"f.uzbekistan":[2,580,1664,29,20],"t.l0.cellgroup_s_d_s_l.3":[1,432,1414,48,24],"t.l0.cellgroup_s_d_s_l.2":[1,384,
1414,48,24],"t.l0.cellgroup_s_d_s_l.1":[1,336,1414,48,24],"t.l0.cellgroup_s_d_s_l.0":[1,288,1414,48,24],"f.shield.brittany":[2,606,1160,14,14],"f.armenia":[2,405,1554,29,20],"spaceship.exhaust":[2,60,1350,60,60],"f.shield.egypt":[2,914,1160,14,14],"f.mars":[2,783,1622,29,20],"a.economics":[2,672,1410,48,48],"t.l0.cellgroup_s_d_l_l.0":[1,480,1510,48,24],"t.l0.cellgroup_s_d_l_l.1":[1,528,1510,48,24],"t.l0.cellgroup_s_d_l_l.2":[1,576,1510,48,24],"t.l0.cellgroup_s_d_l_l.3":[1,624,1510,48,24],"unit.fallout":[2,
96,352,96,48],"f.zulu":[2,754,1664,29,20],"city.asian_wall_12":[1,0,86,96,72],"f.shield.macedonia":[2,420,1224,14,14],"a.literacy":[2,336,1458,48,48],"t.l0.cellgroup_l_d_s_s.3":[1,48,1414,48,24],"t.l0.cellgroup_l_d_s_s.2":[1,0,1414,48,24],"t.l0.cellgroup_l_d_s_s.1":[1,1200,1390,48,24],"t.l0.cellgroup_l_d_s_s.0":[1,1152,1390,48,24],"t.l0.cellgroup_l_d_l_l.3":[1,816,1510,48,24],"upkeep.food":[2,0,592,96,48],"t.l0.cellgroup_l_d_l_l.1":[1,720,1510,48,24],"t.l0.cellgroup_l_d_l_l.0":[1,672,1510,48,24],
"t.l0.cellgroup_l_l_d_d.3":[1,240,1366,48,24],"t.l0.cellgroup_l_l_d_d.2":[1,192,1366,48,24],"t.l0.cellgroup_l_l_d_d.1":[1,144,1366,48,24],"t.l0.cellgroup_l_l_d_d.0":[1,96,1366,48,24],"t.l0.cellgroup_l_s_s_d.3":[1,1200,1414,48,24],"t.l0.cellgroup_l_s_s_d.2":[1,1152,1414,48,24],"t.l0.cellgroup_l_s_s_d.1":[1,1104,1414,48,24],"t.l0.cellgroup_l_s_s_d.0":[1,1056,1414,48,24],"f.shield.pirate":[2,854,1224,14,14],"t.fog_u_f_u_u":[1,192,662,96,48],"t.fog_u_f_u_k":[1,96,662,96,48],"s.cooling_flake_2":[2,851,
1238,15,20],"s.cooling_flake_3":[2,866,1238,15,20],"s.cooling_flake_0":[2,821,1238,15,20],"s.cooling_flake_1":[2,836,1238,15,20],"b.js_bachs_cathedral":[2,768,1048,64,48],"f.shield.cuba":[2,844,1160,14,14],"s.cooling_flake_4":[2,881,1238,15,20],"t.fog_u_f_u_f":[1,0,662,96,48],"mask.unworked_tile":[2,128,1160,128,64],"a.warrior_code":[2,1200,1506,48,48],"f.shield.united_nations":[2,308,1238,14,14],"f.lithuania":[2,551,1622,29,20],"f.kampuchea":[2,145,1622,29,20],"t.l1.mountains_n1e1s0w0":[2,192,208,
96,48],"f.polynesian":[2,261,1644,29,20],"t.l0.cellgroup_d_d_d_l.3":[1,48,1318,48,24],"t.l0.cellgroup_d_d_d_l.2":[1,0,1318,48,24],"t.l0.cellgroup_d_d_d_l.1":[1,1200,1294,48,24],"t.l0.cellgroup_d_d_d_l.0":[1,1152,1294,48,24],"t.fog_u_k_u_f":[1,864,662,96,48],"t.l1.coast_cell_l_w_w_w":[2,1152,928,48,24],"t.l1.coast_cell_l_w_w_i":[2,96,976,48,24],"t.l1.coast_cell_r_i_i_w":[2,432,976,48,24],"ts.grassland_resources":[1,480,1726,96,48],"r.road_w":[2,0,16,96,48],"b.space_component":[1,1088,374,64,48],"f.shield.uzbekistan":[2,
378,1238,14,14],"tx.s_river_n0e0s1w0":[2,832,784,96,48],"tx.s_river_n0e0s1w1":[2,928,784,96,48],"a.steel":[2,720,1506,48,48],"t.l0.cellgroup_s_s_l_d.3":[1,1200,1510,48,24],"t.l0.cellgroup_s_s_l_d.2":[1,1152,1510,48,24],"t.l0.cellgroup_s_s_l_d.1":[1,1104,1510,48,24],"t.l0.cellgroup_s_s_l_d.0":[1,1056,1510,48,24],"r.road_se":[1,960,1726,96,48],"a.bronze_working":[2,48,1410,48,48],"t.l0.swamp1":[1,576,1630,96,48],"r.road_sw":[1,1152,1726,96,48],"t.l0.cellgroup_l_l_l_s.0":[1,1056,1558,48,24],"t.l0.cellgroup_l_l_l_s.1":[1,
1104,1558,48,24],"t.l0.cellgroup_l_l_l_s.2":[1,1152,1558,48,24],"t.l0.cellgroup_l_l_l_s.3":[1,1200,1558,48,24],"t.l0.cellgroup_d_l_l_d.3":[1,240,1558,48,24],"t.l0.cellgroup_d_l_l_d.2":[1,192,1558,48,24],"t.l0.cellgroup_d_l_l_d.1":[1,144,1558,48,24],"t.l0.cellgroup_d_l_l_d.0":[1,96,1558,48,24],"f.turkmenistan":[2,319,1664,29,20],"f.thrace":[2,145,1664,29,20],"t.fog_u_f_f_u":[1,864,614,96,48],"f.singapore":[2,754,1644,29,20],"t.l0.cellgroup_d_s_d_l.0":[1,384,1342,48,24],"t.l0.cellgroup_d_s_d_l.1":[1,
432,1342,48,24],"t.l0.cellgroup_d_s_d_l.2":[1,480,1342,48,24],"t.l0.cellgroup_d_s_d_l.3":[1,528,1342,48,24],"t.fog_u_f_f_f":[1,672,614,96,48],"grid.borders.s":[1,672,758,96,48],"editor.unit_1":[2,450,1350,30,30],"f.england":[2,261,1602,29,20],"editor.unit_3":[2,660,1350,30,30],"t.l0.cellgroup_s_s_l_l.3":[1,1104,1534,48,24],"t.l0.cellgroup_s_s_l_l.2":[1,1056,1534,48,24],"t.l0.cellgroup_s_s_l_l.1":[1,1008,1534,48,24],"t.l0.cellgroup_s_s_l_l.0":[1,960,1534,48,24],"t.fog_u_f_f_k":[1,768,614,96,48],"a.bridge_building":[2,
0,1410,48,48],"t.l1.floor_cell_d_i_w_i":[2,48,1E3,48,24],"u.fighter":[2,864,640,64,48],"t.l1.floor_cell_d_i_w_w":[2,1104,976,48,24],"t.l0.cellgroup_l_l_s_l.3":[1,336,1486,48,24],"ts.silk":[1,0,1678,96,48],"f.venezuela":[2,609,1664,29,20],"f.jbonai":[2,116,1622,29,20],"f.cartago":[2,1043,1554,29,20],"f.nuu-chah-nulth":[2,1247,1622,29,20],"f.muskogee":[2,928,1622,29,20],"a.alphabet":[2,948,1350,48,48],"tx.irrigation":[2,1152,16,96,48],"cursor.attack0":[2,160,1290,32,32],"s.right_arrow":[2,1151,1238,
15,20],"f.latvia":[2,493,1622,29,20],"a.steam_engine":[2,672,1506,48,48],"t.fog_k_f_u_f":[1,0,566,96,48],"a.superconductors":[2,768,1506,48,48],"t.fog_k_f_u_k":[1,96,566,96,48],"city.asian_wall_16":[1,96,86,96,72],"grid.borders.e":[1,864,758,96,48],"t.fog_k_f_u_u":[1,192,566,96,48],"u.submarine":[2,448,688,64,48],"f.shield.serbia":[2,1092,1224,14,14],"t.l1.mountains_n1e1s0w1":[2,288,208,96,48],"b.super_highways":[1,128,422,64,48],"u.pikemen":[2,0,736,64,48],"f.mongolia":[2,899,1622,29,20],"ev.faminefeared":[2,
105,1258,15,20],"unit.hp_30":[2,960,352,96,48],"grid.borders.w":[1,768,758,96,48],"city.celtic_city_4":[1,0,158,96,72],"grid.borders.n":[1,576,758,96,48],"city.celtic_city_0":[1,1152,86,96,72],"u.caravel":[2,320,688,64,48],"city.celtic_city_8":[1,96,158,96,72],"t.l0.cellgroup_s_l_s_l.3":[1,144,1486,48,24],"t.l0.cellgroup_s_l_s_l.2":[1,96,1486,48,24],"t.l0.cellgroup_s_l_s_l.1":[1,48,1486,48,24],"t.l0.cellgroup_s_l_s_l.0":[1,0,1486,48,24],"u.dragoons":[2,896,688,64,48],"f.pakistan":[2,29,1644,29,20],
"tx.s_river_n1e1s0w1":[2,672,832,96,48],"tx.s_river_n1e1s0w0":[2,576,832,96,48],"city.size_90":[2,576,448,96,48],"t.l1.hills_n0e1s0w0":[2,960,208,96,48],"t.l0.cellgroup_d_l_s_l.0":[1,1056,1462,48,24],"city.electricage_wall_0":[1,1152,974,96,72],"city.electricage_wall_4":[1,0,1046,96,72],"city.electricage_wall_8":[1,96,1046,96,72],"f.shield.southern_cross":[2,1176,1224,14,14],"f.france":[2,464,1602,29,20],"city.size_70":[2,384,448,96,48],"f.mexico":[2,841,1622,29,20],"citizen.content_1":[2,1046,1238,
15,20],"citizen.content_0":[2,1031,1238,15,20],"a.horseback_riding":[2,0,1458,48,48],"b.king_richards_crusade":[2,832,1048,64,48],"f.shield.korea":[2,308,1224,14,14],"base.fortress_fg":[1,0,974,96,72],"ts.seals":[1,192,1726,96,48],"f.shield.kampuchea":[2,210,1224,14,14],"f.iran":[2,1160,1602,29,20],"f.tajikistan":[2,29,1664,29,20],"f.shield.tupi":[2,224,1238,14,14],"b.palace":[1,448,374,64,48],"city.modern_city_16":[1,768,1046,96,72],"city.modern_city_12":[1,672,1046,96,72],"f.iraq":[2,1189,1602,
29,20],"tx.s_river_n1e0s1w1":[2,480,832,96,48],"tx.s_river_n1e0s1w0":[2,384,832,96,48],"f.shield.ottoman":[2,756,1224,14,14],"u.nuclear":[2,128,688,64,48],"t.l0.cellgroup_s_d_s_s.0":[1,960,1390,48,24],"t.l0.cellgroup_s_d_s_s.1":[1,1008,1390,48,24],"t.l0.cellgroup_s_d_s_s.2":[1,1056,1390,48,24],"t.l0.cellgroup_s_d_s_s.3":[1,1104,1390,48,24],"t.fog_u_k_f_k":[1,384,662,96,48],"f.taiwan":[2,0,1664,29,20],"t.fog_u_k_f_u":[1,480,662,96,48],"city.asian_city_12":[1,768,14,96,72],"city.asian_city_16":[1,864,
14,96,72],"f.hittite":[2,841,1602,29,20],"cursor.nuke5":[2,1006,1258,32,32],"cursor.nuke4":[2,974,1258,32,32],"cursor.nuke1":[2,878,1258,32,32],"cursor.nuke0":[2,846,1258,32,32],"cursor.nuke3":[2,942,1258,32,32],"f.shield.aymara":[2,438,1160,14,14],"f.shield.tibet":[2,182,1238,14,14],"u.marines":[2,64,736,64,48],"f.cheyenne":[2,1101,1554,29,20],"t.l0.cellgroup_s_l_l_s.3":[1,1008,1558,48,24],"t.l0.cellgroup_s_l_l_s.2":[1,960,1558,48,24],"t.l0.cellgroup_s_l_l_s.1":[1,912,1558,48,24],"t.l0.cellgroup_s_l_l_s.0":[1,
864,1558,48,24],"t.l1.floor_cell_d_i_i_w":[2,1200,976,48,24],"a.the_wheel":[2,1056,1506,48,48],"a.robotics":[2,384,1506,48,48],"specialist.taxman_0":[2,1016,1238,15,20],"cursor.patrol4":[2,590,1258,32,32],"cursor.patrol5":[2,622,1258,32,32],"cursor.patrol0":[2,462,1258,32,32],"cursor.patrol1":[2,494,1258,32,32],"cursor.patrol2":[2,526,1258,32,32],"cursor.patrol3":[2,558,1258,32,32],"a.recycling":[2,240,1506,48,48],"f.shield.kenya":[2,266,1224,14,14],"t.l0.cellgroup_l_d_l_l.2":[1,768,1510,48,24],"b.shakespeares_theatre":[2,
256,1096,64,48],"grid.worked.we":[1,1152,710,96,48],"f.kongo":[2,319,1622,29,20],"gov.monarchy":[2,626,1238,15,20],"u.musketeers":[2,64,688,64,48],"f.shield.moldova":[2,560,1224,14,14],"f.shield.france":[2,1026,1160,14,14],"city.disorder":[1,960,902,96,72],"f.shield.wales":[2,434,1238,14,14],"t.t_river_n0e1s0w0":[2,96,880,96,48],"t.t_river_n0e1s0w1":[2,192,880,96,48],"city.classical_city_8":[1,1056,158,96,72],"u.mech_inf":[2,1184,640,64,48],"t.l1.floor_cell_d_i_i_i":[2,144,1E3,48,24],"city.classical_city_0":[1,
864,158,96,72],"t.l0.lake_cell_d_l_s_s":[2,144,1024,48,24],"t.l0.lake_cell_d_l_s_l":[2,336,1024,48,24],"f.normandy":[2,1102,1622,29,20],"f.shield.silesia":[2,1106,1224,14,14],"b.aqueduct":[1,352,302,64,48],"f.unknown":[2,464,1664,29,20],"ev.pollution":[2,120,1258,15,20],"a.the_corporation":[2,864,1506,48,48],"a.railroad":[2,192,1506,48,48],"city.modern_city_0":[1,384,1046,96,72],"f.aymara":[2,521,1554,29,20],"city.modern_city_4":[1,480,1046,96,72],"f.serbia":[2,696,1644,29,20],"city.modern_city_8":[1,
576,1046,96,72],"editor.tiles_1":[2,810,1350,30,30],"unit.hp_20":[2,1056,352,96,48],"f.shield.portugal":[2,896,1224,14,14],"f.mapuche":[2,754,1622,29,20],"s.cooling_flake_5":[2,896,1238,15,20],"f.shield.byzantium":[2,662,1160,14,14],"t.l1.hills_n1e0s1w0":[2,288,256,96,48],"t.l1.floor_cell_u_i_i_w":[2,816,976,48,24],"t.l0.cellgroup_l_d_l_s.0":[1,96,1510,48,24],"u.partisan":[2,1152,688,64,48],"t.l0.cellgroup_l_d_l_s.2":[1,192,1510,48,24],"t.l0.cellgroup_l_d_l_s.3":[1,240,1510,48,24],"t.l1.floor_cell_u_i_i_i":[2,
1008,976,48,24],"f.switzerland":[2,1160,1644,29,20],"b.colosseum":[1,928,302,64,48],"b.stock_exchange":[1,64,422,64,48],"f.shield.ireland":[2,126,1224,14,14],"city.size_80":[2,480,448,96,48],"f.tunisia":[2,232,1664,29,20],"editor.city":[2,480,1350,30,30],"a.democracy":[2,624,1410,48,48],"b.lighthouse":[2,960,1048,64,48],"specialist.elvis_0":[2,986,1238,15,20],"t.l0.cellgroup_l_l_s_s.1":[1,912,1462,48,24],"city.size_60":[2,288,448,96,48],"f.shield.burundi":[2,648,1160,14,14],"b.leonardos_workshop":[2,
896,1048,64,48],"t.l0.lake_cell_d_s_l_s":[2,192,1024,48,24],"t.l0.lake_cell_d_s_l_l":[2,384,1024,48,24],"grid.main.we":[1,768,710,96,48],"a.refining":[2,288,1506,48,48],"f.shield.papua_newguinea":[2,798,1224,14,14],"b.manhattan_project":[2,1088,1048,64,48],"f.ryukyu":[2,551,1644,29,20],"t.l1.coast_cell_r_w_w_i":[2,480,976,48,24],"ev.diplomated":[2,1196,1238,15,20],"f.shield.srivijaya":[2,1232,1224,14,14],"t.l1.coast_cell_r_w_w_w":[2,288,976,48,24],"unit.mine":[2,480,304,96,48],"f.shield.iceland":[2,
1264,1160,14,14],"u.knights":[2,1056,640,64,48],"f.egypt_ancient":[2,203,1602,29,20],"f.philippines":[2,145,1644,29,20],"editor.military_base":[2,420,1350,30,30],"f.shield.sweden":[2,28,1238,14,14],"a.construction":[2,528,1410,48,48],"a.currency":[2,576,1410,48,48],"cursor.wait3":[2,832,1290,32,32],"editor.vision":[2,510,1350,30,30],"t.l0.cellgroup_l_s_d_s.2":[1,288,1342,48,24],"f.srilanka":[2,957,1644,29,20],"f.tocharian":[2,203,1664,29,20],"editor.copypaste":[2,600,1350,30,30],"b.hoover_dam":[2,
640,1048,64,48],"f.ethiopia":[2,348,1602,29,20],"f.shield.vietnam":[2,406,1238,14,14],"ts.gems":[1,1056,1678,96,48],"spaceship.propulsion":[2,0,1350,60,60],"f.shield.iraq_old":[2,112,1224,14,14],"f.tibet":[2,174,1664,29,20],"ev.granthrottle":[2,15,1258,15,20],"ev.famine":[2,90,1258,15,20],"f.shield.kongo":[2,294,1224,14,14],"f.sudan":[2,1044,1644,29,20],"t.l0.cellgroup_d_d_s_l.0":[1,96,1414,48,24],"t.l0.cellgroup_d_d_s_l.1":[1,144,1414,48,24],"t.l0.cellgroup_d_d_s_l.2":[1,192,1414,48,24],"t.l0.cellgroup_d_d_s_l.3":[1,
240,1414,48,24],"city.tropical_wall_12":[1,960,86,96,72],"city.tropical_wall_16":[1,1056,86,96,72],"unit.transform":[2,192,304,96,48],"ev.hutcity":[2,60,1258,15,20],"t.l0.cellgroup_s_l_l_l.0":[1,192,1582,48,24],"t.l0.cellgroup_s_l_l_l.1":[1,240,1582,48,24],"t.l0.cellgroup_s_l_l_l.2":[1,288,1582,48,24],"t.l0.cellgroup_s_l_l_l.3":[1,336,1582,48,24],"a.labor_union":[2,192,1458,48,48],"f.shield.barbarian":[2,508,1160,14,14],"tx.mine":[2,96,64,96,48],"f.syria":[2,1189,1644,29,20],"f.stpatrick":[2,1015,
1644,29,20],"u.worker":[2,960,736,64,48],"f.prussia":[2,319,1644,29,20],"f.shield.taiwan":[2,98,1238,14,14],"t.fog_k_k_k_f":[1,576,566,96,48],"b.darwins_voyage":[2,320,1048,64,48],"f.pirate":[2,203,1644,29,20],"gov.communism":[2,641,1238,15,20],"f.shield.tajikistan":[2,112,1238,14,14],"unit.fortified":[2,0,352,96,48],"r.road_isolated":[1,576,1726,96,48],"t.l0.cellgroup_l_s_s_s.1":[1,432,1438,48,24],"t.l1.forest_n1e0s1w0":[2,480,112,96,48],"t.l1.forest_n1e0s1w1":[2,0,160,96,48],"b.recycling_center":[1,
704,374,64,48],"ev.wonderwillbebuilt":[2,210,1258,15,20],"t.l0.hills1":[1,192,1630,96,48],"u.cruiser":[2,736,640,64,48],"editor.fill":[2,780,1350,30,30],"f.shield.finland":[2,1012,1160,14,14],"f.australia":[2,463,1554,29,20],"f.azerbaijan":[2,550,1554,29,20],"editor.terrain_special_5":[2,390,1350,30,30],"editor.terrain_special_4":[2,360,1350,30,30],"editor.terrain_special_2":[2,300,1350,30,30],"editor.terrain_special_1":[2,270,1350,30,30],"a.astronomy":[2,1044,1350,48,48],"t.fog_k_k_f_u":[1,480,566,
96,48],"f.shield.switzerland":[2,42,1238,14,14],"t.fog_k_k_f_f":[1,288,566,96,48],"t.fog_k_k_f_k":[1,384,566,96,48],"t.l1.forest_n0e0s0w0":[2,0,112,96,48],"t.l1.forest_n0e0s0w1":[2,768,112,96,48],"grid.city.we":[1,960,710,96,48],"t.l0.cellgroup_s_d_d_d.0":[1,192,1294,48,24],"t.l0.cellgroup_s_d_d_d.1":[1,240,1294,48,24],"t.l0.cellgroup_s_d_d_d.2":[1,288,1294,48,24],"t.l0.cellgroup_s_d_d_d.3":[1,336,1294,48,24],"ts.iron":[1,384,1678,96,48],"f.shield.holland":[2,1222,1160,14,14],"f.shield.laos":[2,364,
1224,14,14],"tx.fog":[2,1152,64,96,48],"city.size_50":[2,192,448,96,48],"t.l0.cellgroup_d_d_l_l.3":[1,432,1510,48,24],"t.l0.cellgroup_d_d_l_l.2":[1,384,1510,48,24],"t.l0.cellgroup_d_d_l_l.1":[1,336,1510,48,24],"t.l0.cellgroup_d_d_l_l.0":[1,288,1510,48,24],"a.explosives":[2,912,1410,48,48],"f.viking":[2,667,1664,29,20],"t.l1.coast_cell_r_w_i_w":[2,384,976,48,24],"t.l0.cellgroup_d_l_d_d.3":[1,1104,1342,48,24],"t.l0.cellgroup_d_l_d_d.2":[1,1056,1342,48,24],"t.l0.cellgroup_d_l_d_d.1":[1,1008,1342,48,
24],"t.l0.cellgroup_d_l_d_d.0":[1,960,1342,48,24],"t.l1.coast_cell_r_w_i_i":[2,576,976,48,24],"b.granary":[1,1120,302,64,48],"t.fog_u_k_f_f":[1,288,662,96,48],"t.l1.floor_cell_u_i_w_w":[2,720,976,48,24],"f.shield.romania":[2,966,1224,14,14],"a.atomic_theory":[2,1092,1350,48,48],"t.l1.floor_cell_u_i_w_i":[2,912,976,48,24],"cursor.attack4":[2,288,1290,32,32],"cursor.attack5":[2,320,1290,32,32],"cursor.attack2":[2,224,1290,32,32],"cursor.attack3":[2,256,1290,32,32],"ev.aqueduct":[2,1241,1238,15,20],
"cursor.attack1":[2,192,1290,32,32],"f.shield.bangladesh":[2,494,1160,14,14],"t.l0.cellgroup_s_d_s_d.1":[1,432,1390,48,24],"unit.goto":[2,384,304,96,48],"city.classical_wall_4":[1,192,230,96,72],"b.supermarket":[1,192,422,64,48],"f.shield.majapahit":[2,448,1224,14,14],"t.l0.cellgroup_s_l_d_l.0":[1,1056,1366,48,24],"t.l0.cellgroup_s_l_d_l.1":[1,1104,1366,48,24],"t.l0.cellgroup_s_l_d_l.2":[1,1152,1366,48,24],"t.l0.cellgroup_s_l_d_l.3":[1,1200,1366,48,24],"city.industrial_wall_16":[1,576,902,96,72],
"city.industrial_wall_12":[1,480,902,96,72],"t.blend.coast":[2,960,64,96,48],"unit.fortifying":[2,864,304,96,48],"b.space_modules":[1,1152,374,64,48],"editor.terrain":[2,750,1350,30,30],"f.shield.norway":[2,700,1224,14,14],"f.shield.cheyenne":[2,718,1160,14,14],"f.kurd":[2,406,1622,29,20],"f.shield.venezuela":[2,392,1238,14,14],"editor.terrain_resource_2":[2,870,1350,30,30],"t.t_river_n1e0s1w1":[2,768,880,96,48],"t.t_river_n1e0s1w0":[2,672,880,96,48],"tx.s_river_n0e1s0w0":[2,1024,784,96,48],"tx.s_river_n0e1s0w1":[2,
1120,784,96,48],"t.l0.cellgroup_s_s_d_l.3":[1,720,1342,48,24],"t.l0.cellgroup_s_s_d_l.2":[1,672,1342,48,24],"t.l0.cellgroup_s_s_d_l.1":[1,624,1342,48,24],"t.l0.cellgroup_s_s_d_l.0":[1,576,1342,48,24],"t.l0.cellgroup_l_s_d_s.3":[1,336,1342,48,24],"t.l0.t_river1":[1,0,1630,96,48],"t.l0.cellgroup_l_s_d_s.1":[1,240,1342,48,24],"t.l0.cellgroup_l_s_d_s.0":[1,192,1342,48,24],"b.sdi_defense":[1,896,374,64,48],"f.shield.maya":[2,532,1224,14,14],"unit.road":[2,672,304,96,48],"a.stealth":[2,624,1506,48,48],
"f.shield.hopi":[2,1236,1160,14,14],"t.l0.forest1":[1,96,1630,96,48],"f.shield.slovenia":[2,1148,1224,14,14],"a.guerilla_warfare":[2,1152,1410,48,48],"t.l0.cellgroup_s_s_d_d.3":[1,816,1318,48,24],"t.l0.cellgroup_s_s_d_d.2":[1,768,1318,48,24],"t.l0.cellgroup_s_s_d_d.1":[1,720,1318,48,24],"t.l0.cellgroup_s_s_d_d.0":[1,672,1318,48,24],"ts.forest_game":[1,288,1726,96,48],"f.shield.colombia":[2,774,1160,14,14],"t.l1.forest_n0e1s1w0":[2,576,112,96,48],"t.l1.forest_n0e1s1w1":[2,96,160,96,48],"ts.horses":[1,
384,1726,96,48],"b.city_walls":[1,800,302,64,48],"f.shield.greece_ancient":[2,1110,1160,14,14],"unit.auto_attack":[2,864,256,96,48],"cursor.goto0":[2,270,1258,32,32],"f.sapmi":[2,609,1644,29,20],"a.amphibious_warfare":[2,996,1350,48,48],"editor.brush":[2,150,1350,30,30],"u.engineers":[2,192,736,64,48],"f.soviet":[2,899,1644,29,20],"f.shield.sudan":[2,1260,1224,14,14],"t.l1.forest_n1e1s0w0":[2,288,112,96,48],"t.l1.forest_n1e1s0w1":[2,1056,112,96,48],"f.shield.austria":[2,424,1160,14,14],"s.science_bulb_6":[2,
566,1238,15,20],"t.l0.cellgroup_l_l_l_l.3":[1,528,1582,48,24],"s.science_bulb_4":[2,536,1238,15,20],"s.science_bulb_5":[2,551,1238,15,20],"s.science_bulb_2":[2,506,1238,15,20],"s.science_bulb_3":[2,521,1238,15,20],"s.science_bulb_0":[2,476,1238,15,20],"s.science_bulb_1":[2,491,1238,15,20],"ts.peat":[1,864,1678,96,48],"a.automobile":[2,1140,1350,48,48],"a.mobile_warfare":[2,816,1458,48,48],"f.shield.quebec":[2,952,1224,14,14],"t.l0.jungle1":[1,672,1630,96,48],"f.shield.germany":[2,1096,1160,14,14],
"f.shield.bavarian":[2,522,1160,14,14],"t.l0.cellgroup_d_l_s_s.3":[1,624,1462,48,24],"t.l0.cellgroup_d_l_s_s.2":[1,576,1462,48,24],"t.l0.cellgroup_d_l_s_s.1":[1,528,1462,48,24],"b.offshore_platform":[1,384,374,64,48],"t.l0.cellgroup_d_l_l_l.3":[1,144,1582,48,24],"t.l0.cellgroup_d_l_l_l.2":[1,96,1582,48,24],"t.l0.cellgroup_d_l_l_l.1":[1,48,1582,48,24],"t.l0.cellgroup_d_l_l_l.0":[1,0,1582,48,24],"t.l0.cellgroup_d_d_d_d.3":[1,144,1294,48,24],"t.l0.cellgroup_d_d_d_d.2":[1,96,1294,48,24],"t.l0.cellgroup_d_d_d_d.1":[1,
48,1294,48,24],"t.l0.cellgroup_d_d_d_d.0":[1,0,1294,48,24],"spaceship.solar_panels":[2,928,1290,60,60],"t.l0.cellgroup_d_s_d_d.0":[1,480,1318,48,24],"t.l0.cellgroup_d_s_d_d.1":[1,528,1318,48,24],"citizen.happy_0":[2,1061,1238,15,20],"citizen.happy_1":[2,1076,1238,15,20],"f.aztec":[2,579,1554,29,20],"f.templar":[2,58,1664,29,20],"t.l1.mountains_n0e0s0w0":[2,288,160,96,48],"t.l1.mountains_n0e0s0w1":[2,384,160,96,48],"u.explorer":[2,960,688,64,48],"f.shield.numidia":[2,728,1224,14,14],"city.electricage_wall_16":[1,
288,1046,96,72],"t.l1.mountains_n1e0s1w0":[2,0,208,96,48],"t.l1.mountains_n1e0s1w1":[2,96,208,96,48],"f.burundi":[2,956,1554,29,20],"upkeep.food2":[2,96,592,96,48],"city.european_wall_4":[1,576,830,96,72],"unit.lowfuel":[2,512,784,64,48],"f.slovenia":[2,812,1644,29,20],"city.european_wall_0":[1,480,830,96,72],"t.l1.hills_n0e0s1w1":[2,864,208,96,48],"t.l1.hills_n0e0s1w0":[2,768,208,96,48],"t.l0.cellgroup_s_l_s_d.3":[1,240,1462,48,24],"t.l0.cellgroup_s_l_s_d.2":[1,192,1462,48,24],"t.l0.cellgroup_s_l_s_d.1":[1,
144,1462,48,24],"t.l0.cellgroup_s_l_s_d.0":[1,96,1462,48,24],"f.antarctica":[2,289,1554,29,20],"f.greece":[2,667,1602,29,20],"ts.fish":[1,0,1726,96,48],"f.holland":[2,870,1602,29,20],"a.navigation":[2,1008,1458,48,48],"u.settlers":[2,384,688,64,48],"t.l0.cellgroup_s_s_s_l.0":[1,768,1438,48,24],"s.warming_sun_0":[2,701,1238,15,20],"f.shield.algeria":[2,312,1160,14,14],"city.tropical_wall_8":[1,864,86,96,72],"s.warming_sun_3":[2,746,1238,15,20],"city.tropical_wall_0":[1,672,86,96,72],"s.warming_sun_2":[2,
731,1238,15,20],"explode.nuke_12":[2,960,592,96,48],"explode.nuke_11":[2,864,592,96,48],"explode.nuke_10":[2,768,592,96,48],"a.sanitation":[2,480,1506,48,48],"b.university":[1,320,422,64,48],"f.brittany":[2,869,1554,29,20],"specialist.scientist_0":[2,1001,1238,15,20],"gov.fundamentalism":[2,656,1238,15,20],"f.israel":[2,29,1622,29,20],"t.l0.cellgroup_d_d_l_s.0":[1,960,1486,48,24],"t.l0.cellgroup_d_d_l_s.1":[1,1008,1486,48,24],"t.l0.cellgroup_d_d_l_s.2":[1,1056,1486,48,24],"t.l0.cellgroup_d_d_l_s.3":[1,
1104,1486,48,24],"f.southern_cross":[2,870,1644,29,20],"f.barbarian":[2,666,1554,29,20],"f.akwe":[2,231,1554,29,21],"city.classical_occupied_0":[1,288,14,96,72],"a.industrialization":[2,48,1458,48,48],"f.shield.constantine":[2,802,1160,14,14],"t.l1.floor_cell_l_i_i_i":[2,528,1E3,48,24],"t.l0.cellgroup_l_s_l_s.2":[1,672,1534,48,24],"t.l0.cellgroup_l_s_l_s.1":[1,624,1534,48,24],"t.l0.cellgroup_l_s_l_s.0":[1,576,1534,48,24],"unit.hp_0":[2,0,400,96,48],"t.l0.cellgroup_l_d_d_s.0":[1,960,1294,48,24],"t.l0.cellgroup_l_d_d_s.1":[1,
1008,1294,48,24],"t.l0.cellgroup_l_d_d_s.2":[1,1056,1294,48,24],"t.l0.cellgroup_l_d_d_s.3":[1,1104,1294,48,24],"t.l1.floor_cell_l_i_i_w":[2,336,1E3,48,24],"f.shield.tairona":[2,84,1238,14,14],"t.l0.cellgroup_s_s_d_s.0":[1,0,1342,48,24],"t.l0.cellgroup_s_s_d_s.1":[1,48,1342,48,24],"t.l0.cellgroup_s_s_d_s.2":[1,96,1342,48,24],"t.l0.cellgroup_s_s_d_s.3":[1,144,1342,48,24],"a.university":[2,1152,1506,48,48],"tx.farmland":[2,0,64,96,48],"f.shield.khwarezm":[2,280,1224,14,14],"t.l1.floor_cell_l_i_w_w":[2,
240,1E3,48,24],"editor.erase_2":[2,120,1350,30,30],"f.shield.belgium":[2,550,1160,14,14],"icon.citydlg":[2,616,1096,40,40],"f.shield.euskadi":[2,998,1160,14,14],"a.tactics":[2,816,1506,48,48],"f.taino":[2,1218,1644,29,20],"f.iceland":[2,957,1602,29,20],"t.l1.floor_cell_l_i_w_i":[2,432,1E3,48,24],"f.srivijaya":[2,986,1644,29,20],"editor.erase":[2,720,1350,30,30],"ts.arctic_ivory":[1,672,1678,96,48],"t.l0.lake_cell_r_s_l_l":[2,1152,1024,48,24],"t.l0.lake_cell_r_s_l_s":[2,960,1024,48,24],"ev.hutnomads":[2,
75,1258,15,20],"citizen.unhappy_1":[2,1106,1238,15,20],"citizen.unhappy_0":[2,1091,1238,15,20],"t.l0.cellgroup_l_l_d_s.0":[1,672,1366,48,24],"t.l0.cellgroup_l_l_d_s.1":[1,720,1366,48,24],"t.l0.cellgroup_l_l_d_s.2":[1,768,1366,48,24],"t.l0.cellgroup_l_l_d_s.3":[1,816,1366,48,24],"f.shield.tocharian":[2,196,1238,14,14],"t.l0.lake_cell_u_s_s_s":[2,960,1E3,48,24],"city.industrial_city_12":[1,0,902,96,72],"city.industrial_city_16":[1,96,902,96,72],"t.l0.lake_cell_u_s_s_l":[2,1152,1E3,48,24],"t.l0.cellgroup_s_s_s_s.3":[1,
336,1438,48,24],"t.l0.cellgroup_s_s_s_s.2":[1,288,1438,48,24],"t.l0.cellgroup_s_s_s_s.1":[1,240,1438,48,24],"t.l0.cellgroup_s_s_s_s.0":[1,192,1438,48,24],"f.shield.nubia":[2,714,1224,14,14],"t.l1.mountains_n0e1s1w1":[2,960,160,96,48],"f.turkey":[2,290,1664,29,20],"f.shield.spain":[2,1204,1224,14,14],"u.armor":[2,96,640,64,48],"f.cuba":[2,87,1602,29,20],"city.modern_wall_8":[1,1056,1046,96,72],"city.modern_wall_0":[1,864,1046,96,72],"city.modern_wall_4":[1,960,1046,96,72],"s.science_bulb_7":[2,581,
1238,15,20],"cursor.wait1":[2,768,1290,32,32],"cursor.wait0":[2,736,1290,32,32],"t.l0.cellgroup_l_s_s_s.2":[1,480,1438,48,24],"cursor.wait2":[2,800,1290,32,32],"cursor.wait5":[2,896,1290,32,32],"cursor.wait4":[2,864,1290,32,32],"t.l1.hills_n1e1s0w0":[2,480,256,96,48],"t.l1.hills_n1e1s0w1":[2,576,256,96,48],"f.kanem-bornu":[2,174,1622,29,20],"f.shield.qing":[2,938,1224,14,14],"t.l0.lake_cell_r_l_l_l":[2,1200,1024,48,24],"city.size_30":[2,0,448,96,48],"t.l0.lake_cell_r_l_l_s":[2,1008,1024,48,24],"t.l0.cellgroup_s_s_l_s.0":[1,
384,1534,48,24],"t.l0.cellgroup_s_s_l_s.1":[1,432,1534,48,24],"t.l0.cellgroup_s_s_l_s.2":[1,480,1534,48,24],"t.l0.cellgroup_s_s_l_s.3":[1,528,1534,48,24],"u.archers":[2,640,688,64,48],"gov.republic":[2,671,1238,15,20],"f.shield.bosnia":[2,578,1160,14,14],"t.l0.cellgroup_l_d_s_d.0":[1,576,1390,48,24],"t.l0.cellgroup_l_d_s_d.1":[1,624,1390,48,24],"t.l0.cellgroup_l_d_s_d.2":[1,672,1390,48,24],"t.l0.cellgroup_l_d_s_d.3":[1,720,1390,48,24],"u.legion":[2,1120,640,64,48],"b.space_structural":[1,0,422,64,
48],"t.dither_tile":[2,480,64,96,48],"ev.wonderbuilt":[2,225,1258,15,20],"f.denmark":[2,145,1602,29,20],"ev.aqueductbuilding":[2,1256,1238,15,20],"b.great_wall":[2,512,1048,64,48],"t.l1.floor_cell_u_w_w_i":[2,864,976,48,24],"upkeep.unhappy2":[2,288,592,96,48],"f.hacker":[2,754,1602,29,20],"f.north_korea":[2,1131,1622,29,20],"t.l1.floor_cell_u_w_w_w":[2,672,976,48,24],"f.shield.belarus":[2,536,1160,14,14],"f.algeria":[2,260,1554,29,20],"t.l1.coast_cell_d_w_w_w":[2,768,928,48,24],"f.galicia":[2,522,
1602,29,20],"city.modern_wall_12":[1,1152,1046,96,72],"f.shield.turkmenistan":[2,252,1238,14,14],"city.modern_wall_16":[1,0,1118,96,72],"f.iran_ancient":[2,1131,1602,29,20],"t.l1.coast_cell_d_w_w_i":[2,960,928,48,24],"a.genetic_engineering":[2,1104,1410,48,48],"unit.stack":[2,1056,256,96,48],"explode.nuke_00":[2,480,592,96,48],"explode.nuke_01":[2,576,592,96,48],"explode.nuke_02":[2,672,592,96,48],"t.l0.lake_cell_u_l_l_l":[2,48,1024,48,24],"t.l0.lake_cell_u_l_l_s":[2,1104,1E3,48,24],"ev.citynuked":[2,
150,1258,15,20],"u.destroyer":[2,832,688,64,48],"t.l0.cellgroup_d_d_l_d.1":[1,432,1486,48,24],"t.l1.floor_cell_u_w_i_i":[2,960,976,48,24],"t.l0.cellgroup_d_l_s_s.0":[1,480,1462,48,24],"t.l1.floor_cell_u_w_i_w":[2,768,976,48,24],"f.shield.ukraine":[2,280,1238,14,14],"spaceship.structural":[2,1108,1290,60,60],"city.size_40":[2,96,448,96,48],"u.battleship":[2,224,640,64,48],"u.aegis_cruiser":[2,576,736,64,48],"tx.river_outlet_w":[2,288,928,96,48],"u.galleon":[2,1088,688,64,48],"tx.river_outlet_s":[2,
192,928,96,48],"f.shield.georgia":[2,1082,1160,14,14],"tx.river_outlet_n":[2,0,928,96,48],"a.fundamentalism":[2,96,1554,48,48],"tx.river_outlet_e":[2,96,928,96,48],"ts.coal":[1,96,1678,96,48],"explode.nuke":[1,1056,1118,180,176],"s.plus":[2,240,1258,15,20],"b.solar_plant":[1,1024,374,64,48],"a.pottery":[2,96,1506,48,48],"base.airbase_mg":[1,1056,902,96,72],"u.cruise_missile":[2,768,688,64,48],"cd.city_wall":[1,768,902,96,72],"f.purhepecha":[2,348,1644,29,20],"ts.whales":[1,96,1726,96,48],"u.phalanx":[2,
192,688,64,48],"t.l1.coast_cell_d_w_i_i":[2,1056,928,48,24],"t.l1.coast_cell_d_w_i_w":[2,864,928,48,24],"city.classical_city_16":[1,0,230,96,72],"city.classical_city_12":[1,1152,158,96,72],"f.sweden":[2,1131,1644,29,20],"ev.diplomatmine":[2,1211,1238,15,20],"f.boer":[2,782,1554,29,20],"t.t_river_n0e0s1w0":[2,1152,832,96,48],"t.t_river_n0e0s1w1":[2,0,880,96,48],"f.shield.australia":[2,410,1160,14,14],"t.l0.cellgroup_d_s_d_d.2":[1,576,1318,48,24],"t.l0.cellgroup_d_s_d_d.3":[1,624,1318,48,24],"f.madagascar":[2,
609,1622,29,20],"f.shield.assyria":[2,396,1160,14,14],"a.ceremonial_burial":[2,96,1410,48,48],"f.shield.uruguay":[2,336,1238,14,14],"f.shield.malaysia":[2,462,1224,14,14],"a.seafaring":[2,528,1506,48,48],"t.l0.cellgroup_d_l_l_s.0":[1,672,1558,48,24],"t.l0.cellgroup_d_l_l_s.1":[1,720,1558,48,24],"t.l0.cellgroup_d_l_l_s.2":[1,768,1558,48,24],"t.l0.cellgroup_d_l_l_s.3":[1,816,1558,48,24],"a.miniaturization":[2,768,1458,48,48],"ts.wheat":[1,1056,1630,96,48],"city.classical_city_4":[1,960,158,96,72],"f.gupta":[2,
725,1602,29,20],"f.shield.aborigines":[2,256,1160,14,14],"f.shield.westphalia":[2,448,1238,14,14],"f.mali":[2,696,1622,29,20],"u.cannon":[2,352,640,64,48],"city.electricage_city_0":[1,672,974,96,72],"city.electricage_city_4":[1,768,974,96,72],"editor.startpos":[2,180,1350,30,30],"city.electricage_city_8":[1,864,974,96,72],"a.electricity":[2,720,1410,48,48],"city.size_20":[2,1152,400,96,48],"f.shield.netherlands":[2,630,1224,14,14],"ts.oil":[1,864,1630,96,48],"f.germany":[2,609,1602,29,20],"f.numidia":[2,
1218,1622,29,20],"city.electricage_wall_12":[1,192,1046,96,72],"f.russia":[2,493,1644,29,20],"t.l0.tundra1":[1,384,1630,96,48],"f.shield.chile":[2,732,1160,14,14],"a.physics":[2,1200,1458,48,48],"f.shield.syria":[2,56,1238,14,14],"cursor.edit_add4":[2,672,1290,32,32],"cursor.edit_add5":[2,704,1290,32,32],"cursor.edit_add0":[2,544,1290,32,32],"cursor.edit_add1":[2,576,1290,32,32],"cursor.edit_add2":[2,608,1290,32,32],"f.shield.hungary":[2,1250,1160,14,14],"f.afghanistan":[2,173,1554,29,20],"city.european_wall_8":[1,
672,830,96,72],"f.kazakhstan":[2,203,1622,29,20],"f.inca":[2,1015,1602,29,20],"t.l0.lake_cell_l_l_s_l":[2,720,1024,48,24],"t.l1.coast_cell_d_i_w_i":[2,1008,928,48,24],"t.l1.coast_cell_d_i_w_w":[2,816,928,48,24],"t.l0.lake_cell_l_l_s_s":[2,528,1024,48,24],"t.l0.cellgroup_s_l_l_d.0":[1,288,1558,48,24],"t.l0.cellgroup_s_l_l_d.1":[1,336,1558,48,24],"t.l0.cellgroup_s_l_l_d.2":[1,384,1558,48,24],"t.l0.cellgroup_s_l_l_d.3":[1,432,1558,48,24],"city.celtic_city_16":[1,288,158,96,72],"f.columbia":[2,1246,1554,
29,20],"city.celtic_city_12":[1,192,158,96,72],"t.t_river_n1e1s0w0":[2,864,880,96,48],"f.shield.ryukyu":[2,1022,1224,14,14],"f.byzantium":[2,985,1554,29,20],"a.chemistry":[2,144,1410,48,48],"unit.auto_settler":[2,960,256,96,48],"b.asmiths_trading_co":[2,0,1048,64,48],"ev.wonderstopped":[2,180,1258,15,20],"f.shield.greenland":[2,1138,1160,14,14],"f.hawaii":[2,783,1602,29,20],"f.shield.kyrgyzstan":[2,350,1224,14,14],"city.babylonian_city_12":[1,864,230,96,72],"city.babylonian_city_16":[1,960,230,96,
72],"t.t_river_n1e1s0w1":[2,960,880,96,48],"city.celtic_occupied_0":[1,192,14,96,72],"t.l0.cellgroup_l_s_d_d.0":[1,864,1318,48,24],"t.l0.cellgroup_l_s_d_d.1":[1,912,1318,48,24],"f.nigeria":[2,1073,1622,29,20],"t.l0.cellgroup_l_s_d_d.2":[1,960,1318,48,24],"b.cure_for_cancer":[2,256,1048,64,48],"t.l0.cellgroup_d_s_s_s.0":[1,0,1438,48,24],"t.l0.cellgroup_d_s_s_s.1":[1,48,1438,48,24],"t.l0.cellgroup_d_s_s_s.2":[1,96,1438,48,24],"t.l0.cellgroup_d_s_s_s.3":[1,144,1438,48,24],"b.sewer_system":[1,960,374,
64,48],"f.libya":[2,522,1622,29,20],"f.ireland":[2,1247,1602,29,20],"f.shield.soviet":[2,1190,1224,14,14],"f.shield.mexico":[2,546,1224,14,14],"t.l0.grassland1":[1,1152,1582,96,48],"a.theology":[2,912,1506,48,48],"f.burgundy":[2,927,1554,29,20],"f.shield.columbia":[2,788,1160,14,14],"b.sun_tzus_war_academy":[2,384,1096,64,48],"t.l1.coast_cell_u_w_w_i":[2,576,928,48,24],"u.ironclad":[2,992,640,64,48],"f.sumeria":[2,1073,1644,29,20],"t.l1.coast_cell_u_w_i_w":[2,480,928,48,24],"f.rwanda":[2,522,1644,
29,20],"tx.s_river_n0e0s0w1":[2,736,784,96,48],"tx.s_river_n0e0s0w0":[2,640,784,96,48],"a.writing":[2,0,1554,48,48],"city.babylonian_wall_16":[1,192,302,96,72],"f.shield.nuu-chah-nulth":[2,742,1224,14,14],"city.babylonian_wall_12":[1,96,302,96,72],"unit.hp_90":[2,384,352,96,48],"t.l1.coast_cell_u_w_w_w":[2,384,928,48,24],"f.georgia":[2,580,1602,29,20],"f.shield.babylon":[2,480,1160,14,14],"colors.overlay_2":[2,912,1096,128,64],"f.shield.esperanto":[2,942,1160,14,14],"a.laser":[2,240,1458,48,48],"t.l1.hills_n1e0s1w1":[2,
384,256,96,48],"f.shield.ainu":[2,284,1160,14,14],"t.l0.cellgroup_l_d_l_s.1":[1,144,1510,48,24],"citizen.angry_1":[2,1136,1238,15,20],"citizen.angry_0":[2,1121,1238,15,20],"f.shield.france_old":[2,1040,1160,14,14],"unit.patrol":[2,192,352,96,48],"city.asian_city_0":[1,480,14,96,72],"city.asian_city_4":[1,576,14,96,72],"f.dominica":[2,174,1602,29,20],"f.vietnam":[2,638,1664,29,20],"f.ukraine":[2,377,1664,29,20],"city.asian_city_8":[1,672,14,96,72],"city.size_10":[2,1056,400,96,48],"city.european_city_8":[1,
192,830,96,72],"city.european_city_4":[1,96,830,96,72],"city.european_city_0":[1,0,830,96,72],"t.l0.arctic1":[1,480,1630,96,48],"f.shield.newzealand":[2,644,1224,14,14],"t.l1.coast_cell_d_i_i_w":[2,912,928,48,24],"t.l1.coast_cell_d_i_i_i":[2,1104,928,48,24],"f.shield.srilanka":[2,1218,1224,14,14],"b.eiffel_tower":[2,384,1048,64,48],"f.shield.samogitia":[2,1036,1224,14,14],"f.shield.iran_ancient":[2,70,1224,14,14],"f.croatia":[2,58,1602,29,20],"f.shield.gaul":[2,1068,1160,14,14],"r.rail_se":[2,576,
16,96,48],"f.catalan":[2,1072,1554,29,20],"b.port_facility":[1,576,374,64,48],"city.tropical_wall_4":[1,768,86,96,72],"f.swaziland":[2,1102,1644,29,20],"r.rail_sw":[2,768,16,96,48],"b.nuclear_plant":[1,320,374,64,48],"upkeep.gold":[2,1056,544,96,48],"t.l0.lake_cell_l_s_l_l":[2,768,1024,48,24],"f.czech":[2,116,1602,29,20],"t.l0.lake_cell_l_s_l_s":[2,576,1024,48,24],"tx.airbase_full":[1,1152,902,96,72],"u.awacs":[2,896,736,64,48],"a.iron_working":[2,144,1458,48,48],"icon.freeciv":[2,576,1096,40,40],
"explode.nuke_22":[2,0,640,96,48],"explode.nuke_20":[2,1056,592,96,48],"user.attention":[2,1056,64,96,48],"f.macedonia":[2,580,1622,29,20],"a.combustion":[2,336,1410,48,48],"t.fog_k_f_f_u":[1,864,518,96,48],"f.tairona":[2,1247,1644,29,20],"f.shield.cornwall":[2,816,1160,14,14],"t.fog_k_f_f_f":[1,672,518,96,48],"t.l0.cellgroup_d_s_l_s.3":[1,336,1534,48,24],"t.l0.cellgroup_d_s_l_s.2":[1,288,1534,48,24],"t.l0.cellgroup_d_s_l_s.1":[1,240,1534,48,24],"t.fog_k_f_f_k":[1,768,518,96,48],"ts.spice":[1,960,
1678,96,48],"a.machine_tools":[2,384,1458,48,48],"a.environmentalism":[2,48,1554,48,48],"tx.s_river_n1e1s1w0":[2,768,832,96,48],"tx.s_river_n1e1s1w1":[2,864,832,96,48],"b.pyramids":[2,128,1096,64,48],"a.espionage":[2,864,1410,48,48],"t.l1.floor_cell_d_w_w_i":[2,0,1E3,48,24],"gov.democracy":[2,686,1238,15,20],"ts.gold":[1,288,1678,96,48],"editor.terrain_2":[2,210,1350,30,30],"b.police_station":[1,512,374,64,48],"f.ainu":[2,202,1554,29,20],"grid.main.ns":[1,864,710,96,48],"t.l1.floor_cell_d_w_w_w":[2,
1056,976,48,24],"r.rail_w":[2,864,16,96,48],"f.shield.phoenicia":[2,840,1224,14,14],"city.industrial_city_8":[1,1152,830,96,72],"r.rail_s":[2,672,16,96,48],"city.industrial_city_4":[1,1056,830,96,72],"city.industrial_city_0":[1,960,830,96,72],"r.rail_e":[2,480,16,96,48],"f.shield.keetoowah":[2,252,1224,14,14],"f.shield.boer":[2,564,1160,14,14],"r.rail_n":[2,288,16,96,48],"f.india":[2,1044,1602,29,20],"f.poland":[2,232,1644,29,20],"f.shield.thrace":[2,168,1238,14,14],"city.industrial_wall_4":[1,288,
902,96,72],"u.artillery":[2,256,736,64,48],"editor.territory":[2,540,1350,30,30],"city.industrial_wall_0":[1,192,902,96,72],"t.l1.forest_n0e0s1w1":[2,1152,112,96,48],"t.l1.forest_n0e0s1w0":[2,384,112,96,48],"city.industrial_wall_8":[1,384,902,96,72],"f.shield.usa":[2,350,1238,14,14],"u.carrier":[2,480,640,64,48],"ts.fruit":[1,1152,1678,96,48],"unit.hp_80":[2,480,352,96,48],"f.shield.gupta":[2,1152,1160,14,14],"city.size_8":[2,864,400,96,48],"city.size_9":[2,960,400,96,48],"city.size_4":[2,480,400,
96,48],"city.size_5":[2,576,400,96,48],"city.size_6":[2,672,400,96,48],"city.size_7":[2,768,400,96,48],"city.size_0":[2,96,400,96,48],"city.size_1":[2,192,400,96,48],"city.size_2":[2,288,400,96,48],"city.size_3":[2,384,400,96,48],"t.l1.coast_cell_u_w_i_i":[2,672,928,48,24],"f.canada":[2,1014,1554,29,20],"b.marketplace":[1,128,374,64,48],"t.fog_u_k_u_u":[1,1056,662,96,48],"r.road_e":[1,864,1726,96,48],"ev.growth":[2,0,1258,15,20],"r.road_n":[1,672,1726,96,48],"r.road_s":[1,1056,1726,96,48],"editor.terrain_special":[2,
330,1350,30,30],"u.helicopter":[2,320,736,64,48],"ev.citymaygrow":[2,30,1258,15,20],"f.shield.india":[2,28,1224,14,14],"t.fog_u_k_u_k":[1,960,662,96,48],"f.majapahit":[2,638,1622,29,20],"t.fog_f_k_u_k":[1,864,470,96,48],"f.china":[2,1159,1554,29,20],"t.fog_f_f_f_u":[1,726,422,96,48],"a.theory_of_gravity":[2,960,1506,48,48],"t.fog_f_f_f_k":[1,630,422,96,48],"f.shield.mapuche":[2,504,1224,14,14],"t.fog_f_f_f_f":[1,534,422,96,48],"city.european_wall_16":[1,864,830,96,72],"unit.airbase":[2,1056,304,96,
48],"city.european_wall_12":[1,768,830,96,72],"f.shield.unknown":[2,322,1238,14,14],"ts.buffalo":[1,960,1630,96,48],"a.feudalism":[2,960,1410,48,48],"f.shield.south_africa":[2,1162,1224,14,14],"f.iroquois":[2,0,1622,29,20],"t.l1.hills_n0e1s1w0":[2,1152,208,96,48],"t.l1.hills_n0e1s1w1":[2,0,256,96,48],"f.shield.kanem-bornu":[2,224,1224,14,14],"a.plastics":[2,0,1506,48,48],"f.shield.lithuania":[2,406,1224,14,14],"f.shield.zulu":[2,462,1238,14,14],"f.shield.hacker":[2,1166,1160,14,14],"a.refrigeration":[2,
336,1506,48,48],"f.maori":[2,725,1622,29,20],"a.radio":[2,144,1506,48,48],"b.statue_of_liberty":[2,320,1096,64,48],"city.classical_wall_12":[1,384,230,96,72],"city.classical_wall_16":[1,480,230,96,72],"editor.unit":[2,630,1350,30,30],"f.shield.illyria":[2,0,1224,14,14],"grid.coastline.we":[1,384,758,96,48],"t.l0.cellgroup_l_l_s_s.3":[1,1008,1462,48,24],"t.l0.cellgroup_l_l_s_s.2":[1,960,1462,48,24],"f.shield.china":[2,746,1160,14,14],"t.l0.cellgroup_l_l_s_s.0":[1,864,1462,48,24],"t.l0.plains1":[1,
1056,1582,96,48],"f.shield.nato":[2,616,1224,14,14],"f.shield.dominica":[2,886,1160,14,14],"a.fusion_power":[2,1056,1410,48,48],"cursor.edit_paint1":[2,384,1290,32,32],"a.flight":[2,1008,1410,48,48],"grid.city.ns":[1,1056,710,96,48],"f.shield.aztec":[2,466,1160,14,14],"f.euskadi":[2,406,1602,29,20],"b.colossus":[2,128,1048,64,48],"f.shield.korea_ancient":[2,322,1224,14,14],"f.shield.antarctica":[2,326,1160,14,14],"f.shield.iroquois":[2,140,1224,14,14],"u.diplomat":[2,800,640,64,48],"b.womens_suffrage":[2,
512,1096,64,48],"a.nuclear_fission":[2,1056,1458,48,48],"f.shield.afghanistan":[2,270,1160,14,14],"u.alpine_troops":[2,384,736,64,48],"f.japan":[2,87,1622,29,20],"city.tropical_city_8":[1,384,86,96,72],"f.shield.texas":[2,140,1238,14,14],"city.tropical_city_0":[1,192,86,96,72],"city.tropical_city_4":[1,288,86,96,72],"f.belgium":[2,753,1554,29,20],"b.copernicus_observatory":[2,192,1048,64,48],"f.shield.galicia":[2,1054,1160,14,14],"f.iraq_old":[2,1218,1602,29,20],"b.isaac_newtons_college":[2,704,1048,
64,48],"f.bavarian":[2,695,1554,29,20],"f.thailand":[2,116,1664,29,20],"f.slovakia":[2,783,1644,29,20],"city.postmodern_city_12":[1,384,1118,96,72],"t.fog_f_f_u_u":[1,96,470,96,48],"city.postmodern_city_16":[1,480,1118,96,72],"t.l1.mountains_n1e1s1w1":[2,480,208,96,48],"t.l1.mountains_n1e1s1w0":[2,384,208,96,48],"b.courthouse":[1,992,302,64,48],"t.fog_f_f_u_f":[1,1110,422,96,48],"t.l0.cellgroup_d_l_d_s.0":[1,288,1366,48,24],"t.l0.cellgroup_d_l_d_s.1":[1,336,1366,48,24],"t.l0.cellgroup_d_l_d_s.2":[1,
384,1366,48,24],"t.l0.cellgroup_d_l_d_s.3":[1,432,1366,48,24],"t.l0.cellgroup_l_s_l_s.3":[1,720,1534,48,24],"t.fog_f_f_u_k":[1,0,470,96,48],"t.l1.floor_cell_d_w_i_i":[2,96,1E3,48,24],"b.sam_battery":[1,832,374,64,48],"t.l1.floor_cell_d_w_i_w":[2,1152,976,48,24],"a.conscription":[2,480,1410,48,48],"city.tropical_city_12":[1,480,86,96,72],"city.tropical_city_16":[1,576,86,96,72],"t.l0.cellgroup_d_d_d_s.0":[1,576,1294,48,24],"t.l0.cellgroup_d_d_d_s.1":[1,624,1294,48,24],"t.l0.cellgroup_d_d_d_s.2":[1,
672,1294,48,24],"t.l0.cellgroup_d_d_d_s.3":[1,720,1294,48,24],"t.l0.cellgroup_l_d_s_l.0":[1,480,1414,48,24],"t.l0.cellgroup_l_d_s_l.1":[1,528,1414,48,24],"t.l0.cellgroup_l_d_s_l.2":[1,576,1414,48,24],"t.l0.cellgroup_l_d_s_l.3":[1,624,1414,48,24],"t.l0.cellgroup_d_s_l_l.0":[1,768,1534,48,24],"t.l0.cellgroup_d_s_l_l.1":[1,816,1534,48,24],"t.l0.cellgroup_d_s_l_l.2":[1,864,1534,48,24],"t.l0.cellgroup_d_s_l_l.3":[1,912,1534,48,24],"f.keetoowah":[2,232,1622,29,22],"b.barracks_iii":[1,608,302,64,48],"t.l0.cellgroup_s_d_l_s.3":[1,
48,1510,48,24],"t.l0.cellgroup_s_d_l_s.2":[1,0,1510,48,24],"t.l0.cellgroup_s_d_l_s.1":[1,1200,1486,48,24],"t.l0.cellgroup_s_d_l_s.0":[1,1152,1486,48,24],"f.shield.polynesian":[2,882,1224,14,14],"t.l1.coast_cell_u_i_w_i":[2,624,928,48,24],"b.oracle":[2,64,1096,64,48],"f.hungary":[2,928,1602,29,20],"t.l1.coast_cell_u_i_w_w":[2,432,928,48,24],"t.fog_f_f_k_u":[1,1014,422,96,48],"mask.tile":[2,672,64,96,48],"u.warriors":[2,0,688,64,48],"u.crusaders":[2,768,736,64,48],"t.fog_f_f_k_k":[1,918,422,96,48],
"t.fog_f_f_k_f":[1,822,422,96,48],"u.bomber":[2,288,640,64,48],"unit.vet_8":[2,384,784,64,48],"unit.vet_9":[2,448,784,64,48],"unit.vet_6":[2,256,784,64,48],"unit.vet_7":[2,320,784,64,48],"unit.vet_4":[2,128,784,64,48],"unit.vet_5":[2,192,784,64,48],"unit.vet_2":[2,0,784,64,48],"unit.vet_3":[2,64,784,64,48],"t.l0.lake_cell_d_s_s_l":[2,288,1024,48,24],"unit.vet_1":[2,1152,736,64,48],"t.l0.lake_cell_d_s_s_s":[2,96,1024,48,24],"f.shield.uae":[2,266,1238,14,14],"unit.auto_explore":[2,96,304,96,48],"f.indonesia":[2,
1073,1602,29,20],"t.fog_f_k_f_k":[1,288,470,96,48],"t.fog_f_k_f_f":[1,192,470,96,48],"a.electronics":[2,768,1410,48,48],"f.greece_ancient":[2,638,1602,29,20],"tx.s_river_n1e0s0w0":[2,192,832,96,48],"tx.s_river_n1e0s0w1":[2,288,832,96,48],"u.fanatics":[2,832,736,64,48],"f.shield.bulgaria":[2,620,1160,14,14],"f.maya":[2,812,1622,29,20],"city.industrial_occupied_0":[1,1126,758,96,72],"t.fog_f_k_f_u":[1,384,470,96,48],"spaceship.life_support":[2,988,1290,60,60],"f.shield.madagascar":[2,434,1224,14,14],
"t.l0.lake_cell_d_l_l_l":[2,432,1024,48,24],"b.bank":[1,416,302,64,48],"t.l0.cellgroup_d_l_s_d.0":[1,1152,1438,48,24],"t.l0.cellgroup_d_l_s_d.1":[1,1200,1438,48,24],"t.l0.cellgroup_d_l_s_d.2":[1,0,1462,48,24],"t.l0.cellgroup_d_l_s_d.3":[1,48,1462,48,24],"unit.hp_50":[2,768,352,96,48],"t.l0.lake_cell_d_l_l_s":[2,240,1024,48,24],"f.shield.saxony":[2,1064,1224,14,14],"t.fog_u_k_k_u":[1,768,662,96,48],"a.mysticism":[2,960,1458,48,48],"t.fog_u_k_k_k":[1,672,662,96,48],"city.t_shields_4":[2,768,496,96,
48],"t.fog_u_k_k_f":[1,576,662,96,48],"ts.furs":[1,576,1678,96,48],"t.fog_f_k_k_k":[1,576,470,96,48],"t.fog_f_k_u_u":[1,960,470,96,48],"t.fog_f_k_k_f":[1,480,470,96,48],"t.l0.cellgroup_l_l_s_d.0":[1,288,1462,48,24],"t.l0.cellgroup_l_l_s_d.1":[1,336,1462,48,24],"t.l0.cellgroup_l_l_s_d.2":[1,384,1462,48,24],"t.l0.cellgroup_l_l_s_d.3":[1,432,1462,48,24],"f.shield.singapore":[2,1120,1224,14,14],"f.shield.jbonai":[2,196,1224,14,14],"t.fog_f_k_k_u":[1,672,470,96,48],"t.fog_f_k_u_f":[1,768,470,96,48],"a.medicine":[2,
672,1458,48,48],"tx.village":[2,288,64,96,48],"unit.hp_100":[2,288,352,96,48],"t.l0.cellgroup_l_s_l_d.0":[1,0,1534,48,24],"t.l0.cellgroup_l_s_l_d.1":[1,48,1534,48,24],"t.l0.cellgroup_l_s_l_d.2":[1,96,1534,48,24],"t.l0.cellgroup_l_s_l_d.3":[1,144,1534,48,24],"a.gunpowder":[2,1200,1410,48,48],"city.babylonian_wall_4":[1,1152,230,96,72],"city.babylonian_wall_0":[1,1056,230,96,72],"f.hopi":[2,899,1602,29,20],"city.babylonian_wall_8":[1,0,302,96,72],"f.qing":[2,377,1644,29,20],"t.l0.cellgroup_s_l_s_s.0":[1,
672,1462,48,24],"t.l0.cellgroup_s_l_s_s.1":[1,720,1462,48,24],"t.l0.cellgroup_s_l_s_s.2":[1,768,1462,48,24],"t.l0.cellgroup_s_l_s_s.3":[1,816,1462,48,24],"b.united_nations":[2,448,1096,64,48],"f.belarus":[2,724,1554,29,20],"t.l0.cellgroup_l_s_d_d.3":[1,1008,1318,48,24]};var game_info=null,game_rules=null,IDENTITY_NUMBER_ZERO=0;function game_init(){map={};terrains={};resources={};players={};units={};unit_types={};connections={};client.conn={}}function game_find_city_by_number(b){return cities[b]}function game_find_unit_by_number(b){return units[b]}function get_player_population(){var b=0,c=client.conn.playing.playerno;for(city_id in cities){var e=cities[city_id];if(c==e.owner)b+=e.size}return b*1E4}
function update_game_status_panel(){if(C_S_RUNNING==client_state()){var b="";if(client.conn.playing!=null){var c=client.conn.playing,e=client.conn.playing.tax,f=client.conn.playing.luxury,k=client.conn.playing.science;b+=nations[c.nation].adjective+" Population: ";b+=get_player_population()+"  ";b+="Turn: "+game_info.turn+"  ";b+="Gold: "+c.gold+"  ";b+="Tax: "+e+" ";b+="Lux: "+f+" ";b+="Sci: "+k+" "}else{b+="Observing - ";b+="Turn: "+game_info.turn+"  "}$("#game_status_panel").html(b)}};var governments={};function update_govt_dialog(){if(!client_is_observer()){var b="";for(var c in governments){var e=governments[c];b=b+"<div style='background-color:"+(client.conn.playing.government==c?"#555555":"#000000")+"'  onclick='send_player_change_government("+e.id+");' >"+e.name+"</div>"}$("#governments_list").html(b)}}function send_player_change_government(b){send_request(JSON.stringify([{packet_type:"player_change_government",government:b}]));close_rates_dialog()}
function government_max_rate(b){return b==0?100:b==1?60:b==2?70:b==3?80:b==4?80:100};var improvements={};function can_player_build_improvement_direct(b,c){if(c.name=="Coinage")return true;c=get_improvement_requirements(c.id);return player_invention_state(b,c)==TECH_KNOWN}
function get_improvement_requirements(b){return{"37":10,"12":63,"48":63,"7":46,"21":46,"47":46,"60":46,"41":9,"15":87,"10":13,"59":55,"54":45,"16":20,"46":42,"57":84,"42":4,"13":72,"1":19,"9":19,"55":56,"52":25,"64":29,"2":7,"62":49,"38":85,"6":54,"58":54,"53":37,"34":22,"40":22,"63":21,"50":83,"45":75,"29":71,"51":82,"4":34,"8":34,"44":65,"11":36,"66":36,"22":16,"65":16,"36":68,"43":32,"24":67,"14":24,"49":24,"23":3,"20":51,"35":6,"17":47,"5":52,"0":64,"25":66,"56":57,"26":17,"61":17,"19":58,"18":69,
"27":70,"33":73,"39":73,"28":40,"31":61,"30":26,"32":77}[b+""]};function is_iphone(){return navigator.userAgent.toLowerCase().indexOf("iphone")!=-1}function orientation_changed(){if(is_iphone())switch(window.orientation){case 0:break;case -90:case 90:break}}function iphone_autostart(){var b=JSON.stringify([{packet_type:"chat_msg_req",message:"/start"}]);send_request(b)};(function(b,c){function e(){if(!h.isReady){try{J.documentElement.doScroll("left")}catch(d){setTimeout(e,1);return}h.ready()}}function f(d,g){g.src?h.ajax({url:g.src,async:false,dataType:"script"}):h.globalEval(g.text||g.textContent||g.innerHTML||"");g.parentNode&&g.parentNode.removeChild(g)}function k(d,g,l,o,n,z){var A=d.length;if(typeof g==="object"){for(var I in g)k(d,I,g[I],o,n,l);return d}if(l!==c){o=!z&&o&&h.isFunction(l);for(I=0;I<A;I++)n(d[I],g,o?l.call(d[I],I,n(d[I],g)):l,z);return d}return A?
n(d[0],g):null}function m(){return(new Date).getTime()}function p(){return false}function x(){return true}function q(d,g,l){l[0].type=d;return h.event.handle.apply(g,l)}function v(d){var g,l=[],o=[],n=arguments,z,A,I,K,H,O,S=h.extend({},h.data(this,"events").live);if(!(d.button&&d.type==="click")){for(K in S){A=S[K];if(A.live===d.type||A.altLive&&h.inArray(d.type,A.altLive)>-1){z=A.data;z.beforeFilter&&z.beforeFilter[d.type]&&!z.beforeFilter[d.type](d)||o.push(A.selector)}else delete S[K]}z=h(d.target).closest(o,
d.currentTarget);H=0;for(O=z.length;H<O;H++)for(K in S){A=S[K];I=z[H].elem;o=null;if(z[H].selector===A.selector){if(A.live==="mouseenter"||A.live==="mouseleave")o=h(d.relatedTarget).closest(A.selector)[0];if(!o||o!==I)l.push({elem:I,fn:A})}}H=0;for(O=l.length;H<O;H++){z=l[H];d.currentTarget=z.elem;d.data=z.fn.data;if(z.fn.apply(z.elem,n)===false){g=false;break}}return g}}function w(d,g){return"live."+(d?d+".":"")+g.replace(/\./g,"`").replace(/ /g,"&")}function C(d){return!d||!d.parentNode||d.parentNode.nodeType===
11}function E(d,g){var l=0;g.each(function(){if(this.nodeName===(d[l]&&d[l].nodeName)){var o=h.data(d[l++]),n=h.data(this,o);if(o=o&&o.events){delete n.handle;n.events={};for(var z in o)for(var A in o[z])h.event.add(this,z,o[z][A],o[z][A].data)}}})}function D(d,g,l){var o,n,z;if(d.length===1&&typeof d[0]==="string"&&d[0].length<512&&d[0].indexOf("<option")<0&&(h.support.checkClone||!Ia.test(d[0]))){n=true;if(z=h.fragments[d[0]])if(z!==1)o=z}if(!o){g=g&&g[0]?g[0].ownerDocument||g[0]:J;o=g.createDocumentFragment();
h.clean(d,g,o,l)}if(n)h.fragments[d[0]]=z?o:1;return{fragment:o,cacheable:n}}function G(d,g){var l={};h.each(Ja.concat.apply([],Ja.slice(0,g)),function(){l[this]=d});return l}function L(d){return"scrollTo"in d&&d.document?d:d.nodeType===9?d.defaultView||d.parentWindow:false}var h=function(d,g){return new h.fn.init(d,g)},U=b.jQuery,X=b.$,J=b.document,V,da=/^[^<]*(<[\w\W]+>)[^>]*$|^#([\w-]+)$/,ha=/^.[^:#\[\.,]*$/,ra=/\S/,ia=/^(\s|\u00A0)+|(\s|\u00A0)+$/g,ja=/^<(\w+)\s*\/?>(?:<\/\1>)?$/,na=navigator.userAgent,
Ka=false,oa=[],ka,wa=Object.prototype.toString,xa=Object.prototype.hasOwnProperty,ya=Array.prototype.push,pa=Array.prototype.slice,La=Array.prototype.indexOf;h.fn=h.prototype={init:function(d,g){var l,o;if(!d)return this;if(d.nodeType){this.context=this[0]=d;this.length=1;return this}if(typeof d==="string")if((l=da.exec(d))&&(l[1]||!g))if(l[1]){o=g?g.ownerDocument||g:J;if(d=ja.exec(d))if(h.isPlainObject(g)){d=[J.createElement(d[1])];h.fn.attr.call(d,g,true)}else d=[o.createElement(d[1])];else{d=D([l[1]],
[o]);d=(d.cacheable?d.fragment.cloneNode(true):d.fragment).childNodes}}else{if(g=J.getElementById(l[2])){if(g.id!==l[2])return V.find(d);this.length=1;this[0]=g}this.context=J;this.selector=d;return this}else if(!g&&/^\w+$/.test(d)){this.selector=d;this.context=J;d=J.getElementsByTagName(d)}else return!g||g.jquery?(g||V).find(d):h(g).find(d);else if(h.isFunction(d))return V.ready(d);if(d.selector!==c){this.selector=d.selector;this.context=d.context}return h.isArray(d)?this.setArray(d):h.makeArray(d,
this)},selector:"",jquery:"1.4.1",length:0,size:function(){return this.length},toArray:function(){return pa.call(this,0)},get:function(d){return d==null?this.toArray():d<0?this.slice(d)[0]:this[d]},pushStack:function(d,g,l){d=h(d||null);d.prevObject=this;d.context=this.context;if(g==="find")d.selector=this.selector+(this.selector?" ":"")+l;else if(g)d.selector=this.selector+"."+g+"("+l+")";return d},setArray:function(d){this.length=0;ya.apply(this,d);return this},each:function(d,g){return h.each(this,
d,g)},ready:function(d){h.bindReady();if(h.isReady)d.call(J,h);else oa&&oa.push(d);return this},eq:function(d){return d===-1?this.slice(d):this.slice(d,+d+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},slice:function(){return this.pushStack(pa.apply(this,arguments),"slice",pa.call(arguments).join(","))},map:function(d){return this.pushStack(h.map(this,function(g,l){return d.call(g,l,g)}))},end:function(){return this.prevObject||h(null)},push:ya,sort:[].sort,splice:[].splice};
h.fn.init.prototype=h.fn;h.extend=h.fn.extend=function(){var d=arguments[0]||{},g=1,l=arguments.length,o=false,n,z,A,I;if(typeof d==="boolean"){o=d;d=arguments[1]||{};g=2}if(typeof d!=="object"&&!h.isFunction(d))d={};if(l===g){d=this;--g}for(;g<l;g++)if((n=arguments[g])!=null)for(z in n){A=d[z];I=n[z];if(d!==I)if(o&&I&&(h.isPlainObject(I)||h.isArray(I))){A=A&&(h.isPlainObject(A)||h.isArray(A))?A:h.isArray(I)?[]:{};d[z]=h.extend(o,A,I)}else if(I!==c)d[z]=I}return d};h.extend({noConflict:function(d){b.$=
X;if(d)b.jQuery=U;return h},isReady:false,ready:function(){if(!h.isReady){if(!J.body)return setTimeout(h.ready,13);h.isReady=true;if(oa){for(var d,g=0;d=oa[g++];)d.call(J,h);oa=null}h.fn.triggerHandler&&h(J).triggerHandler("ready")}},bindReady:function(){if(!Ka){Ka=true;if(J.readyState==="complete")return h.ready();if(J.addEventListener){J.addEventListener("DOMContentLoaded",ka,false);b.addEventListener("load",h.ready,false)}else if(J.attachEvent){J.attachEvent("onreadystatechange",ka);b.attachEvent("onload",
h.ready);var d=false;try{d=b.frameElement==null}catch(g){}J.documentElement.doScroll&&d&&e()}}},isFunction:function(d){return wa.call(d)==="[object Function]"},isArray:function(d){return wa.call(d)==="[object Array]"},isPlainObject:function(d){if(!d||wa.call(d)!=="[object Object]"||d.nodeType||d.setInterval)return false;if(d.constructor&&!xa.call(d,"constructor")&&!xa.call(d.constructor.prototype,"isPrototypeOf"))return false;var g;for(g in d);return g===c||xa.call(d,g)},isEmptyObject:function(d){for(var g in d)return false;
return true},error:function(d){throw d;},parseJSON:function(d){if(typeof d!=="string"||!d)return null;if(/^[\],:{}\s]*$/.test(d.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return b.JSON&&b.JSON.parse?b.JSON.parse(d):(new Function("return "+d))();else h.error("Invalid JSON: "+d)},noop:function(){},globalEval:function(d){if(d&&ra.test(d)){var g=J.getElementsByTagName("head")[0]||
J.documentElement,l=J.createElement("script");l.type="text/javascript";if(h.support.scriptEval)l.appendChild(J.createTextNode(d));else l.text=d;g.insertBefore(l,g.firstChild);g.removeChild(l)}},nodeName:function(d,g){return d.nodeName&&d.nodeName.toUpperCase()===g.toUpperCase()},each:function(d,g,l){var o,n=0,z=d.length,A=z===c||h.isFunction(d);if(l)if(A)for(o in d){if(g.apply(d[o],l)===false)break}else for(;n<z;){if(g.apply(d[n++],l)===false)break}else if(A)for(o in d){if(g.call(d[o],o,d[o])===false)break}else for(l=
d[0];n<z&&g.call(l,n,l)!==false;l=d[++n]);return d},trim:function(d){return(d||"").replace(ia,"")},makeArray:function(d,g){g=g||[];if(d!=null)d.length==null||typeof d==="string"||h.isFunction(d)||typeof d!=="function"&&d.setInterval?ya.call(g,d):h.merge(g,d);return g},inArray:function(d,g){if(g.indexOf)return g.indexOf(d);for(var l=0,o=g.length;l<o;l++)if(g[l]===d)return l;return-1},merge:function(d,g){var l=d.length,o=0;if(typeof g.length==="number")for(var n=g.length;o<n;o++)d[l++]=g[o];else for(;g[o]!==
c;)d[l++]=g[o++];d.length=l;return d},grep:function(d,g,l){for(var o=[],n=0,z=d.length;n<z;n++)!l!==!g(d[n],n)&&o.push(d[n]);return o},map:function(d,g,l){for(var o=[],n,z=0,A=d.length;z<A;z++){n=g(d[z],z,l);if(n!=null)o[o.length]=n}return o.concat.apply([],o)},guid:1,proxy:function(d,g,l){if(arguments.length===2)if(typeof g==="string"){l=d;d=l[g];g=c}else if(g&&!h.isFunction(g)){l=g;g=c}if(!g&&d)g=function(){return d.apply(l||this,arguments)};if(d)g.guid=d.guid=d.guid||g.guid||h.guid++;return g},
uaMatch:function(d){d=d.toLowerCase();d=/(webkit)[ \/]([\w.]+)/.exec(d)||/(opera)(?:.*version)?[ \/]([\w.]+)/.exec(d)||/(msie) ([\w.]+)/.exec(d)||!/compatible/.test(d)&&/(mozilla)(?:.*? rv:([\w.]+))?/.exec(d)||[];return{browser:d[1]||"",version:d[2]||"0"}},browser:{}});na=h.uaMatch(na);if(na.browser){h.browser[na.browser]=true;h.browser.version=na.version}if(h.browser.webkit)h.browser.safari=true;if(La)h.inArray=function(d,g){return La.call(g,d)};V=h(J);if(J.addEventListener)ka=function(){J.removeEventListener("DOMContentLoaded",
ka,false);h.ready()};else if(J.attachEvent)ka=function(){if(J.readyState==="complete"){J.detachEvent("onreadystatechange",ka);h.ready()}};(function(){h.support={};var d=J.documentElement,g=J.createElement("script"),l=J.createElement("div"),o="script"+m();l.style.display="none";l.innerHTML="   <link/><table></table><a href='/a' style='color:red;float:left;opacity:.55;'>a</a><input type='checkbox'/>";var n=l.getElementsByTagName("*"),z=l.getElementsByTagName("a")[0];if(!(!n||!n.length||!z)){h.support=
{leadingWhitespace:l.firstChild.nodeType===3,tbody:!l.getElementsByTagName("tbody").length,htmlSerialize:!!l.getElementsByTagName("link").length,style:/red/.test(z.getAttribute("style")),hrefNormalized:z.getAttribute("href")==="/a",opacity:/^0.55$/.test(z.style.opacity),cssFloat:!!z.style.cssFloat,checkOn:l.getElementsByTagName("input")[0].value==="on",optSelected:J.createElement("select").appendChild(J.createElement("option")).selected,checkClone:false,scriptEval:false,noCloneEvent:true,boxModel:null};
g.type="text/javascript";try{g.appendChild(J.createTextNode("window."+o+"=1;"))}catch(A){}d.insertBefore(g,d.firstChild);if(b[o]){h.support.scriptEval=true;delete b[o]}d.removeChild(g);if(l.attachEvent&&l.fireEvent){l.attachEvent("onclick",function I(){h.support.noCloneEvent=false;l.detachEvent("onclick",I)});l.cloneNode(true).fireEvent("onclick")}l=J.createElement("div");l.innerHTML="<input type='radio' name='radiotest' checked='checked'/>";d=J.createDocumentFragment();d.appendChild(l.firstChild);
h.support.checkClone=d.cloneNode(true).cloneNode(true).lastChild.checked;h(function(){var I=J.createElement("div");I.style.width=I.style.paddingLeft="1px";J.body.appendChild(I);h.boxModel=h.support.boxModel=I.offsetWidth===2;J.body.removeChild(I).style.display="none"});d=function(I){var K=J.createElement("div");I="on"+I;var H=I in K;if(!H){K.setAttribute(I,"return;");H=typeof K[I]==="function"}return H};h.support.submitBubbles=d("submit");h.support.changeBubbles=d("change");d=g=l=n=z=null}})();h.props=
{"for":"htmlFor","class":"className",readonly:"readOnly",maxlength:"maxLength",cellspacing:"cellSpacing",rowspan:"rowSpan",colspan:"colSpan",tabindex:"tabIndex",usemap:"useMap",frameborder:"frameBorder"};var ea="jQuery"+m(),ab=0,Ma={},bb={};h.extend({cache:{},expando:ea,noData:{embed:true,object:true,applet:true},data:function(d,g,l){if(!(d.nodeName&&h.noData[d.nodeName.toLowerCase()])){d=d==b?Ma:d;var o=d[ea],n=h.cache;if(!g&&!o)return null;o||(o=++ab);if(typeof g==="object"){d[ea]=o;n=n[o]=h.extend(true,
{},g)}else n=n[o]?n[o]:typeof l==="undefined"?bb:(n[o]={});if(l!==c){d[ea]=o;n[g]=l}return typeof g==="string"?n[g]:n}},removeData:function(d,g){if(!(d.nodeName&&h.noData[d.nodeName.toLowerCase()])){d=d==b?Ma:d;var l=d[ea],o=h.cache,n=o[l];if(g){if(n){delete n[g];h.isEmptyObject(n)&&h.removeData(d)}}else{try{delete d[ea]}catch(z){d.removeAttribute&&d.removeAttribute(ea)}delete o[l]}}}});h.fn.extend({data:function(d,g){if(typeof d==="undefined"&&this.length)return h.data(this[0]);else if(typeof d===
"object")return this.each(function(){h.data(this,d)});var l=d.split(".");l[1]=l[1]?"."+l[1]:"";if(g===c){var o=this.triggerHandler("getData"+l[1]+"!",[l[0]]);if(o===c&&this.length)o=h.data(this[0],d);return o===c&&l[1]?this.data(l[0]):o}else return this.trigger("setData"+l[1]+"!",[l[0],g]).each(function(){h.data(this,d,g)})},removeData:function(d){return this.each(function(){h.removeData(this,d)})}});h.extend({queue:function(d,g,l){if(d){g=(g||"fx")+"queue";var o=h.data(d,g);if(!l)return o||[];if(!o||
h.isArray(l))o=h.data(d,g,h.makeArray(l));else o.push(l);return o}},dequeue:function(d,g){g=g||"fx";var l=h.queue(d,g),o=l.shift();if(o==="inprogress")o=l.shift();if(o){g==="fx"&&l.unshift("inprogress");o.call(d,function(){h.dequeue(d,g)})}}});h.fn.extend({queue:function(d,g){if(typeof d!=="string"){g=d;d="fx"}if(g===c)return h.queue(this[0],d);return this.each(function(){var l=h.queue(this,d,g);d==="fx"&&l[0]!=="inprogress"&&h.dequeue(this,d)})},dequeue:function(d){return this.each(function(){h.dequeue(this,
d)})},delay:function(d,g){d=h.fx?h.fx.speeds[d]||d:d;g=g||"fx";return this.queue(g,function(){var l=this;setTimeout(function(){h.dequeue(l,g)},d)})},clearQueue:function(d){return this.queue(d||"fx",[])}});var Na=/[\n\t]/g,za=/\s+/,cb=/\r/g,db=/href|src|style/,eb=/(button|input)/i,fb=/(button|input|object|select|textarea)/i,gb=/^(a|area)$/i,Oa=/radio|checkbox/;h.fn.extend({attr:function(d,g){return k(this,d,g,true,h.attr)},removeAttr:function(d){return this.each(function(){h.attr(this,d,"");this.nodeType===
1&&this.removeAttribute(d)})},addClass:function(d){if(h.isFunction(d))return this.each(function(K){var H=h(this);H.addClass(d.call(this,K,H.attr("class")))});if(d&&typeof d==="string")for(var g=(d||"").split(za),l=0,o=this.length;l<o;l++){var n=this[l];if(n.nodeType===1)if(n.className)for(var z=" "+n.className+" ",A=0,I=g.length;A<I;A++){if(z.indexOf(" "+g[A]+" ")<0)n.className+=" "+g[A]}else n.className=d}return this},removeClass:function(d){if(h.isFunction(d))return this.each(function(K){var H=
h(this);H.removeClass(d.call(this,K,H.attr("class")))});if(d&&typeof d==="string"||d===c)for(var g=(d||"").split(za),l=0,o=this.length;l<o;l++){var n=this[l];if(n.nodeType===1&&n.className)if(d){for(var z=(" "+n.className+" ").replace(Na," "),A=0,I=g.length;A<I;A++)z=z.replace(" "+g[A]+" "," ");n.className=z.substring(1,z.length-1)}else n.className=""}return this},toggleClass:function(d,g){var l=typeof d,o=typeof g==="boolean";if(h.isFunction(d))return this.each(function(n){var z=h(this);z.toggleClass(d.call(this,
n,z.attr("class"),g),g)});return this.each(function(){if(l==="string")for(var n,z=0,A=h(this),I=g,K=d.split(za);n=K[z++];){I=o?I:!A.hasClass(n);A[I?"addClass":"removeClass"](n)}else if(l==="undefined"||l==="boolean"){this.className&&h.data(this,"__className__",this.className);this.className=this.className||d===false?"":h.data(this,"__className__")||""}})},hasClass:function(d){d=" "+d+" ";for(var g=0,l=this.length;g<l;g++)if((" "+this[g].className+" ").replace(Na," ").indexOf(d)>-1)return true;return false},
val:function(d){if(d===c){var g=this[0];if(g){if(h.nodeName(g,"option"))return(g.attributes.value||{}).specified?g.value:g.text;if(h.nodeName(g,"select")){var l=g.selectedIndex,o=[],n=g.options;g=g.type==="select-one";if(l<0)return null;var z=g?l:0;for(l=g?l+1:n.length;z<l;z++){var A=n[z];if(A.selected){d=h(A).val();if(g)return d;o.push(d)}}return o}if(Oa.test(g.type)&&!h.support.checkOn)return g.getAttribute("value")===null?"on":g.value;return(g.value||"").replace(cb,"")}return c}var I=h.isFunction(d);
return this.each(function(K){var H=h(this),O=d;if(this.nodeType===1){if(I)O=d.call(this,K,H.val());if(typeof O==="number")O+="";if(h.isArray(O)&&Oa.test(this.type))this.checked=h.inArray(H.val(),O)>=0;else if(h.nodeName(this,"select")){var S=h.makeArray(O);h("option",this).each(function(){this.selected=h.inArray(h(this).val(),S)>=0});if(!S.length)this.selectedIndex=-1}else this.value=O}})}});h.extend({attrFn:{val:true,css:true,html:true,text:true,data:true,width:true,height:true,offset:true},attr:function(d,
g,l,o){if(!d||d.nodeType===3||d.nodeType===8)return c;if(o&&g in h.attrFn)return h(d)[g](l);o=d.nodeType!==1||!h.isXMLDoc(d);var n=l!==c;g=o&&h.props[g]||g;if(d.nodeType===1){var z=db.test(g);if(g in d&&o&&!z){if(n){g==="type"&&eb.test(d.nodeName)&&d.parentNode&&h.error("type property can't be changed");d[g]=l}if(h.nodeName(d,"form")&&d.getAttributeNode(g))return d.getAttributeNode(g).nodeValue;if(g==="tabIndex")return(g=d.getAttributeNode("tabIndex"))&&g.specified?g.value:fb.test(d.nodeName)||gb.test(d.nodeName)&&
d.href?0:c;return d[g]}if(!h.support.style&&o&&g==="style"){if(n)d.style.cssText=""+l;return d.style.cssText}n&&d.setAttribute(g,""+l);d=!h.support.hrefNormalized&&o&&z?d.getAttribute(g,2):d.getAttribute(g);return d===null?c:d}return h.style(d,g,l)}});var hb=function(d){return d.replace(/[^\w\s\.\|`]/g,function(g){return"\\"+g})};h.event={add:function(d,g,l,o){if(!(d.nodeType===3||d.nodeType===8)){if(d.setInterval&&d!==b&&!d.frameElement)d=b;if(!l.guid)l.guid=h.guid++;if(o!==c){l=h.proxy(l);l.data=
o}var n=h.data(d,"events")||h.data(d,"events",{}),z=h.data(d,"handle"),A;if(!z){A=function(){return typeof h!=="undefined"&&!h.event.triggered?h.event.handle.apply(A.elem,arguments):c};z=h.data(d,"handle",A)}if(z){z.elem=d;g=g.split(/\s+/);for(var I,K=0;I=g[K++];){var H=I.split(".");I=H.shift();if(K>1){l=h.proxy(l);if(o!==c)l.data=o}l.type=H.slice(0).sort().join(".");var O=n[I],S=this.special[I]||{};if(!O){O=n[I]={};if(!S.setup||S.setup.call(d,o,H,l)===false)if(d.addEventListener)d.addEventListener(I,
z,false);else d.attachEvent&&d.attachEvent("on"+I,z)}if(S.add)if((H=S.add.call(d,l,o,H,O))&&h.isFunction(H)){H.guid=H.guid||l.guid;H.data=H.data||l.data;H.type=H.type||l.type;l=H}O[l.guid]=l;this.global[I]=true}d=null}}},global:{},remove:function(d,g,l){if(!(d.nodeType===3||d.nodeType===8)){var o=h.data(d,"events"),n,z,A;if(o){if(g===c||typeof g==="string"&&g.charAt(0)===".")for(z in o)this.remove(d,z+(g||""));else{if(g.type){l=g.handler;g=g.type}g=g.split(/\s+/);for(var I=0;z=g[I++];){var K=z.split(".");
z=K.shift();var H=!K.length,O=h.map(K.slice(0).sort(),hb);O=new RegExp("(^|\\.)"+O.join("\\.(?:.*\\.)?")+"(\\.|$)");var S=this.special[z]||{};if(o[z]){if(l){A=o[z][l.guid];delete o[z][l.guid]}else for(var W in o[z])if(H||O.test(o[z][W].type))delete o[z][W];S.remove&&S.remove.call(d,K,A);for(n in o[z])break;if(!n){if(!S.teardown||S.teardown.call(d,K)===false)if(d.removeEventListener)d.removeEventListener(z,h.data(d,"handle"),false);else d.detachEvent&&d.detachEvent("on"+z,h.data(d,"handle"));n=null;
delete o[z]}}}}for(n in o)break;if(!n){if(W=h.data(d,"handle"))W.elem=null;h.removeData(d,"events");h.removeData(d,"handle")}}}},trigger:function(d,g,l,o){var n=d.type||d;if(!o){d=typeof d==="object"?d[ea]?d:h.extend(h.Event(n),d):h.Event(n);if(n.indexOf("!")>=0){d.type=n=n.slice(0,-1);d.exclusive=true}if(!l){d.stopPropagation();this.global[n]&&h.each(h.cache,function(){this.events&&this.events[n]&&h.event.trigger(d,g,this.handle.elem)})}if(!l||l.nodeType===3||l.nodeType===8)return c;d.result=c;d.target=
l;g=h.makeArray(g);g.unshift(d)}d.currentTarget=l;(o=h.data(l,"handle"))&&o.apply(l,g);o=l.parentNode||l.ownerDocument;try{if(!(l&&l.nodeName&&h.noData[l.nodeName.toLowerCase()]))if(l["on"+n]&&l["on"+n].apply(l,g)===false)d.result=false}catch(z){}if(!d.isPropagationStopped()&&o)h.event.trigger(d,g,o,true);else if(!d.isDefaultPrevented()){l=d.target;var A;if(!(h.nodeName(l,"a")&&n==="click")&&!(l&&l.nodeName&&h.noData[l.nodeName.toLowerCase()])){try{if(l[n]){if(A=l["on"+n])l["on"+n]=null;this.triggered=
true;l[n]()}}catch(I){}if(A)l["on"+n]=A;this.triggered=false}}},handle:function(d){var g,l;d=arguments[0]=h.event.fix(d||b.event);d.currentTarget=this;l=d.type.split(".");d.type=l.shift();g=!l.length&&!d.exclusive;var o=new RegExp("(^|\\.)"+l.slice(0).sort().join("\\.(?:.*\\.)?")+"(\\.|$)");l=(h.data(this,"events")||{})[d.type];for(var n in l){var z=l[n];if(g||o.test(z.type)){d.handler=z;d.data=z.data;z=z.apply(this,arguments);if(z!==c){d.result=z;if(z===false){d.preventDefault();d.stopPropagation()}}if(d.isImmediatePropagationStopped())break}}return d.result},
props:"altKey attrChange attrName bubbles button cancelable charCode clientX clientY ctrlKey currentTarget data detail eventPhase fromElement handler keyCode layerX layerY metaKey newValue offsetX offsetY originalTarget pageX pageY prevValue relatedNode relatedTarget screenX screenY shiftKey srcElement target toElement view wheelDelta which".split(" "),fix:function(d){if(d[ea])return d;var g=d;d=h.Event(g);for(var l=this.props.length,o;l;){o=this.props[--l];d[o]=g[o]}if(!d.target)d.target=d.srcElement||
J;if(d.target.nodeType===3)d.target=d.target.parentNode;if(!d.relatedTarget&&d.fromElement)d.relatedTarget=d.fromElement===d.target?d.toElement:d.fromElement;if(d.pageX==null&&d.clientX!=null){g=J.documentElement;l=J.body;d.pageX=d.clientX+(g&&g.scrollLeft||l&&l.scrollLeft||0)-(g&&g.clientLeft||l&&l.clientLeft||0);d.pageY=d.clientY+(g&&g.scrollTop||l&&l.scrollTop||0)-(g&&g.clientTop||l&&l.clientTop||0)}if(!d.which&&(d.charCode||d.charCode===0?d.charCode:d.keyCode))d.which=d.charCode||d.keyCode;if(!d.metaKey&&
d.ctrlKey)d.metaKey=d.ctrlKey;if(!d.which&&d.button!==c)d.which=d.button&1?1:d.button&2?3:d.button&4?2:0;return d},guid:1E8,proxy:h.proxy,special:{ready:{setup:h.bindReady,teardown:h.noop},live:{add:function(d,g){h.extend(d,g||{});d.guid+=g.selector+g.live;g.liveProxy=d;h.event.add(this,g.live,v,g)},remove:function(d){if(d.length){var g=0,l=new RegExp("(^|\\.)"+d[0]+"(\\.|$)");h.each(h.data(this,"events").live||{},function(){l.test(this.type)&&g++});g<1&&h.event.remove(this,d[0],v)}},special:{}},
beforeunload:{setup:function(d,g,l){if(this.setInterval)this.onbeforeunload=l;return false},teardown:function(d,g){if(this.onbeforeunload===g)this.onbeforeunload=null}}}};h.Event=function(d){if(!this.preventDefault)return new h.Event(d);if(d&&d.type){this.originalEvent=d;this.type=d.type}else this.type=d;this.timeStamp=m();this[ea]=true};h.Event.prototype={preventDefault:function(){this.isDefaultPrevented=x;var d=this.originalEvent;if(d){d.preventDefault&&d.preventDefault();d.returnValue=false}},
stopPropagation:function(){this.isPropagationStopped=x;var d=this.originalEvent;if(d){d.stopPropagation&&d.stopPropagation();d.cancelBubble=true}},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=x;this.stopPropagation()},isDefaultPrevented:p,isPropagationStopped:p,isImmediatePropagationStopped:p};var Pa=function(d){for(var g=d.relatedTarget;g&&g!==this;)try{g=g.parentNode}catch(l){break}if(g!==this){d.type=d.data;h.event.handle.apply(this,arguments)}},Qa=function(d){d.type=
d.data;h.event.handle.apply(this,arguments)};h.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(d,g){h.event.special[d]={setup:function(l){h.event.add(this,g,l&&l.selector?Qa:Pa,d)},teardown:function(l){h.event.remove(this,g,l&&l.selector?Qa:Pa)}}});if(!h.support.submitBubbles)h.event.special.submit={setup:function(d,g,l){if(this.nodeName.toLowerCase()!=="form"){h.event.add(this,"click.specialSubmit."+l.guid,function(o){var n=o.target,z=n.type;if((z==="submit"||z==="image")&&h(n).closest("form").length)return q("submit",
this,arguments)});h.event.add(this,"keypress.specialSubmit."+l.guid,function(o){var n=o.target,z=n.type;if((z==="text"||z==="password")&&h(n).closest("form").length&&o.keyCode===13)return q("submit",this,arguments)})}else return false},remove:function(d,g){h.event.remove(this,"click.specialSubmit"+(g?"."+g.guid:""));h.event.remove(this,"keypress.specialSubmit"+(g?"."+g.guid:""))}};if(!h.support.changeBubbles){var Aa=/textarea|input|select/i;function Ra(d){var g=d.type,l=d.value;if(g==="radio"||g===
"checkbox")l=d.checked;else if(g==="select-multiple")l=d.selectedIndex>-1?h.map(d.options,function(o){return o.selected}).join("-"):"";else if(d.nodeName.toLowerCase()==="select")l=d.selectedIndex;return l}function Ba(d,g){var l=d.target,o,n;if(!(!Aa.test(l.nodeName)||l.readOnly)){o=h.data(l,"_change_data");n=Ra(l);if(d.type!=="focusout"||l.type!=="radio")h.data(l,"_change_data",n);if(!(o===c||n===o))if(o!=null||n){d.type="change";return h.event.trigger(d,g,l)}}}h.event.special.change={filters:{focusout:Ba,
click:function(d){var g=d.target,l=g.type;if(l==="radio"||l==="checkbox"||g.nodeName.toLowerCase()==="select")return Ba.call(this,d)},keydown:function(d){var g=d.target,l=g.type;if(d.keyCode===13&&g.nodeName.toLowerCase()!=="textarea"||d.keyCode===32&&(l==="checkbox"||l==="radio")||l==="select-multiple")return Ba.call(this,d)},beforeactivate:function(d){d=d.target;d.nodeName.toLowerCase()==="input"&&d.type==="radio"&&h.data(d,"_change_data",Ra(d))}},setup:function(d,g,l){for(var o in sa)h.event.add(this,
o+".specialChange."+l.guid,sa[o]);return Aa.test(this.nodeName)},remove:function(d,g){for(var l in sa)h.event.remove(this,l+".specialChange"+(g?"."+g.guid:""),sa[l]);return Aa.test(this.nodeName)}};var sa=h.event.special.change.filters}J.addEventListener&&h.each({focus:"focusin",blur:"focusout"},function(d,g){function l(o){o=h.event.fix(o);o.type=g;return h.event.handle.call(this,o)}h.event.special[g]={setup:function(){this.addEventListener(d,l,true)},teardown:function(){this.removeEventListener(d,
l,true)}}});h.each(["bind","one"],function(d,g){h.fn[g]=function(l,o,n){if(typeof l==="object"){for(var z in l)this[g](z,o,l[z],n);return this}if(h.isFunction(o)){n=o;o=c}var A=g==="one"?h.proxy(n,function(I){h(this).unbind(I,A);return n.apply(this,arguments)}):n;return l==="unload"&&g!=="one"?this.one(l,o,n):this.each(function(){h.event.add(this,l,A,o)})}});h.fn.extend({unbind:function(d,g){if(typeof d==="object"&&!d.preventDefault){for(var l in d)this.unbind(l,d[l]);return this}return this.each(function(){h.event.remove(this,
d,g)})},trigger:function(d,g){return this.each(function(){h.event.trigger(d,g,this)})},triggerHandler:function(d,g){if(this[0]){d=h.Event(d);d.preventDefault();d.stopPropagation();h.event.trigger(d,g,this[0]);return d.result}},toggle:function(d){for(var g=arguments,l=1;l<g.length;)h.proxy(d,g[l++]);return this.click(h.proxy(d,function(o){var n=(h.data(this,"lastToggle"+d.guid)||0)%l;h.data(this,"lastToggle"+d.guid,n+1);o.preventDefault();return g[n].apply(this,arguments)||false}))},hover:function(d,
g){return this.mouseenter(d).mouseleave(g||d)}});h.each(["live","die"],function(d,g){h.fn[g]=function(l,o,n){var z,A=0;if(h.isFunction(o)){n=o;o=c}for(l=(l||"").split(/\s+/);(z=l[A++])!=null;){z=z==="focus"?"focusin":z==="blur"?"focusout":z==="hover"?l.push("mouseleave")&&"mouseenter":z;g==="live"?h(this.context).bind(w(z,this.selector),{data:o,selector:this.selector,live:z},n):h(this.context).unbind(w(z,this.selector),n?{guid:n.guid+this.selector+z}:null)}return this}});h.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error".split(" "),
function(d,g){h.fn[g]=function(l){return l?this.bind(g,l):this.trigger(g)};if(h.attrFn)h.attrFn[g]=true});b.attachEvent&&!b.addEventListener&&b.attachEvent("onunload",function(){for(var d in h.cache)if(h.cache[d].handle)try{h.event.remove(h.cache[d].handle.elem)}catch(g){}});(function(){function d(r){for(var y="",B,F=0;r[F];F++){B=r[F];if(B.nodeType===3||B.nodeType===4)y+=B.nodeValue;else if(B.nodeType!==8)y+=d(B.childNodes)}return y}function g(r,y,B,F,N,M){N=0;for(var Q=F.length;N<Q;N++){var P=F[N];
if(P){P=P[r];for(var T=false;P;){if(P.sizcache===B){T=F[P.sizset];break}if(P.nodeType===1&&!M){P.sizcache=B;P.sizset=N}if(P.nodeName.toLowerCase()===y){T=P;break}P=P[r]}F[N]=T}}}function l(r,y,B,F,N,M){N=0;for(var Q=F.length;N<Q;N++){var P=F[N];if(P){P=P[r];for(var T=false;P;){if(P.sizcache===B){T=F[P.sizset];break}if(P.nodeType===1){if(!M){P.sizcache=B;P.sizset=N}if(typeof y!=="string"){if(P===y){T=true;break}}else if(K.filter(y,[P]).length>0){T=P;break}}P=P[r]}F[N]=T}}}var o=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^[\]]*\]|['"][^'"]*['"]|[^[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,
n=0,z=Object.prototype.toString,A=false,I=true;[0,0].sort(function(){I=false;return 0});var K=function(r,y,B,F){B=B||[];var N=y=y||J;if(y.nodeType!==1&&y.nodeType!==9)return[];if(!r||typeof r!=="string")return B;for(var M=[],Q,P,T,qa,fa=true,la=R(y),ga=r;(o.exec(""),Q=o.exec(ga))!==null;){ga=Q[3];M.push(Q[1]);if(Q[2]){qa=Q[3];break}}if(M.length>1&&O.exec(r))if(M.length===2&&H.relative[M[0]])P=Ca(M[0]+M[1],y);else for(P=H.relative[M[0]]?[y]:K(M.shift(),y);M.length;){r=M.shift();if(H.relative[r])r+=
M.shift();P=Ca(r,P)}else{if(!F&&M.length>1&&y.nodeType===9&&!la&&H.match.ID.test(M[0])&&!H.match.ID.test(M[M.length-1])){Q=K.find(M.shift(),y,la);y=Q.expr?K.filter(Q.expr,Q.set)[0]:Q.set[0]}if(y){Q=F?{expr:M.pop(),set:W(F)}:K.find(M.pop(),M.length===1&&(M[0]==="~"||M[0]==="+")&&y.parentNode?y.parentNode:y,la);P=Q.expr?K.filter(Q.expr,Q.set):Q.set;if(M.length>0)T=W(P);else fa=false;for(;M.length;){var aa=M.pop();Q=aa;if(H.relative[aa])Q=M.pop();else aa="";if(Q==null)Q=y;H.relative[aa](T,Q,la)}}else T=
[]}T||(T=P);T||K.error(aa||r);if(z.call(T)==="[object Array]")if(fa)if(y&&y.nodeType===1)for(r=0;T[r]!=null;r++){if(T[r]&&(T[r]===true||T[r].nodeType===1&&ba(y,T[r])))B.push(P[r])}else for(r=0;T[r]!=null;r++)T[r]&&T[r].nodeType===1&&B.push(P[r]);else B.push.apply(B,T);else W(T,B);if(qa){K(qa,N,B,F);K.uniqueSort(B)}return B};K.uniqueSort=function(r){if(Z){A=I;r.sort(Z);if(A)for(var y=1;y<r.length;y++)r[y]===r[y-1]&&r.splice(y--,1)}return r};K.matches=function(r,y){return K(r,null,null,y)};K.find=function(r,
y,B){var F,N;if(!r)return[];for(var M=0,Q=H.order.length;M<Q;M++){var P=H.order[M];if(N=H.leftMatch[P].exec(r)){var T=N[1];N.splice(1,1);if(T.substr(T.length-1)!=="\\"){N[1]=(N[1]||"").replace(/\\/g,"");F=H.find[P](N,y,B);if(F!=null){r=r.replace(H.match[P],"");break}}}}F||(F=y.getElementsByTagName("*"));return{set:F,expr:r}};K.filter=function(r,y,B,F){for(var N=r,M=[],Q=y,P,T,qa=y&&y[0]&&R(y[0]);r&&y.length;){for(var fa in H.filter)if((P=H.leftMatch[fa].exec(r))!=null&&P[2]){var la=H.filter[fa],ga,
aa;aa=P[1];T=false;P.splice(1,1);if(aa.substr(aa.length-1)!=="\\"){if(Q===M)M=[];if(H.preFilter[fa])if(P=H.preFilter[fa](P,Q,B,M,F,qa)){if(P===true)continue}else T=ga=true;if(P)for(var ta=0;(aa=Q[ta])!=null;ta++)if(aa){ga=la(aa,P,ta,Q);var Sa=F^!!ga;if(B&&ga!=null)if(Sa)T=true;else Q[ta]=false;else if(Sa){M.push(aa);T=true}}if(ga!==c){B||(Q=M);r=r.replace(H.match[fa],"");if(!T)return[];break}}}if(r===N)if(T==null)K.error(r);else break;N=r}return Q};K.error=function(r){throw"Syntax error, unrecognized expression: "+
r;};var H=K.selectors={order:["ID","NAME","TAG"],match:{ID:/#((?:[\w\u00c0-\uFFFF-]|\\.)+)/,CLASS:/\.((?:[\w\u00c0-\uFFFF-]|\\.)+)/,NAME:/\[name=['"]*((?:[\w\u00c0-\uFFFF-]|\\.)+)['"]*\]/,ATTR:/\[\s*((?:[\w\u00c0-\uFFFF-]|\\.)+)\s*(?:(\S?=)\s*(['"]*)(.*?)\3|)\s*\]/,TAG:/^((?:[\w\u00c0-\uFFFF\*-]|\\.)+)/,CHILD:/:(only|nth|last|first)-child(?:\((even|odd|[\dn+-]*)\))?/,POS:/:(nth|eq|gt|lt|first|last|even|odd)(?:\((\d*)\))?(?=[^-]|$)/,PSEUDO:/:((?:[\w\u00c0-\uFFFF-]|\\.)+)(?:\((['"]?)((?:\([^\)]+\)|[^\(\)]*)+)\2\))?/},
leftMatch:{},attrMap:{"class":"className","for":"htmlFor"},attrHandle:{href:function(r){return r.getAttribute("href")}},relative:{"+":function(r,y){var B=typeof y==="string",F=B&&!/\W/.test(y);B=B&&!F;if(F)y=y.toLowerCase();F=0;for(var N=r.length,M;F<N;F++)if(M=r[F]){for(;(M=M.previousSibling)&&M.nodeType!==1;);r[F]=B||M&&M.nodeName.toLowerCase()===y?M||false:M===y}B&&K.filter(y,r,true)},">":function(r,y){var B=typeof y==="string";if(B&&!/\W/.test(y)){y=y.toLowerCase();for(var F=0,N=r.length;F<N;F++){var M=
r[F];if(M){B=M.parentNode;r[F]=B.nodeName.toLowerCase()===y?B:false}}}else{F=0;for(N=r.length;F<N;F++)if(M=r[F])r[F]=B?M.parentNode:M.parentNode===y;B&&K.filter(y,r,true)}},"":function(r,y,B){var F=n++,N=l;if(typeof y==="string"&&!/\W/.test(y)){var M=y=y.toLowerCase();N=g}N("parentNode",y,F,r,M,B)},"~":function(r,y,B){var F=n++,N=l;if(typeof y==="string"&&!/\W/.test(y)){var M=y=y.toLowerCase();N=g}N("previousSibling",y,F,r,M,B)}},find:{ID:function(r,y,B){if(typeof y.getElementById!=="undefined"&&
!B)return(r=y.getElementById(r[1]))?[r]:[]},NAME:function(r,y){if(typeof y.getElementsByName!=="undefined"){var B=[];y=y.getElementsByName(r[1]);for(var F=0,N=y.length;F<N;F++)y[F].getAttribute("name")===r[1]&&B.push(y[F]);return B.length===0?null:B}},TAG:function(r,y){return y.getElementsByTagName(r[1])}},preFilter:{CLASS:function(r,y,B,F,N,M){r=" "+r[1].replace(/\\/g,"")+" ";if(M)return r;M=0;for(var Q;(Q=y[M])!=null;M++)if(Q)if(N^(Q.className&&(" "+Q.className+" ").replace(/[\t\n]/g," ").indexOf(r)>=
0))B||F.push(Q);else if(B)y[M]=false;return false},ID:function(r){return r[1].replace(/\\/g,"")},TAG:function(r){return r[1].toLowerCase()},CHILD:function(r){if(r[1]==="nth"){var y=/(-?)(\d*)n((?:\+|-)?\d*)/.exec(r[2]==="even"&&"2n"||r[2]==="odd"&&"2n+1"||!/\D/.test(r[2])&&"0n+"+r[2]||r[2]);r[2]=y[1]+(y[2]||1)-0;r[3]=y[3]-0}r[0]=n++;return r},ATTR:function(r,y,B,F,N,M){y=r[1].replace(/\\/g,"");if(!M&&H.attrMap[y])r[1]=H.attrMap[y];if(r[2]==="~=")r[4]=" "+r[4]+" ";return r},PSEUDO:function(r,y,B,F,
N){if(r[1]==="not")if((o.exec(r[3])||"").length>1||/^\w/.test(r[3]))r[3]=K(r[3],null,null,y);else{r=K.filter(r[3],y,B,true^N);B||F.push.apply(F,r);return false}else if(H.match.POS.test(r[0])||H.match.CHILD.test(r[0]))return true;return r},POS:function(r){r.unshift(true);return r}},filters:{enabled:function(r){return r.disabled===false&&r.type!=="hidden"},disabled:function(r){return r.disabled===true},checked:function(r){return r.checked===true},selected:function(r){return r.selected===true},parent:function(r){return!!r.firstChild},
empty:function(r){return!r.firstChild},has:function(r,y,B){return!!K(B[3],r).length},header:function(r){return/h\d/i.test(r.nodeName)},text:function(r){return"text"===r.type},radio:function(r){return"radio"===r.type},checkbox:function(r){return"checkbox"===r.type},file:function(r){return"file"===r.type},password:function(r){return"password"===r.type},submit:function(r){return"submit"===r.type},image:function(r){return"image"===r.type},reset:function(r){return"reset"===r.type},button:function(r){return"button"===
r.type||r.nodeName.toLowerCase()==="button"},input:function(r){return/input|select|textarea|button/i.test(r.nodeName)}},setFilters:{first:function(r,y){return y===0},last:function(r,y,B,F){return y===F.length-1},even:function(r,y){return y%2===0},odd:function(r,y){return y%2===1},lt:function(r,y,B){return y<B[3]-0},gt:function(r,y,B){return y>B[3]-0},nth:function(r,y,B){return B[3]-0===y},eq:function(r,y,B){return B[3]-0===y}},filter:{PSEUDO:function(r,y,B,F){var N=y[1],M=H.filters[N];if(M)return M(r,
B,y,F);else if(N==="contains")return(r.textContent||r.innerText||d([r])||"").indexOf(y[3])>=0;else if(N==="not"){y=y[3];B=0;for(F=y.length;B<F;B++)if(y[B]===r)return false;return true}else K.error("Syntax error, unrecognized expression: "+N)},CHILD:function(r,y){var B=y[1],F=r;switch(B){case "only":case "first":for(;F=F.previousSibling;)if(F.nodeType===1)return false;if(B==="first")return true;F=r;case "last":for(;F=F.nextSibling;)if(F.nodeType===1)return false;return true;case "nth":B=y[2];var N=
y[3];if(B===1&&N===0)return true;y=y[0];var M=r.parentNode;if(M&&(M.sizcache!==y||!r.nodeIndex)){var Q=0;for(F=M.firstChild;F;F=F.nextSibling)if(F.nodeType===1)F.nodeIndex=++Q;M.sizcache=y}r=r.nodeIndex-N;return B===0?r===0:r%B===0&&r/B>=0}},ID:function(r,y){return r.nodeType===1&&r.getAttribute("id")===y},TAG:function(r,y){return y==="*"&&r.nodeType===1||r.nodeName.toLowerCase()===y},CLASS:function(r,y){return(" "+(r.className||r.getAttribute("class"))+" ").indexOf(y)>-1},ATTR:function(r,y){var B=
y[1];r=H.attrHandle[B]?H.attrHandle[B](r):r[B]!=null?r[B]:r.getAttribute(B);B=r+"";var F=y[2];y=y[4];return r==null?F==="!=":F==="="?B===y:F==="*="?B.indexOf(y)>=0:F==="~="?(" "+B+" ").indexOf(y)>=0:!y?B&&r!==false:F==="!="?B!==y:F==="^="?B.indexOf(y)===0:F==="$="?B.substr(B.length-y.length)===y:F==="|="?B===y||B.substr(0,y.length+1)===y+"-":false},POS:function(r,y,B,F){var N=H.setFilters[y[2]];if(N)return N(r,B,y,F)}}},O=H.match.POS;for(var S in H.match){H.match[S]=new RegExp(H.match[S].source+/(?![^\[]*\])(?![^\(]*\))/.source);
H.leftMatch[S]=new RegExp(/(^(?:.|\r|\n)*?)/.source+H.match[S].source.replace(/\\(\d+)/g,function(r,y){return"\\"+(y-0+1)}))}var W=function(r,y){r=Array.prototype.slice.call(r,0);if(y){y.push.apply(y,r);return y}return r};try{Array.prototype.slice.call(J.documentElement.childNodes,0)}catch(Y){W=function(r,y){y=y||[];if(z.call(r)==="[object Array]")Array.prototype.push.apply(y,r);else if(typeof r.length==="number")for(var B=0,F=r.length;B<F;B++)y.push(r[B]);else for(B=0;r[B];B++)y.push(r[B]);return y}}var Z;
if(J.documentElement.compareDocumentPosition)Z=function(r,y){if(!r.compareDocumentPosition||!y.compareDocumentPosition){if(r==y)A=true;return r.compareDocumentPosition?-1:1}r=r.compareDocumentPosition(y)&4?-1:r===y?0:1;if(r===0)A=true;return r};else if("sourceIndex"in J.documentElement)Z=function(r,y){if(!r.sourceIndex||!y.sourceIndex){if(r==y)A=true;return r.sourceIndex?-1:1}r=r.sourceIndex-y.sourceIndex;if(r===0)A=true;return r};else if(J.createRange)Z=function(r,y){if(!r.ownerDocument||!y.ownerDocument){if(r==
y)A=true;return r.ownerDocument?-1:1}var B=r.ownerDocument.createRange(),F=y.ownerDocument.createRange();B.setStart(r,0);B.setEnd(r,0);F.setStart(y,0);F.setEnd(y,0);r=B.compareBoundaryPoints(Range.START_TO_END,F);if(r===0)A=true;return r};(function(){var r=J.createElement("div"),y="script"+(new Date).getTime();r.innerHTML="<a name='"+y+"'/>";var B=J.documentElement;B.insertBefore(r,B.firstChild);if(J.getElementById(y)){H.find.ID=function(F,N,M){if(typeof N.getElementById!=="undefined"&&!M)return(N=
N.getElementById(F[1]))?N.id===F[1]||typeof N.getAttributeNode!=="undefined"&&N.getAttributeNode("id").nodeValue===F[1]?[N]:c:[]};H.filter.ID=function(F,N){var M=typeof F.getAttributeNode!=="undefined"&&F.getAttributeNode("id");return F.nodeType===1&&M&&M.nodeValue===N}}B.removeChild(r);B=r=null})();(function(){var r=J.createElement("div");r.appendChild(J.createComment(""));if(r.getElementsByTagName("*").length>0)H.find.TAG=function(y,B){B=B.getElementsByTagName(y[1]);if(y[1]==="*"){y=[];for(var F=
0;B[F];F++)B[F].nodeType===1&&y.push(B[F]);B=y}return B};r.innerHTML="<a href='#'></a>";if(r.firstChild&&typeof r.firstChild.getAttribute!=="undefined"&&r.firstChild.getAttribute("href")!=="#")H.attrHandle.href=function(y){return y.getAttribute("href",2)};r=null})();J.querySelectorAll&&function(){var r=K,y=J.createElement("div");y.innerHTML="<p class='TEST'></p>";if(!(y.querySelectorAll&&y.querySelectorAll(".TEST").length===0)){K=function(F,N,M,Q){N=N||J;if(!Q&&N.nodeType===9&&!R(N))try{return W(N.querySelectorAll(F),
M)}catch(P){}return r(F,N,M,Q)};for(var B in r)K[B]=r[B];y=null}}();(function(){var r=J.createElement("div");r.innerHTML="<div class='test e'></div><div class='test'></div>";if(!(!r.getElementsByClassName||r.getElementsByClassName("e").length===0)){r.lastChild.className="e";if(r.getElementsByClassName("e").length!==1){H.order.splice(1,0,"CLASS");H.find.CLASS=function(y,B,F){if(typeof B.getElementsByClassName!=="undefined"&&!F)return B.getElementsByClassName(y[1])};r=null}}})();var ba=J.compareDocumentPosition?
function(r,y){return r.compareDocumentPosition(y)&16}:function(r,y){return r!==y&&(r.contains?r.contains(y):true)},R=function(r){return(r=(r?r.ownerDocument||r:0).documentElement)?r.nodeName!=="HTML":false},Ca=function(r,y){var B=[],F="",N;for(y=y.nodeType?[y]:y;N=H.match.PSEUDO.exec(r);){F+=N[0];r=r.replace(H.match.PSEUDO,"")}r=H.relative[r]?r+"*":r;N=0;for(var M=y.length;N<M;N++)K(r,y[N],B);return K.filter(F,B)};h.find=K;h.expr=K.selectors;h.expr[":"]=h.expr.filters;h.unique=K.uniqueSort;h.getText=
d;h.isXMLDoc=R;h.contains=ba})();var ib=/Until$/,jb=/^(?:parents|prevUntil|prevAll)/,kb=/,/;pa=Array.prototype.slice;var Ta=function(d,g,l){if(h.isFunction(g))return h.grep(d,function(n,z){return!!g.call(n,z,n)===l});else if(g.nodeType)return h.grep(d,function(n){return n===g===l});else if(typeof g==="string"){var o=h.grep(d,function(n){return n.nodeType===1});if(ha.test(g))return h.filter(g,o,!l);else g=h.filter(g,o)}return h.grep(d,function(n){return h.inArray(n,g)>=0===l})};h.fn.extend({find:function(d){for(var g=
this.pushStack("","find",d),l=0,o=0,n=this.length;o<n;o++){l=g.length;h.find(d,this[o],g);if(o>0)for(var z=l;z<g.length;z++)for(var A=0;A<l;A++)if(g[A]===g[z]){g.splice(z--,1);break}}return g},has:function(d){var g=h(d);return this.filter(function(){for(var l=0,o=g.length;l<o;l++)if(h.contains(this,g[l]))return true})},not:function(d){return this.pushStack(Ta(this,d,false),"not",d)},filter:function(d){return this.pushStack(Ta(this,d,true),"filter",d)},is:function(d){return!!d&&h.filter(d,this).length>
0},closest:function(d,g){if(h.isArray(d)){var l=[],o=this[0],n,z={},A;if(o&&d.length){n=0;for(var I=d.length;n<I;n++){A=d[n];z[A]||(z[A]=h.expr.match.POS.test(A)?h(A,g||this.context):A)}for(;o&&o.ownerDocument&&o!==g;){for(A in z){n=z[A];if(n.jquery?n.index(o)>-1:h(o).is(n)){l.push({selector:A,elem:o});delete z[A]}}o=o.parentNode}}return l}var K=h.expr.match.POS.test(d)?h(d,g||this.context):null;return this.map(function(H,O){for(;O&&O.ownerDocument&&O!==g;){if(K?K.index(O)>-1:h(O).is(d))return O;
O=O.parentNode}return null})},index:function(d){if(!d||typeof d==="string")return h.inArray(this[0],d?h(d):this.parent().children());return h.inArray(d.jquery?d[0]:d,this)},add:function(d,g){d=typeof d==="string"?h(d,g||this.context):h.makeArray(d);g=h.merge(this.get(),d);return this.pushStack(C(d[0])||C(g[0])?g:h.unique(g))},andSelf:function(){return this.add(this.prevObject)}});h.each({parent:function(d){return(d=d.parentNode)&&d.nodeType!==11?d:null},parents:function(d){return h.dir(d,"parentNode")},
parentsUntil:function(d,g,l){return h.dir(d,"parentNode",l)},next:function(d){return h.nth(d,2,"nextSibling")},prev:function(d){return h.nth(d,2,"previousSibling")},nextAll:function(d){return h.dir(d,"nextSibling")},prevAll:function(d){return h.dir(d,"previousSibling")},nextUntil:function(d,g,l){return h.dir(d,"nextSibling",l)},prevUntil:function(d,g,l){return h.dir(d,"previousSibling",l)},siblings:function(d){return h.sibling(d.parentNode.firstChild,d)},children:function(d){return h.sibling(d.firstChild)},
contents:function(d){return h.nodeName(d,"iframe")?d.contentDocument||d.contentWindow.document:h.makeArray(d.childNodes)}},function(d,g){h.fn[d]=function(l,o){var n=h.map(this,g,l);ib.test(d)||(o=l);if(o&&typeof o==="string")n=h.filter(o,n);n=this.length>1?h.unique(n):n;if((this.length>1||kb.test(o))&&jb.test(d))n=n.reverse();return this.pushStack(n,d,pa.call(arguments).join(","))}});h.extend({filter:function(d,g,l){if(l)d=":not("+d+")";return h.find.matches(d,g)},dir:function(d,g,l){var o=[];for(d=
d[g];d&&d.nodeType!==9&&(l===c||d.nodeType!==1||!h(d).is(l));){d.nodeType===1&&o.push(d);d=d[g]}return o},nth:function(d,g,l){g=g||1;for(var o=0;d;d=d[l])if(d.nodeType===1&&++o===g)break;return d},sibling:function(d,g){for(var l=[];d;d=d.nextSibling)d.nodeType===1&&d!==g&&l.push(d);return l}});var Ua=/ jQuery\d+="(?:\d+|null)"/g,ua=/^\s+/,Va=/(<([\w:]+)[^>]*?)\/>/g,lb=/^(?:area|br|col|embed|hr|img|input|link|meta|param)$/i,Wa=/<([\w:]+)/,mb=/<tbody/i,nb=/<|&\w+;/,Ia=/checked\s*(?:[^=]|=\s*.checked.)/i,
Xa=function(d,g,l){return lb.test(l)?d:g+"></"+l+">"},ca={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,"",""]};ca.optgroup=ca.option;ca.tbody=ca.tfoot=ca.colgroup=ca.caption=ca.thead;ca.th=ca.td;if(!h.support.htmlSerialize)ca._default=
[1,"div<div>","</div>"];h.fn.extend({text:function(d){if(h.isFunction(d))return this.each(function(g){var l=h(this);l.text(d.call(this,g,l.text()))});if(typeof d!=="object"&&d!==c)return this.empty().append((this[0]&&this[0].ownerDocument||J).createTextNode(d));return h.getText(this)},wrapAll:function(d){if(h.isFunction(d))return this.each(function(l){h(this).wrapAll(d.call(this,l))});if(this[0]){var g=h(d,this[0].ownerDocument).eq(0).clone(true);this[0].parentNode&&g.insertBefore(this[0]);g.map(function(){for(var l=
this;l.firstChild&&l.firstChild.nodeType===1;)l=l.firstChild;return l}).append(this)}return this},wrapInner:function(d){if(h.isFunction(d))return this.each(function(g){h(this).wrapInner(d.call(this,g))});return this.each(function(){var g=h(this),l=g.contents();l.length?l.wrapAll(d):g.append(d)})},wrap:function(d){return this.each(function(){h(this).wrapAll(d)})},unwrap:function(){return this.parent().each(function(){h.nodeName(this,"body")||h(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,
true,function(d){this.nodeType===1&&this.appendChild(d)})},prepend:function(){return this.domManip(arguments,true,function(d){this.nodeType===1&&this.insertBefore(d,this.firstChild)})},before:function(){if(this[0]&&this[0].parentNode)return this.domManip(arguments,false,function(g){this.parentNode.insertBefore(g,this)});else if(arguments.length){var d=h(arguments[0]);d.push.apply(d,this.toArray());return this.pushStack(d,"before",arguments)}},after:function(){if(this[0]&&this[0].parentNode)return this.domManip(arguments,
false,function(g){this.parentNode.insertBefore(g,this.nextSibling)});else if(arguments.length){var d=this.pushStack(this,"after",arguments);d.push.apply(d,h(arguments[0]).toArray());return d}},clone:function(d){var g=this.map(function(){if(!h.support.noCloneEvent&&!h.isXMLDoc(this)){var l=this.outerHTML,o=this.ownerDocument;if(!l){l=o.createElement("div");l.appendChild(this.cloneNode(true));l=l.innerHTML}return h.clean([l.replace(Ua,"").replace(ua,"")],o)[0]}else return this.cloneNode(true)});if(d===
true){E(this,g);E(this.find("*"),g.find("*"))}return g},html:function(d){if(d===c)return this[0]&&this[0].nodeType===1?this[0].innerHTML.replace(Ua,""):null;else if(typeof d==="string"&&!/<script/i.test(d)&&(h.support.leadingWhitespace||!ua.test(d))&&!ca[(Wa.exec(d)||["",""])[1].toLowerCase()]){d=d.replace(Va,Xa);try{for(var g=0,l=this.length;g<l;g++)if(this[g].nodeType===1){h.cleanData(this[g].getElementsByTagName("*"));this[g].innerHTML=d}}catch(o){this.empty().append(d)}}else h.isFunction(d)?this.each(function(n){var z=
h(this),A=z.html();z.empty().append(function(){return d.call(this,n,A)})}):this.empty().append(d);return this},replaceWith:function(d){if(this[0]&&this[0].parentNode){if(h.isFunction(d))return this.each(function(g){var l=h(this),o=l.html();l.replaceWith(d.call(this,g,o))});else d=h(d).detach();return this.each(function(){var g=this.nextSibling,l=this.parentNode;h(this).remove();g?h(g).before(d):h(l).append(d)})}else return this.pushStack(h(h.isFunction(d)?d():d),"replaceWith",d)},detach:function(d){return this.remove(d,
true)},domManip:function(d,g,l){function o(O){return h.nodeName(O,"table")?O.getElementsByTagName("tbody")[0]||O.appendChild(O.ownerDocument.createElement("tbody")):O}var n,z,A=d[0],I=[];if(!h.support.checkClone&&arguments.length===3&&typeof A==="string"&&Ia.test(A))return this.each(function(){h(this).domManip(d,g,l,true)});if(h.isFunction(A))return this.each(function(O){var S=h(this);d[0]=A.call(this,O,g?S.html():c);S.domManip(d,g,l)});if(this[0]){n=d[0]&&d[0].parentNode&&d[0].parentNode.nodeType===
11?{fragment:d[0].parentNode}:D(d,this,I);if(z=n.fragment.firstChild){g=g&&h.nodeName(z,"tr");for(var K=0,H=this.length;K<H;K++)l.call(g?o(this[K],z):this[K],n.cacheable||this.length>1||K>0?n.fragment.cloneNode(true):n.fragment)}I&&h.each(I,f)}return this}});h.fragments={};h.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(d,g){h.fn[d]=function(l){var o=[];l=h(l);for(var n=0,z=l.length;n<z;n++){var A=(n>0?this.clone(true):this).get();
h.fn[g].apply(h(l[n]),A);o=o.concat(A)}return this.pushStack(o,d,l.selector)}});h.each({remove:function(d,g){if(!d||h.filter(d,[this]).length){if(!g&&this.nodeType===1){h.cleanData(this.getElementsByTagName("*"));h.cleanData([this])}this.parentNode&&this.parentNode.removeChild(this)}},empty:function(){for(this.nodeType===1&&h.cleanData(this.getElementsByTagName("*"));this.firstChild;)this.removeChild(this.firstChild)}},function(d,g){h.fn[d]=function(){return this.each(g,arguments)}});h.extend({clean:function(d,
g,l,o){g=g||J;if(typeof g.createElement==="undefined")g=g.ownerDocument||g[0]&&g[0].ownerDocument||J;var n=[];h.each(d,function(z,A){if(typeof A==="number")A+="";if(A){if(typeof A==="string"&&!nb.test(A))A=g.createTextNode(A);else if(typeof A==="string"){A=A.replace(Va,Xa);var I=(Wa.exec(A)||["",""])[1].toLowerCase(),K=ca[I]||ca._default,H=K[0];z=g.createElement("div");for(z.innerHTML=K[1]+A+K[2];H--;)z=z.lastChild;if(!h.support.tbody){H=mb.test(A);I=I==="table"&&!H?z.firstChild&&z.firstChild.childNodes:
K[1]==="<table>"&&!H?z.childNodes:[];for(K=I.length-1;K>=0;--K)h.nodeName(I[K],"tbody")&&!I[K].childNodes.length&&I[K].parentNode.removeChild(I[K])}!h.support.leadingWhitespace&&ua.test(A)&&z.insertBefore(g.createTextNode(ua.exec(A)[0]),z.firstChild);A=h.makeArray(z.childNodes)}if(A.nodeType)n.push(A);else n=h.merge(n,A)}});if(l)for(d=0;n[d];d++)if(o&&h.nodeName(n[d],"script")&&(!n[d].type||n[d].type.toLowerCase()==="text/javascript"))o.push(n[d].parentNode?n[d].parentNode.removeChild(n[d]):n[d]);
else{n[d].nodeType===1&&n.splice.apply(n,[d+1,0].concat(h.makeArray(n[d].getElementsByTagName("script"))));l.appendChild(n[d])}return n},cleanData:function(d){for(var g=0,l;(l=d[g])!=null;g++){h.event.remove(l);h.removeData(l)}}});var ob=/z-?index|font-?weight|opacity|zoom|line-?height/i,Ya=/alpha\([^)]*\)/,Za=/opacity=([^)]*)/,Da=/float/i,Ea=/-([a-z])/ig,pb=/([A-Z])/g,qb=/^-?\d+(?:px)?$/i,rb=/^-?\d/,sb={position:"absolute",visibility:"hidden",display:"block"},tb=["Left","Right"],ub=["Top","Bottom"],
vb=J.defaultView&&J.defaultView.getComputedStyle,$a=h.support.cssFloat?"cssFloat":"styleFloat",Fa=function(d,g){return g.toUpperCase()};h.fn.css=function(d,g){return k(this,d,g,true,function(l,o,n){if(n===c)return h.curCSS(l,o);if(typeof n==="number"&&!ob.test(o))n+="px";h.style(l,o,n)})};h.extend({style:function(d,g,l){if(!d||d.nodeType===3||d.nodeType===8)return c;if((g==="width"||g==="height")&&parseFloat(l)<0)l=c;var o=d.style||d,n=l!==c;if(!h.support.opacity&&g==="opacity"){if(n){o.zoom=1;g=
parseInt(l,10)+""==="NaN"?"":"alpha(opacity="+l*100+")";d=o.filter||h.curCSS(d,"filter")||"";o.filter=Ya.test(d)?d.replace(Ya,g):g}return o.filter&&o.filter.indexOf("opacity=")>=0?parseFloat(Za.exec(o.filter)[1])/100+"":""}if(Da.test(g))g=$a;g=g.replace(Ea,Fa);if(n)o[g]=l;return o[g]},css:function(d,g,l,o){if(g==="width"||g==="height"){var n,z=g==="width"?tb:ub;function A(){n=g==="width"?d.offsetWidth:d.offsetHeight;o!=="border"&&h.each(z,function(){o||(n-=parseFloat(h.curCSS(d,"padding"+this,true))||
0);if(o==="margin")n+=parseFloat(h.curCSS(d,"margin"+this,true))||0;else n-=parseFloat(h.curCSS(d,"border"+this+"Width",true))||0})}d.offsetWidth!==0?A():h.swap(d,sb,A);return Math.max(0,Math.round(n))}return h.curCSS(d,g,l)},curCSS:function(d,g,l){var o,n=d.style;if(!h.support.opacity&&g==="opacity"&&d.currentStyle){o=Za.test(d.currentStyle.filter||"")?parseFloat(RegExp.$1)/100+"":"";return o===""?"1":o}if(Da.test(g))g=$a;if(!l&&n&&n[g])o=n[g];else if(vb){if(Da.test(g))g="float";g=g.replace(pb,"-$1").toLowerCase();
n=d.ownerDocument.defaultView;if(!n)return null;if(d=n.getComputedStyle(d,null))o=d.getPropertyValue(g);if(g==="opacity"&&o==="")o="1"}else if(d.currentStyle){l=g.replace(Ea,Fa);o=d.currentStyle[g]||d.currentStyle[l];if(!qb.test(o)&&rb.test(o)){g=n.left;var z=d.runtimeStyle.left;d.runtimeStyle.left=d.currentStyle.left;n.left=l==="fontSize"?"1em":o||0;o=n.pixelLeft+"px";n.left=g;d.runtimeStyle.left=z}}return o},swap:function(d,g,l){var o={};for(var n in g){o[n]=d.style[n];d.style[n]=g[n]}l.call(d);
for(n in g)d.style[n]=o[n]}});if(h.expr&&h.expr.filters){h.expr.filters.hidden=function(d){var g=d.offsetWidth,l=d.offsetHeight,o=d.nodeName.toLowerCase()==="tr";return g===0&&l===0&&!o?true:g>0&&l>0&&!o?false:h.curCSS(d,"display")==="none"};h.expr.filters.visible=function(d){return!h.expr.filters.hidden(d)}}var wb=m(),xb=/<script(.|\s)*?\/script>/gi,yb=/select|textarea/i,zb=/color|date|datetime|email|hidden|month|number|password|range|search|tel|text|time|url|week/i,ma=/=\?(&|$)/,Ga=/\?/,Ab=/(\?|&)_=.*?(&|$)/,
Bb=/^(\w+:)?\/\/([^\/?#]+)/,Cb=/%20/g;h.fn.extend({_load:h.fn.load,load:function(d,g,l){if(typeof d!=="string")return this._load(d);else if(!this.length)return this;var o=d.indexOf(" ");if(o>=0){var n=d.slice(o,d.length);d=d.slice(0,o)}o="GET";if(g)if(h.isFunction(g)){l=g;g=null}else if(typeof g==="object"){g=h.param(g,h.ajaxSettings.traditional);o="POST"}var z=this;h.ajax({url:d,type:o,dataType:"html",data:g,complete:function(A,I){if(I==="success"||I==="notmodified")z.html(n?h("<div />").append(A.responseText.replace(xb,
"")).find(n):A.responseText);l&&z.each(l,[A.responseText,I,A])}});return this},serialize:function(){return h.param(this.serializeArray())},serializeArray:function(){return this.map(function(){return this.elements?h.makeArray(this.elements):this}).filter(function(){return this.name&&!this.disabled&&(this.checked||yb.test(this.nodeName)||zb.test(this.type))}).map(function(d,g){d=h(this).val();return d==null?null:h.isArray(d)?h.map(d,function(l){return{name:g.name,value:l}}):{name:g.name,value:d}}).get()}});
h.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(d,g){h.fn[g]=function(l){return this.bind(g,l)}});h.extend({get:function(d,g,l,o){if(h.isFunction(g)){o=o||l;l=g;g=null}return h.ajax({type:"GET",url:d,data:g,success:l,dataType:o})},getScript:function(d,g){return h.get(d,null,g,"script")},getJSON:function(d,g,l){return h.get(d,g,l,"json")},post:function(d,g,l,o){if(h.isFunction(g)){o=o||l;l=g;g={}}return h.ajax({type:"POST",url:d,data:g,success:l,dataType:o})},
ajaxSetup:function(d){h.extend(h.ajaxSettings,d)},ajaxSettings:{url:location.href,global:true,type:"GET",contentType:"application/x-www-form-urlencoded",processData:true,async:true,xhr:b.XMLHttpRequest&&(b.location.protocol!=="file:"||!b.ActiveXObject)?function(){return new b.XMLHttpRequest}:function(){try{return new b.ActiveXObject("Microsoft.XMLHTTP")}catch(d){}},accepts:{xml:"application/xml, text/xml",html:"text/html",script:"text/javascript, application/javascript",json:"application/json, text/javascript",
text:"text/plain",_default:"*/*"}},lastModified:{},etag:{},ajax:function(d){function g(){n.success&&n.success.call(K,I,A,R);n.global&&o("ajaxSuccess",[R,n])}function l(){n.complete&&n.complete.call(K,R,A);n.global&&o("ajaxComplete",[R,n]);n.global&&!--h.active&&h.event.trigger("ajaxStop")}function o(N,M){(n.context?h(n.context):h.event).trigger(N,M)}var n=h.extend(true,{},h.ajaxSettings,d),z,A,I,K=d&&d.context||n,H=n.type.toUpperCase();if(n.data&&n.processData&&typeof n.data!=="string")n.data=h.param(n.data,
n.traditional);if(n.dataType==="jsonp"){if(H==="GET")ma.test(n.url)||(n.url+=(Ga.test(n.url)?"&":"?")+(n.jsonp||"callback")+"=?");else if(!n.data||!ma.test(n.data))n.data=(n.data?n.data+"&":"")+(n.jsonp||"callback")+"=?";n.dataType="json"}if(n.dataType==="json"&&(n.data&&ma.test(n.data)||ma.test(n.url))){z=n.jsonpCallback||"jsonp"+wb++;if(n.data)n.data=(n.data+"").replace(ma,"="+z+"$1");n.url=n.url.replace(ma,"="+z+"$1");n.dataType="script";b[z]=b[z]||function(N){I=N;g();l();b[z]=c;try{delete b[z]}catch(M){}W&&
W.removeChild(Y)}}if(n.dataType==="script"&&n.cache===null)n.cache=false;if(n.cache===false&&H==="GET"){var O=m(),S=n.url.replace(Ab,"$1_="+O+"$2");n.url=S+(S===n.url?(Ga.test(n.url)?"&":"?")+"_="+O:"")}if(n.data&&H==="GET")n.url+=(Ga.test(n.url)?"&":"?")+n.data;n.global&&!h.active++&&h.event.trigger("ajaxStart");O=(O=Bb.exec(n.url))&&(O[1]&&O[1]!==location.protocol||O[2]!==location.host);if(n.dataType==="script"&&H==="GET"&&O){var W=J.getElementsByTagName("head")[0]||J.documentElement,Y=J.createElement("script");
Y.src=n.url;if(n.scriptCharset)Y.charset=n.scriptCharset;if(!z){var Z=false;Y.onload=Y.onreadystatechange=function(){if(!Z&&(!this.readyState||this.readyState==="loaded"||this.readyState==="complete")){Z=true;g();l();Y.onload=Y.onreadystatechange=null;W&&Y.parentNode&&W.removeChild(Y)}}}W.insertBefore(Y,W.firstChild);return c}var ba=false,R=n.xhr();if(R){n.username?R.open(H,n.url,n.async,n.username,n.password):R.open(H,n.url,n.async);try{if(n.data||d&&d.contentType)R.setRequestHeader("Content-Type",
n.contentType);if(n.ifModified){h.lastModified[n.url]&&R.setRequestHeader("If-Modified-Since",h.lastModified[n.url]);h.etag[n.url]&&R.setRequestHeader("If-None-Match",h.etag[n.url])}O||R.setRequestHeader("X-Requested-With","XMLHttpRequest");R.setRequestHeader("Accept",n.dataType&&n.accepts[n.dataType]?n.accepts[n.dataType]+", */*":n.accepts._default)}catch(Ca){}if(n.beforeSend&&n.beforeSend.call(K,R,n)===false){n.global&&!--h.active&&h.event.trigger("ajaxStop");R.abort();return false}n.global&&o("ajaxSend",
[R,n]);var r=R.onreadystatechange=function(N){if(!R||R.readyState===0||N==="abort"){ba||l();ba=true;if(R)R.onreadystatechange=h.noop}else if(!ba&&R&&(R.readyState===4||N==="timeout")){ba=true;R.onreadystatechange=h.noop;A=N==="timeout"?"timeout":!h.httpSuccess(R)?"error":n.ifModified&&h.httpNotModified(R,n.url)?"notmodified":"success";var M;if(A==="success")try{I=h.httpData(R,n.dataType,n)}catch(Q){A="parsererror";M=Q}if(A==="success"||A==="notmodified")z||g();else h.handleError(n,R,A,M);l();N===
"timeout"&&R.abort();if(n.async)R=null}};try{var y=R.abort;R.abort=function(){R&&y.call(R);r("abort")}}catch(B){}n.async&&n.timeout>0&&setTimeout(function(){R&&!ba&&r("timeout")},n.timeout);try{R.send(H==="POST"||H==="PUT"||H==="DELETE"?n.data:null)}catch(F){h.handleError(n,R,null,F);l()}n.async||r();return R}},handleError:function(d,g,l,o){if(d.error)d.error.call(d.context||d,g,l,o);if(d.global)(d.context?h(d.context):h.event).trigger("ajaxError",[g,d,o])},active:0,httpSuccess:function(d){try{return!d.status&&
location.protocol==="file:"||d.status>=200&&d.status<300||d.status===304||d.status===1223||d.status===0}catch(g){}return false},httpNotModified:function(d,g){var l=d.getResponseHeader("Last-Modified"),o=d.getResponseHeader("Etag");if(l)h.lastModified[g]=l;if(o)h.etag[g]=o;return d.status===304||d.status===0},httpData:function(d,g,l){var o=d.getResponseHeader("content-type")||"",n=g==="xml"||!g&&o.indexOf("xml")>=0;d=n?d.responseXML:d.responseText;n&&d.documentElement.nodeName==="parsererror"&&h.error("parsererror");
if(l&&l.dataFilter)d=l.dataFilter(d,g);if(typeof d==="string")if(g==="json"||!g&&o.indexOf("json")>=0)d=h.parseJSON(d);else if(g==="script"||!g&&o.indexOf("javascript")>=0)h.globalEval(d);return d},param:function(d,g){function l(A,I){if(h.isArray(I))h.each(I,function(K,H){g?o(A,H):l(A+"["+(typeof H==="object"||h.isArray(H)?K:"")+"]",H)});else!g&&I!=null&&typeof I==="object"?h.each(I,function(K,H){l(A+"["+K+"]",H)}):o(A,I)}function o(A,I){I=h.isFunction(I)?I():I;n[n.length]=encodeURIComponent(A)+"="+
encodeURIComponent(I)}var n=[];if(g===c)g=h.ajaxSettings.traditional;if(h.isArray(d)||d.jquery)h.each(d,function(){o(this.name,this.value)});else for(var z in d)l(z,d[z]);return n.join("&").replace(Cb,"+")}});var Ha={},Db=/toggle|show|hide/,Eb=/^([+-]=)?([\d+-.]+)(.*)$/,va,Ja=[["height","marginTop","marginBottom","paddingTop","paddingBottom"],["width","marginLeft","marginRight","paddingLeft","paddingRight"],["opacity"]];h.fn.extend({show:function(d,g){if(d||d===0)return this.animate(G("show",3),d,
g);else{d=0;for(g=this.length;d<g;d++){var l=h.data(this[d],"olddisplay");this[d].style.display=l||"";if(h.css(this[d],"display")==="none"){l=this[d].nodeName;var o;if(Ha[l])o=Ha[l];else{var n=h("<"+l+" />").appendTo("body");o=n.css("display");if(o==="none")o="block";n.remove();Ha[l]=o}h.data(this[d],"olddisplay",o)}}d=0;for(g=this.length;d<g;d++)this[d].style.display=h.data(this[d],"olddisplay")||"";return this}},hide:function(d,g){if(d||d===0)return this.animate(G("hide",3),d,g);else{d=0;for(g=
this.length;d<g;d++){var l=h.data(this[d],"olddisplay");!l&&l!=="none"&&h.data(this[d],"olddisplay",h.css(this[d],"display"))}d=0;for(g=this.length;d<g;d++)this[d].style.display="none";return this}},_toggle:h.fn.toggle,toggle:function(d,g){var l=typeof d==="boolean";if(h.isFunction(d)&&h.isFunction(g))this._toggle.apply(this,arguments);else d==null||l?this.each(function(){var o=l?d:h(this).is(":hidden");h(this)[o?"show":"hide"]()}):this.animate(G("toggle",3),d,g);return this},fadeTo:function(d,g,
l){return this.filter(":hidden").css("opacity",0).show().end().animate({opacity:g},d,l)},animate:function(d,g,l,o){var n=h.speed(g,l,o);if(h.isEmptyObject(d))return this.each(n.complete);return this[n.queue===false?"each":"queue"](function(){var z=h.extend({},n),A,I=this.nodeType===1&&h(this).is(":hidden"),K=this;for(A in d){var H=A.replace(Ea,Fa);if(A!==H){d[H]=d[A];delete d[A];A=H}if(d[A]==="hide"&&I||d[A]==="show"&&!I)return z.complete.call(this);if((A==="height"||A==="width")&&this.style){z.display=
h.css(this,"display");z.overflow=this.style.overflow}if(h.isArray(d[A])){(z.specialEasing=z.specialEasing||{})[A]=d[A][1];d[A]=d[A][0]}}if(z.overflow!=null)this.style.overflow="hidden";z.curAnim=h.extend({},d);h.each(d,function(O,S){var W=new h.fx(K,z,O);if(Db.test(S))W[S==="toggle"?I?"show":"hide":S](d);else{var Y=Eb.exec(S),Z=W.cur(true)||0;if(Y){S=parseFloat(Y[2]);var ba=Y[3]||"px";if(ba!=="px"){K.style[O]=(S||1)+ba;Z=(S||1)/W.cur(true)*Z;K.style[O]=Z+ba}if(Y[1])S=(Y[1]==="-="?-1:1)*S+Z;W.custom(Z,
S,ba)}else W.custom(Z,S,"")}});return true})},stop:function(d,g){var l=h.timers;d&&this.queue([]);this.each(function(){for(var o=l.length-1;o>=0;o--)if(l[o].elem===this){g&&l[o](true);l.splice(o,1)}});g||this.dequeue();return this}});h.each({slideDown:G("show",1),slideUp:G("hide",1),slideToggle:G("toggle",1),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"}},function(d,g){h.fn[d]=function(l,o){return this.animate(g,l,o)}});h.extend({speed:function(d,g,l){var o=d&&typeof d==="object"?d:{complete:l||
!l&&g||h.isFunction(d)&&d,duration:d,easing:l&&g||g&&!h.isFunction(g)&&g};o.duration=h.fx.off?0:typeof o.duration==="number"?o.duration:h.fx.speeds[o.duration]||h.fx.speeds._default;o.old=o.complete;o.complete=function(){o.queue!==false&&h(this).dequeue();h.isFunction(o.old)&&o.old.call(this)};return o},easing:{linear:function(d,g,l,o){return l+o*d},swing:function(d,g,l,o){return(-Math.cos(d*Math.PI)/2+0.5)*o+l}},timers:[],fx:function(d,g,l){this.options=g;this.elem=d;this.prop=l;if(!g.orig)g.orig=
{}}});h.fx.prototype={update:function(){this.options.step&&this.options.step.call(this.elem,this.now,this);(h.fx.step[this.prop]||h.fx.step._default)(this);if((this.prop==="height"||this.prop==="width")&&this.elem.style)this.elem.style.display="block"},cur:function(d){if(this.elem[this.prop]!=null&&(!this.elem.style||this.elem.style[this.prop]==null))return this.elem[this.prop];return(d=parseFloat(h.css(this.elem,this.prop,d)))&&d>-10000?d:parseFloat(h.curCSS(this.elem,this.prop))||0},custom:function(d,
g,l){function o(z){return n.step(z)}this.startTime=m();this.start=d;this.end=g;this.unit=l||this.unit||"px";this.now=this.start;this.pos=this.state=0;var n=this;o.elem=this.elem;if(o()&&h.timers.push(o)&&!va)va=setInterval(h.fx.tick,13)},show:function(){this.options.orig[this.prop]=h.style(this.elem,this.prop);this.options.show=true;this.custom(this.prop==="width"||this.prop==="height"?1:0,this.cur());h(this.elem).show()},hide:function(){this.options.orig[this.prop]=h.style(this.elem,this.prop);this.options.hide=
true;this.custom(this.cur(),0)},step:function(d){var g=m(),l=true;if(d||g>=this.options.duration+this.startTime){this.now=this.end;this.pos=this.state=1;this.update();this.options.curAnim[this.prop]=true;for(var o in this.options.curAnim)if(this.options.curAnim[o]!==true)l=false;if(l){if(this.options.display!=null){this.elem.style.overflow=this.options.overflow;d=h.data(this.elem,"olddisplay");this.elem.style.display=d?d:this.options.display;if(h.css(this.elem,"display")==="none")this.elem.style.display=
"block"}this.options.hide&&h(this.elem).hide();if(this.options.hide||this.options.show)for(var n in this.options.curAnim)h.style(this.elem,n,this.options.orig[n]);this.options.complete.call(this.elem)}return false}else{n=g-this.startTime;this.state=n/this.options.duration;d=this.options.easing||(h.easing.swing?"swing":"linear");this.pos=h.easing[this.options.specialEasing&&this.options.specialEasing[this.prop]||d](this.state,n,0,1,this.options.duration);this.now=this.start+(this.end-this.start)*this.pos;
this.update()}return true}};h.extend(h.fx,{tick:function(){for(var d=h.timers,g=0;g<d.length;g++)d[g]()||d.splice(g--,1);d.length||h.fx.stop()},stop:function(){clearInterval(va);va=null},speeds:{slow:600,fast:200,_default:400},step:{opacity:function(d){h.style(d.elem,"opacity",d.now)},_default:function(d){if(d.elem.style&&d.elem.style[d.prop]!=null)d.elem.style[d.prop]=(d.prop==="width"||d.prop==="height"?Math.max(0,d.now):d.now)+d.unit;else d.elem[d.prop]=d.now}}});if(h.expr&&h.expr.filters)h.expr.filters.animated=
function(d){return h.grep(h.timers,function(g){return d===g.elem}).length};h.fn.offset="getBoundingClientRect"in J.documentElement?function(d){var g=this[0];if(d)return this.each(function(n){h.offset.setOffset(this,d,n)});if(!g||!g.ownerDocument)return null;if(g===g.ownerDocument.body)return h.offset.bodyOffset(g);var l=g.getBoundingClientRect(),o=g.ownerDocument;g=o.body;o=o.documentElement;return{top:l.top+(self.pageYOffset||h.support.boxModel&&o.scrollTop||g.scrollTop)-(o.clientTop||g.clientTop||
0),left:l.left+(self.pageXOffset||h.support.boxModel&&o.scrollLeft||g.scrollLeft)-(o.clientLeft||g.clientLeft||0)}}:function(d){var g=this[0];if(d)return this.each(function(O){h.offset.setOffset(this,d,O)});if(!g||!g.ownerDocument)return null;if(g===g.ownerDocument.body)return h.offset.bodyOffset(g);h.offset.initialize();var l=g.offsetParent,o=g,n=g.ownerDocument,z,A=n.documentElement,I=n.body;o=(n=n.defaultView)?n.getComputedStyle(g,null):g.currentStyle;for(var K=g.offsetTop,H=g.offsetLeft;(g=g.parentNode)&&
g!==I&&g!==A;){if(h.offset.supportsFixedPosition&&o.position==="fixed")break;z=n?n.getComputedStyle(g,null):g.currentStyle;K-=g.scrollTop;H-=g.scrollLeft;if(g===l){K+=g.offsetTop;H+=g.offsetLeft;if(h.offset.doesNotAddBorder&&!(h.offset.doesAddBorderForTableAndCells&&/^t(able|d|h)$/i.test(g.nodeName))){K+=parseFloat(z.borderTopWidth)||0;H+=parseFloat(z.borderLeftWidth)||0}o=l;l=g.offsetParent}if(h.offset.subtractsBorderForOverflowNotVisible&&z.overflow!=="visible"){K+=parseFloat(z.borderTopWidth)||
0;H+=parseFloat(z.borderLeftWidth)||0}o=z}if(o.position==="relative"||o.position==="static"){K+=I.offsetTop;H+=I.offsetLeft}if(h.offset.supportsFixedPosition&&o.position==="fixed"){K+=Math.max(A.scrollTop,I.scrollTop);H+=Math.max(A.scrollLeft,I.scrollLeft)}return{top:K,left:H}};h.offset={initialize:function(){var d=J.body,g=J.createElement("div"),l,o,n,z=parseFloat(h.curCSS(d,"marginTop",true))||0;h.extend(g.style,{position:"absolute",top:0,left:0,margin:0,border:0,width:"1px",height:"1px",visibility:"hidden"});
g.innerHTML="<div style='position:absolute;top:0;left:0;margin:0;border:5px solid #000;padding:0;width:1px;height:1px;'><div></div></div><table style='position:absolute;top:0;left:0;margin:0;border:5px solid #000;padding:0;width:1px;height:1px;' cellpadding='0' cellspacing='0'><tr><td></td></tr></table>";d.insertBefore(g,d.firstChild);l=g.firstChild;o=l.firstChild;n=l.nextSibling.firstChild.firstChild;this.doesNotAddBorder=o.offsetTop!==5;this.doesAddBorderForTableAndCells=n.offsetTop===5;o.style.position=
"fixed";o.style.top="20px";this.supportsFixedPosition=o.offsetTop===20||o.offsetTop===15;o.style.position=o.style.top="";l.style.overflow="hidden";l.style.position="relative";this.subtractsBorderForOverflowNotVisible=o.offsetTop===-5;this.doesNotIncludeMarginInBodyOffset=d.offsetTop!==z;d.removeChild(g);h.offset.initialize=h.noop},bodyOffset:function(d){var g=d.offsetTop,l=d.offsetLeft;h.offset.initialize();if(h.offset.doesNotIncludeMarginInBodyOffset){g+=parseFloat(h.curCSS(d,"marginTop",true))||
0;l+=parseFloat(h.curCSS(d,"marginLeft",true))||0}return{top:g,left:l}},setOffset:function(d,g,l){if(/static/.test(h.curCSS(d,"position")))d.style.position="relative";var o=h(d),n=o.offset(),z=parseInt(h.curCSS(d,"top",true),10)||0,A=parseInt(h.curCSS(d,"left",true),10)||0;if(h.isFunction(g))g=g.call(d,l,n);l={top:g.top-n.top+z,left:g.left-n.left+A};"using"in g?g.using.call(d,l):o.css(l)}};h.fn.extend({position:function(){if(!this[0])return null;var d=this[0],g=this.offsetParent(),l=this.offset(),
o=/^body|html$/i.test(g[0].nodeName)?{top:0,left:0}:g.offset();l.top-=parseFloat(h.curCSS(d,"marginTop",true))||0;l.left-=parseFloat(h.curCSS(d,"marginLeft",true))||0;o.top+=parseFloat(h.curCSS(g[0],"borderTopWidth",true))||0;o.left+=parseFloat(h.curCSS(g[0],"borderLeftWidth",true))||0;return{top:l.top-o.top,left:l.left-o.left}},offsetParent:function(){return this.map(function(){for(var d=this.offsetParent||J.body;d&&!/^body|html$/i.test(d.nodeName)&&h.css(d,"position")==="static";)d=d.offsetParent;
return d})}});h.each(["Left","Top"],function(d,g){var l="scroll"+g;h.fn[l]=function(o){var n=this[0],z;if(!n)return null;return o!==c?this.each(function(){if(z=L(this))z.scrollTo(!d?o:h(z).scrollLeft(),d?o:h(z).scrollTop());else this[l]=o}):(z=L(n))?"pageXOffset"in z?z[d?"pageYOffset":"pageXOffset"]:h.support.boxModel&&z.document.documentElement[l]||z.document.body[l]:n[l]}});h.each(["Height","Width"],function(d,g){var l=g.toLowerCase();h.fn["inner"+g]=function(){return this[0]?h.css(this[0],l,false,
"padding"):null};h.fn["outer"+g]=function(o){return this[0]?h.css(this[0],l,false,o?"margin":"border"):null};h.fn[l]=function(o){var n=this[0];if(!n)return o==null?null:this;if(h.isFunction(o))return this.each(function(z){var A=h(this);A[l](o.call(this,z,A[l]()))});return"scrollTo"in n&&n.document?n.document.compatMode==="CSS1Compat"&&n.document.documentElement["client"+g]||n.document.body["client"+g]:n.nodeType===9?Math.max(n.documentElement["client"+g],n.body["scroll"+g],n.documentElement["scroll"+
g],n.body["offset"+g],n.documentElement["offset"+g]):o===c?h.css(n,l):this.css(l,typeof o==="string"?o:o+"px")}});b.jQuery=b.$=h})(window);jQuery.ui||function(b){function c(q,v,w,C){function E(G){G=b[q][v][G]||[];return typeof G=="string"?G.split(/,?\s+/):G}var D=E("getter");if(C.length==1&&typeof C[0]=="string")D=D.concat(E("getterSetter"));return b.inArray(w,D)!=-1}var e=b.fn.remove,f=b.browser.mozilla&&parseFloat(b.browser.version)<1.9;b.ui={version:"1.7.2",plugin:{add:function(q,v,w){q=b.ui[q].prototype;for(var C in w){q.plugins[C]=q.plugins[C]||[];q.plugins[C].push([v,w[C]])}},call:function(q,v,w){if((v=q.plugins[v])&&q.element[0].parentNode)for(var C=
0;C<v.length;C++)q.options[v[C][0]]&&v[C][1].apply(q.element,w)}},contains:function(q,v){return document.compareDocumentPosition?q.compareDocumentPosition(v)&16:q!==v&&q.contains(v)},hasScroll:function(q,v){if(b(q).css("overflow")=="hidden")return false;v=v&&v=="left"?"scrollLeft":"scrollTop";var w=false;if(q[v]>0)return true;q[v]=1;w=q[v]>0;q[v]=0;return w},isOverAxis:function(q,v,w){return q>v&&q<v+w},isOver:function(q,v,w,C,E,D){return b.ui.isOverAxis(q,w,E)&&b.ui.isOverAxis(v,C,D)},keyCode:{BACKSPACE:8,
CAPS_LOCK:20,COMMA:188,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38}};if(f){var k=b.attr,m=b.fn.removeAttr,p=/^aria-/,x=/^wairole:/;b.attr=function(q,v,w){var C=w!==undefined;return v=="role"?C?k.call(this,q,v,"wairole:"+w):(k.apply(this,arguments)||"").replace(x,""):p.test(v)?C?q.setAttributeNS("http://www.w3.org/2005/07/aaa",
v.replace(p,"aaa:"),w):k.call(this,q,v.replace(p,"aaa:")):k.apply(this,arguments)};b.fn.removeAttr=function(q){return p.test(q)?this.each(function(){this.removeAttributeNS("http://www.w3.org/2005/07/aaa",q.replace(p,""))}):m.call(this,q)}}b.fn.extend({remove:function(){b("*",this).add(this).each(function(){b(this).triggerHandler("remove")});return e.apply(this,arguments)},enableSelection:function(){return this.attr("unselectable","off").css("MozUserSelect","").unbind("selectstart.ui")},disableSelection:function(){return this.attr("unselectable",
"on").css("MozUserSelect","none").bind("selectstart.ui",function(){return false})},scrollParent:function(){var q;q=b.browser.msie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test(b.curCSS(this,"position",1))&&/(auto|scroll)/.test(b.curCSS(this,"overflow",1)+b.curCSS(this,"overflow-y",1)+b.curCSS(this,"overflow-x",1))}).eq(0):this.parents().filter(function(){return/(auto|scroll)/.test(b.curCSS(this,
"overflow",1)+b.curCSS(this,"overflow-y",1)+b.curCSS(this,"overflow-x",1))}).eq(0);return/fixed/.test(this.css("position"))||!q.length?b(document):q}});b.extend(b.expr[":"],{data:function(q,v,w){return!!b.data(q,w[3])},focusable:function(q){var v=q.nodeName.toLowerCase(),w=b.attr(q,"tabindex");return(/input|select|textarea|button|object/.test(v)?!q.disabled:"a"==v||"area"==v?q.href||!isNaN(w):!isNaN(w))&&!b(q)["area"==v?"parents":"closest"](":hidden").length},tabbable:function(q){var v=b.attr(q,"tabindex");
return(isNaN(v)||v>=0)&&b(q).is(":focusable")}});b.widget=function(q,v){var w=q.split(".")[0];q=q.split(".")[1];b.fn[q]=function(C){var E=typeof C=="string",D=Array.prototype.slice.call(arguments,1);if(E&&C.substring(0,1)=="_")return this;if(E&&c(w,q,C,D)){var G=b.data(this[0],q);return G?G[C].apply(G,D):undefined}return this.each(function(){var L=b.data(this,q);!L&&!E&&b.data(this,q,new b[w][q](this,C))._init();L&&E&&b.isFunction(L[C])&&L[C].apply(L,D)})};b[w]=b[w]||{};b[w][q]=function(C,E){var D=
this;this.namespace=w;this.widgetName=q;this.widgetEventPrefix=b[w][q].eventPrefix||q;this.widgetBaseClass=w+"-"+q;this.options=b.extend({},b.widget.defaults,b[w][q].defaults,b.metadata&&b.metadata.get(C)[q],E);this.element=b(C).bind("setData."+q,function(G,L,h){if(G.target==C)return D._setData(L,h)}).bind("getData."+q,function(G,L){if(G.target==C)return D._getData(L)}).bind("remove",function(){return D.destroy()})};b[w][q].prototype=b.extend({},b.widget.prototype,v);b[w][q].getterSetter="option"};
b.widget.prototype={_init:function(){},destroy:function(){this.element.removeData(this.widgetName).removeClass(this.widgetBaseClass+"-disabled "+this.namespace+"-state-disabled").removeAttr("aria-disabled")},option:function(q,v){var w=q,C=this;if(typeof q=="string"){if(v===undefined)return this._getData(q);w={};w[q]=v}b.each(w,function(E,D){C._setData(E,D)})},_getData:function(q){return this.options[q]},_setData:function(q,v){this.options[q]=v;if(q=="disabled")this.element[v?"addClass":"removeClass"](this.widgetBaseClass+
"-disabled "+this.namespace+"-state-disabled").attr("aria-disabled",v)},enable:function(){this._setData("disabled",false)},disable:function(){this._setData("disabled",true)},_trigger:function(q,v,w){var C=this.options[q];q=q==this.widgetEventPrefix?q:this.widgetEventPrefix+q;v=b.Event(v);v.type=q;if(v.originalEvent){q=b.event.props.length;for(var E;q;){E=b.event.props[--q];v[E]=v.originalEvent[E]}}this.element.trigger(v,w);return!(b.isFunction(C)&&C.call(this.element[0],v,w)===false||v.isDefaultPrevented())}};
b.widget.defaults={disabled:false};b.ui.mouse={_mouseInit:function(){var q=this;this.element.bind("mousedown."+this.widgetName,function(v){return q._mouseDown(v)}).bind("click."+this.widgetName,function(v){if(q._preventClickEvent){q._preventClickEvent=false;v.stopImmediatePropagation();return false}});if(b.browser.msie){this._mouseUnselectable=this.element.attr("unselectable");this.element.attr("unselectable","on")}this.started=false},_mouseDestroy:function(){this.element.unbind("."+this.widgetName);
b.browser.msie&&this.element.attr("unselectable",this._mouseUnselectable)},_mouseDown:function(q){q.originalEvent=q.originalEvent||{};if(!q.originalEvent.mouseHandled){this._mouseStarted&&this._mouseUp(q);this._mouseDownEvent=q;var v=this,w=q.which==1,C=typeof this.options.cancel=="string"?b(q.target).parents().add(q.target).filter(this.options.cancel).length:false;if(!w||C||!this._mouseCapture(q))return true;this.mouseDelayMet=!this.options.delay;if(!this.mouseDelayMet)this._mouseDelayTimer=setTimeout(function(){v.mouseDelayMet=
true},this.options.delay);if(this._mouseDistanceMet(q)&&this._mouseDelayMet(q)){this._mouseStarted=this._mouseStart(q)!==false;if(!this._mouseStarted){q.preventDefault();return true}}this._mouseMoveDelegate=function(E){return v._mouseMove(E)};this._mouseUpDelegate=function(E){return v._mouseUp(E)};b(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate);b.browser.safari||q.preventDefault();return q.originalEvent.mouseHandled=true}},
_mouseMove:function(q){if(b.browser.msie&&!q.button)return this._mouseUp(q);if(this._mouseStarted){this._mouseDrag(q);return q.preventDefault()}if(this._mouseDistanceMet(q)&&this._mouseDelayMet(q))(this._mouseStarted=this._mouseStart(this._mouseDownEvent,q)!==false)?this._mouseDrag(q):this._mouseUp(q);return!this._mouseStarted},_mouseUp:function(q){b(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate);if(this._mouseStarted){this._mouseStarted=
false;this._preventClickEvent=q.target==this._mouseDownEvent.target;this._mouseStop(q)}return false},_mouseDistanceMet:function(q){return Math.max(Math.abs(this._mouseDownEvent.pageX-q.pageX),Math.abs(this._mouseDownEvent.pageY-q.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return true}};b.ui.mouse.defaults={cancel:null,distance:1,delay:0}}(jQuery);
(function(b){b.widget("ui.selectable",b.extend({},b.ui.mouse,{_init:function(){var c=this;this.element.addClass("ui-selectable");this.dragged=false;var e;this.refresh=function(){e=b(c.options.filter,c.element[0]);e.each(function(){var f=b(this),k=f.offset();b.data(this,"selectable-item",{element:this,$element:f,left:k.left,top:k.top,right:k.left+f.outerWidth(),bottom:k.top+f.outerHeight(),startselected:false,selected:f.hasClass("ui-selected"),selecting:f.hasClass("ui-selecting"),unselecting:f.hasClass("ui-unselecting")})})};
this.refresh();this.selectees=e.addClass("ui-selectee");this._mouseInit();this.helper=b(document.createElement("div")).css({border:"1px dotted black"}).addClass("ui-selectable-helper")},destroy:function(){this.element.removeClass("ui-selectable ui-selectable-disabled").removeData("selectable").unbind(".selectable");this._mouseDestroy()},_mouseStart:function(c){var e=this;this.opos=[c.pageX,c.pageY];if(!this.options.disabled){var f=this.options;this.selectees=b(f.filter,this.element[0]);this._trigger("start",
c);b(f.appendTo).append(this.helper);this.helper.css({"z-index":100,position:"absolute",left:c.clientX,top:c.clientY,width:0,height:0});f.autoRefresh&&this.refresh();this.selectees.filter(".ui-selected").each(function(){var k=b.data(this,"selectable-item");k.startselected=true;if(!c.metaKey){k.$element.removeClass("ui-selected");k.selected=false;k.$element.addClass("ui-unselecting");k.unselecting=true;e._trigger("unselecting",c,{unselecting:k.element})}});b(c.target).parents().andSelf().each(function(){var k=
b.data(this,"selectable-item");if(k){k.$element.removeClass("ui-unselecting").addClass("ui-selecting");k.unselecting=false;k.selecting=true;k.selected=true;e._trigger("selecting",c,{selecting:k.element});return false}})}},_mouseDrag:function(c){var e=this;this.dragged=true;if(!this.options.disabled){var f=this.options,k=this.opos[0],m=this.opos[1],p=c.pageX,x=c.pageY;if(k>p){var q=p;p=k;k=q}if(m>x){q=x;x=m;m=q}this.helper.css({left:k,top:m,width:p-k,height:x-m});this.selectees.each(function(){var v=
b.data(this,"selectable-item");if(!(!v||v.element==e.element[0])){var w=false;if(f.tolerance=="touch")w=!(v.left>p||v.right<k||v.top>x||v.bottom<m);else if(f.tolerance=="fit")w=v.left>k&&v.right<p&&v.top>m&&v.bottom<x;if(w){if(v.selected){v.$element.removeClass("ui-selected");v.selected=false}if(v.unselecting){v.$element.removeClass("ui-unselecting");v.unselecting=false}if(!v.selecting){v.$element.addClass("ui-selecting");v.selecting=true;e._trigger("selecting",c,{selecting:v.element})}}else{if(v.selecting)if(c.metaKey&&
v.startselected){v.$element.removeClass("ui-selecting");v.selecting=false;v.$element.addClass("ui-selected");v.selected=true}else{v.$element.removeClass("ui-selecting");v.selecting=false;if(v.startselected){v.$element.addClass("ui-unselecting");v.unselecting=true}e._trigger("unselecting",c,{unselecting:v.element})}if(v.selected)if(!c.metaKey&&!v.startselected){v.$element.removeClass("ui-selected");v.selected=false;v.$element.addClass("ui-unselecting");v.unselecting=true;e._trigger("unselecting",c,
{unselecting:v.element})}}}});return false}},_mouseStop:function(c){var e=this;this.dragged=false;b(".ui-unselecting",this.element[0]).each(function(){var f=b.data(this,"selectable-item");f.$element.removeClass("ui-unselecting");f.unselecting=false;f.startselected=false;e._trigger("unselected",c,{unselected:f.element})});b(".ui-selecting",this.element[0]).each(function(){var f=b.data(this,"selectable-item");f.$element.removeClass("ui-selecting").addClass("ui-selected");f.selecting=false;f.selected=
true;f.startselected=true;e._trigger("selected",c,{selected:f.element})});this._trigger("stop",c);this.helper.remove();return false}}));b.extend(b.ui.selectable,{version:"1.7.2",defaults:{appendTo:"body",autoRefresh:true,cancel:":input,option",delay:0,distance:0,filter:"*",tolerance:"touch"}})})(jQuery);
(function(b){var c={dragStart:"start.draggable",drag:"drag.draggable",dragStop:"stop.draggable",maxHeight:"maxHeight.resizable",minHeight:"minHeight.resizable",maxWidth:"maxWidth.resizable",minWidth:"minWidth.resizable",resizeStart:"start.resizable",resize:"drag.resizable",resizeStop:"stop.resizable"};b.widget("ui.dialog",{_init:function(){this.originalTitle=this.element.attr("title");var e=this,f=this.options,k=f.title||this.originalTitle||"&nbsp;",m=b.ui.dialog.getTitleId(this.element),p=(this.uiDialog=
b("<div/>")).appendTo(document.body).hide().addClass("ui-dialog ui-widget ui-widget-content ui-corner-all "+f.dialogClass).css({position:"absolute",overflow:"hidden",zIndex:f.zIndex}).attr("tabIndex",-1).css("outline",0).keydown(function(v){f.closeOnEscape&&v.keyCode&&v.keyCode==b.ui.keyCode.ESCAPE&&e.close(v)}).attr({role:"dialog","aria-labelledby":m}).mousedown(function(v){e.moveToTop(false,v)});this.element.show().removeAttr("title").addClass("ui-dialog-content ui-widget-content").appendTo(p);
var x=(this.uiDialogTitlebar=b("<div></div>")).addClass("ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix").prependTo(p),q=b('<a href="#"/>').addClass("ui-dialog-titlebar-close ui-corner-all").attr("role","button").hover(function(){q.addClass("ui-state-hover")},function(){q.removeClass("ui-state-hover")}).focus(function(){q.addClass("ui-state-focus")}).blur(function(){q.removeClass("ui-state-focus")}).mousedown(function(v){v.stopPropagation()}).click(function(v){e.close(v);return false}).appendTo(x);
(this.uiDialogTitlebarCloseText=b("<span/>")).addClass("ui-icon ui-icon-closethick").text(f.closeText).appendTo(q);b("<span/>").addClass("ui-dialog-title").attr("id",m).html(k).prependTo(x);x.find("*").add(x).disableSelection();f.draggable&&b.fn.draggable&&this._makeDraggable();f.resizable&&b.fn.resizable&&this._makeResizable();this._createButtons(f.buttons);this._isOpen=false;f.bgiframe&&b.fn.bgiframe&&p.bgiframe();f.autoOpen&&this.open()},destroy:function(){this.overlay&&this.overlay.destroy();
this.uiDialog.hide();this.element.unbind(".dialog").removeData("dialog").removeClass("ui-dialog-content ui-widget-content").hide().appendTo("body");this.uiDialog.remove();this.originalTitle&&this.element.attr("title",this.originalTitle)},close:function(e){var f=this;if(false!==f._trigger("beforeclose",e)){f.overlay&&f.overlay.destroy();f.uiDialog.unbind("keypress.ui-dialog");f.options.hide?f.uiDialog.hide(f.options.hide,function(){f._trigger("close",e)}):f.uiDialog.hide()&&f._trigger("close",e);b.ui.dialog.overlay.resize();
f._isOpen=false;if(f.options.modal){var k=0;b(".ui-dialog").each(function(){if(this!=f.uiDialog[0])k=Math.max(k,b(this).css("z-index"))});b.ui.dialog.maxZ=k}}},isOpen:function(){return this._isOpen},moveToTop:function(e,f){if(this.options.modal&&!e||!this.options.stack&&!this.options.modal)return this._trigger("focus",f);if(this.options.zIndex>b.ui.dialog.maxZ)b.ui.dialog.maxZ=this.options.zIndex;this.overlay&&this.overlay.$el.css("z-index",b.ui.dialog.overlay.maxZ=++b.ui.dialog.maxZ);e={scrollTop:this.element.attr("scrollTop"),
scrollLeft:this.element.attr("scrollLeft")};this.uiDialog.css("z-index",++b.ui.dialog.maxZ);this.element.attr(e);this._trigger("focus",f)},open:function(){if(!this._isOpen){var e=this.options,f=this.uiDialog;this.overlay=e.modal?new b.ui.dialog.overlay(this):null;f.next().length&&f.appendTo("body");this._size();this._position(e.position);f.show(e.show);this.moveToTop(true);e.modal&&f.bind("keypress.ui-dialog",function(k){if(k.keyCode==b.ui.keyCode.TAB){var m=b(":tabbable",this),p=m.filter(":first")[0],
x=m.filter(":last")[0];if(k.target==x&&!k.shiftKey)setTimeout(function(){p.focus()},1);else k.target==p&&k.shiftKey&&setTimeout(function(){x.focus()},1)}});b([]).add(f.find(".ui-dialog-content :tabbable:first")).add(f.find(".ui-dialog-buttonpane :tabbable:first")).add(f).filter(":first").focus();this._trigger("open");this._isOpen=true}},_createButtons:function(e){var f=this,k=false,m=b("<div></div>").addClass("ui-dialog-buttonpane ui-widget-content ui-helper-clearfix");this.uiDialog.find(".ui-dialog-buttonpane").remove();
typeof e=="object"&&e!==null&&b.each(e,function(){return!(k=true)});if(k){b.each(e,function(p,x){b('<button type="button"></button>').addClass("ui-state-default ui-corner-all").text(p).click(function(){x.apply(f.element[0],arguments)}).hover(function(){b(this).addClass("ui-state-hover")},function(){b(this).removeClass("ui-state-hover")}).focus(function(){b(this).addClass("ui-state-focus")}).blur(function(){b(this).removeClass("ui-state-focus")}).appendTo(m)});m.appendTo(this.uiDialog)}},_makeDraggable:function(){var e=
this,f=this.options,k;this.uiDialog.draggable({cancel:".ui-dialog-content",handle:".ui-dialog-titlebar",containment:"document",start:function(){k=f.height;b(this).height(b(this).height()).addClass("ui-dialog-dragging");f.dragStart&&f.dragStart.apply(e.element[0],arguments)},drag:function(){f.drag&&f.drag.apply(e.element[0],arguments)},stop:function(){b(this).removeClass("ui-dialog-dragging").height(k);f.dragStop&&f.dragStop.apply(e.element[0],arguments);b.ui.dialog.overlay.resize()}})},_makeResizable:function(e){e=
e===undefined?this.options.resizable:e;var f=this,k=this.options;this.uiDialog.resizable({cancel:".ui-dialog-content",alsoResize:this.element,maxWidth:k.maxWidth,maxHeight:k.maxHeight,minWidth:k.minWidth,minHeight:k.minHeight,start:function(){b(this).addClass("ui-dialog-resizing");k.resizeStart&&k.resizeStart.apply(f.element[0],arguments)},resize:function(){k.resize&&k.resize.apply(f.element[0],arguments)},handles:typeof e=="string"?e:"n,e,s,w,se,sw,ne,nw",stop:function(){b(this).removeClass("ui-dialog-resizing");
k.height=b(this).height();k.width=b(this).width();k.resizeStop&&k.resizeStop.apply(f.element[0],arguments);b.ui.dialog.overlay.resize()}}).find(".ui-resizable-se").addClass("ui-icon ui-icon-grip-diagonal-se")},_position:function(e){var f=b(window),k=b(document),m=k.scrollTop();k=k.scrollLeft();var p=m;if(b.inArray(e,["center","top","right","bottom","left"])>=0)e=[e=="right"||e=="left"?e:"center",e=="top"||e=="bottom"?e:"middle"];if(e.constructor!=Array)e=["center","middle"];if(e[0].constructor==Number)k+=
e[0];else switch(e[0]){case "left":k+=0;break;case "right":k+=f.width()-this.uiDialog.outerWidth();break;default:case "center":k+=(f.width()-this.uiDialog.outerWidth())/2}if(e[1].constructor==Number)m+=e[1];else switch(e[1]){case "top":m+=0;break;case "bottom":m+=f.height()-this.uiDialog.outerHeight();break;default:case "middle":m+=(f.height()-this.uiDialog.outerHeight())/2}m=Math.max(m,p);this.uiDialog.css({top:m,left:k})},_setData:function(e,f){c[e]&&this.uiDialog.data(c[e],f);switch(e){case "buttons":this._createButtons(f);
break;case "closeText":this.uiDialogTitlebarCloseText.text(f);break;case "dialogClass":this.uiDialog.removeClass(this.options.dialogClass).addClass("ui-dialog ui-widget ui-widget-content ui-corner-all "+f);break;case "draggable":f?this._makeDraggable():this.uiDialog.draggable("destroy");break;case "height":this.uiDialog.height(f);break;case "position":this._position(f);break;case "resizable":var k=this.uiDialog,m=this.uiDialog.is(":data(resizable)");m&&!f&&k.resizable("destroy");m&&typeof f=="string"&&
k.resizable("option","handles",f);m||this._makeResizable(f);break;case "title":b(".ui-dialog-title",this.uiDialogTitlebar).html(f||"&nbsp;");break;case "width":this.uiDialog.width(f);break}b.widget.prototype._setData.apply(this,arguments)},_size:function(){var e=this.options;this.element.css({height:0,minHeight:0,width:"auto"});var f=this.uiDialog.css({height:"auto",width:e.width}).height();this.element.css({minHeight:Math.max(e.minHeight-f,0),height:e.height=="auto"?"auto":Math.max(e.height-f,0)})}});
b.extend(b.ui.dialog,{version:"1.7.2",defaults:{autoOpen:true,bgiframe:false,buttons:{},closeOnEscape:true,closeText:"close",dialogClass:"",draggable:true,hide:null,height:"auto",maxHeight:false,maxWidth:false,minHeight:150,minWidth:150,modal:false,position:"center",resizable:true,show:null,stack:true,title:"",width:300,zIndex:1E3},getter:"isOpen",uuid:0,maxZ:0,getTitleId:function(e){return"ui-dialog-title-"+(e.attr("id")||++this.uuid)},overlay:function(e){this.$el=b.ui.dialog.overlay.create(e)}});
b.extend(b.ui.dialog.overlay,{instances:[],maxZ:0,events:b.map("focus,mousedown,mouseup,keydown,keypress,click".split(","),function(e){return e+".dialog-overlay"}).join(" "),create:function(e){if(this.instances.length===0){setTimeout(function(){b.ui.dialog.overlay.instances.length&&b(document).bind(b.ui.dialog.overlay.events,function(k){return(b(k.target).parents(".ui-dialog").css("zIndex")||0)>b.ui.dialog.overlay.maxZ})},1);b(document).bind("keydown.dialog-overlay",function(k){e.options.closeOnEscape&&
k.keyCode&&k.keyCode==b.ui.keyCode.ESCAPE&&e.close(k)});b(window).bind("resize.dialog-overlay",b.ui.dialog.overlay.resize)}var f=b("<div></div>").appendTo(document.body).addClass("ui-widget-overlay").css({width:this.width(),height:this.height()});e.options.bgiframe&&b.fn.bgiframe&&f.bgiframe();this.instances.push(f);return f},destroy:function(e){this.instances.splice(b.inArray(this.instances,e),1);this.instances.length===0&&b([document,window]).unbind(".dialog-overlay");e.remove();var f=0;b.each(this.instances,
function(){f=Math.max(f,this.css("z-index"))});this.maxZ=f},height:function(){if(b.browser.msie&&b.browser.version<7){var e=Math.max(document.documentElement.scrollHeight,document.body.scrollHeight),f=Math.max(document.documentElement.offsetHeight,document.body.offsetHeight);return e<f?b(window).height()+"px":e+"px"}else return b(document).height()+"px"},width:function(){if(b.browser.msie&&b.browser.version<7){var e=Math.max(document.documentElement.scrollWidth,document.body.scrollWidth),f=Math.max(document.documentElement.offsetWidth,
document.body.offsetWidth);return e<f?b(window).width()+"px":e+"px"}else return b(document).width()+"px"},resize:function(){var e=b([]);b.each(b.ui.dialog.overlay.instances,function(){e=e.add(this)});e.css({width:0,height:0}).css({width:b.ui.dialog.overlay.width(),height:b.ui.dialog.overlay.height()})}});b.extend(b.ui.dialog.overlay.prototype,{destroy:function(){b.ui.dialog.overlay.destroy(this.$el)}})})(jQuery);
(function(b){b.widget("ui.slider",b.extend({},b.ui.mouse,{_init:function(){var c=this,e=this.options;this._keySliding=false;this._handleIndex=null;this._detectOrientation();this._mouseInit();this.element.addClass("ui-slider ui-slider-"+this.orientation+" ui-widget ui-widget-content ui-corner-all");this.range=b([]);if(e.range){if(e.range===true){this.range=b("<div></div>");if(!e.values)e.values=[this._valueMin(),this._valueMin()];if(e.values.length&&e.values.length!=2)e.values=[e.values[0],e.values[0]]}else this.range=
b("<div></div>");this.range.appendTo(this.element).addClass("ui-slider-range");if(e.range=="min"||e.range=="max")this.range.addClass("ui-slider-range-"+e.range);this.range.addClass("ui-widget-header")}b(".ui-slider-handle",this.element).length==0&&b('<a href="#"></a>').appendTo(this.element).addClass("ui-slider-handle");if(e.values&&e.values.length)for(;b(".ui-slider-handle",this.element).length<e.values.length;)b('<a href="#"></a>').appendTo(this.element).addClass("ui-slider-handle");this.handles=
b(".ui-slider-handle",this.element).addClass("ui-state-default ui-corner-all");this.handle=this.handles.eq(0);this.handles.add(this.range).filter("a").click(function(f){f.preventDefault()}).hover(function(){e.disabled||b(this).addClass("ui-state-hover")},function(){b(this).removeClass("ui-state-hover")}).focus(function(){if(e.disabled)b(this).blur();else{b(".ui-slider .ui-state-focus").removeClass("ui-state-focus");b(this).addClass("ui-state-focus")}}).blur(function(){b(this).removeClass("ui-state-focus")});
this.handles.each(function(f){b(this).data("index.ui-slider-handle",f)});this.handles.keydown(function(f){var k=true,m=b(this).data("index.ui-slider-handle");if(!c.options.disabled){switch(f.keyCode){case b.ui.keyCode.HOME:case b.ui.keyCode.END:case b.ui.keyCode.UP:case b.ui.keyCode.RIGHT:case b.ui.keyCode.DOWN:case b.ui.keyCode.LEFT:k=false;if(!c._keySliding){c._keySliding=true;b(this).addClass("ui-state-active");c._start(f,m)}break}var p,x,q=c._step();p=c.options.values&&c.options.values.length?
(x=c.values(m)):(x=c.value());switch(f.keyCode){case b.ui.keyCode.HOME:x=c._valueMin();break;case b.ui.keyCode.END:x=c._valueMax();break;case b.ui.keyCode.UP:case b.ui.keyCode.RIGHT:if(p==c._valueMax())return;x=p+q;break;case b.ui.keyCode.DOWN:case b.ui.keyCode.LEFT:if(p==c._valueMin())return;x=p-q;break}c._slide(f,m,x);return k}}).keyup(function(f){var k=b(this).data("index.ui-slider-handle");if(c._keySliding){c._stop(f,k);c._change(f,k);c._keySliding=false;b(this).removeClass("ui-state-active")}});
this._refreshValue()},destroy:function(){this.handles.remove();this.range.remove();this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-slider-disabled ui-widget ui-widget-content ui-corner-all").removeData("slider").unbind(".slider");this._mouseDestroy()},_mouseCapture:function(c){var e=this.options;if(e.disabled)return false;this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()};this.elementOffset=this.element.offset();var f={x:c.pageX,y:c.pageY},
k=this._normValueFromMouse(f),m=this._valueMax()-this._valueMin()+1,p,x=this,q;this.handles.each(function(v){var w=Math.abs(k-x.values(v));if(m>w){m=w;p=b(this);q=v}});if(e.range==true&&this.values(1)==e.min)p=b(this.handles[++q]);this._start(c,q);x._handleIndex=q;p.addClass("ui-state-active").focus();e=p.offset();this._clickOffset=!b(c.target).parents().andSelf().is(".ui-slider-handle")?{left:0,top:0}:{left:c.pageX-e.left-p.width()/2,top:c.pageY-e.top-p.height()/2-(parseInt(p.css("borderTopWidth"),
10)||0)-(parseInt(p.css("borderBottomWidth"),10)||0)+(parseInt(p.css("marginTop"),10)||0)};k=this._normValueFromMouse(f);this._slide(c,q,k);return true},_mouseStart:function(){return true},_mouseDrag:function(c){var e=this._normValueFromMouse({x:c.pageX,y:c.pageY});this._slide(c,this._handleIndex,e);return false},_mouseStop:function(c){this.handles.removeClass("ui-state-active");this._stop(c,this._handleIndex);this._change(c,this._handleIndex);this._clickOffset=this._handleIndex=null;return false},
_detectOrientation:function(){this.orientation=this.options.orientation=="vertical"?"vertical":"horizontal"},_normValueFromMouse:function(c){var e;if("horizontal"==this.orientation){e=this.elementSize.width;c=c.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)}else{e=this.elementSize.height;c=c.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)}e=c/e;if(e>1)e=1;if(e<0)e=0;if("vertical"==this.orientation)e=1-e;c=this._valueMax()-this._valueMin();c=e*c;e=c%this.options.step;
c=this._valueMin()+c-e;if(e>this.options.step/2)c+=this.options.step;return parseFloat(c.toFixed(5))},_start:function(c,e){var f={handle:this.handles[e],value:this.value()};if(this.options.values&&this.options.values.length){f.value=this.values(e);f.values=this.values()}this._trigger("start",c,f)},_slide:function(c,e,f){if(this.options.values&&this.options.values.length){var k=this.values(e?0:1);if(this.options.values.length==2&&this.options.range===true&&(e==0&&f>k||e==1&&f<k))f=k;if(f!=this.values(e)){k=
this.values();k[e]=f;k=this._trigger("slide",c,{handle:this.handles[e],value:f,values:k});this.values(e?0:1);k!==false&&this.values(e,f,c.type=="mousedown"&&this.options.animate,true)}}else if(f!=this.value()){k=this._trigger("slide",c,{handle:this.handles[e],value:f});k!==false&&this._setData("value",f,c.type=="mousedown"&&this.options.animate)}},_stop:function(c,e){var f={handle:this.handles[e],value:this.value()};if(this.options.values&&this.options.values.length){f.value=this.values(e);f.values=
this.values()}this._trigger("stop",c,f)},_change:function(c,e){var f={handle:this.handles[e],value:this.value()};if(this.options.values&&this.options.values.length){f.value=this.values(e);f.values=this.values()}this._trigger("change",c,f)},value:function(c){if(arguments.length){this._setData("value",c);this._change(null,0)}return this._value()},values:function(c,e,f,k){if(arguments.length>1){this.options.values[c]=e;this._refreshValue(f);k||this._change(null,c)}return arguments.length?this.options.values&&
this.options.values.length?this._values(c):this.value():this._values()},_setData:function(c,e,f){b.widget.prototype._setData.apply(this,arguments);switch(c){case "disabled":if(e){this.handles.filter(".ui-state-focus").blur();this.handles.removeClass("ui-state-hover");this.handles.attr("disabled","disabled")}else this.handles.removeAttr("disabled");case "orientation":this._detectOrientation();this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-"+this.orientation);
this._refreshValue(f);break;case "value":this._refreshValue(f);break}},_step:function(){return this.options.step},_value:function(){var c=this.options.value;if(c<this._valueMin())c=this._valueMin();if(c>this._valueMax())c=this._valueMax();return c},_values:function(c){if(arguments.length){var e=this.options.values[c];if(e<this._valueMin())e=this._valueMin();if(e>this._valueMax())e=this._valueMax();return e}else return this.options.values},_valueMin:function(){return this.options.min},_valueMax:function(){return this.options.max},
_refreshValue:function(c){var e=this.options.range,f=this.options,k=this;if(this.options.values&&this.options.values.length)this.handles.each(function(q){var v=(k.values(q)-k._valueMin())/(k._valueMax()-k._valueMin())*100,w={};w[k.orientation=="horizontal"?"left":"bottom"]=v+"%";b(this).stop(1,1)[c?"animate":"css"](w,f.animate);if(k.options.range===true)if(k.orientation=="horizontal"){q==0&&k.range.stop(1,1)[c?"animate":"css"]({left:v+"%"},f.animate);q==1&&k.range[c?"animate":"css"]({width:v-lastValPercent+
"%"},{queue:false,duration:f.animate})}else{q==0&&k.range.stop(1,1)[c?"animate":"css"]({bottom:v+"%"},f.animate);q==1&&k.range[c?"animate":"css"]({height:v-lastValPercent+"%"},{queue:false,duration:f.animate})}lastValPercent=v});else{var m=this.value(),p=this._valueMin(),x=this._valueMax();m=x!=p?(m-p)/(x-p)*100:0;p={};p[k.orientation=="horizontal"?"left":"bottom"]=m+"%";this.handle.stop(1,1)[c?"animate":"css"](p,f.animate);e=="min"&&this.orientation=="horizontal"&&this.range.stop(1,1)[c?"animate":
"css"]({width:m+"%"},f.animate);e=="max"&&this.orientation=="horizontal"&&this.range[c?"animate":"css"]({width:100-m+"%"},{queue:false,duration:f.animate});e=="min"&&this.orientation=="vertical"&&this.range.stop(1,1)[c?"animate":"css"]({height:m+"%"},f.animate);e=="max"&&this.orientation=="vertical"&&this.range[c?"animate":"css"]({height:100-m+"%"},{queue:false,duration:f.animate})}}}));b.extend(b.ui.slider,{getter:"value values",version:"1.7.2",eventPrefix:"slide",defaults:{animate:false,delay:0,
distance:0,max:100,min:0,orientation:"horizontal",range:false,step:1,value:0,values:null}})})(jQuery);
(function(b){b.widget("ui.tabs",{_init:function(){if(this.options.deselectable!==undefined)this.options.collapsible=this.options.deselectable;this._tabify(true)},_setData:function(c,e){if(c=="selected")this.options.collapsible&&e==this.options.selected||this.select(e);else{this.options[c]=e;if(c=="deselectable")this.options.collapsible=e;this._tabify()}},_tabId:function(c){return c.title&&c.title.replace(/\s/g,"_").replace(/[^A-Za-z0-9\-_:\.]/g,"")||this.options.idPrefix+b.data(c)},_sanitizeSelector:function(c){return c.replace(/:/g,
"\\:")},_cookie:function(){var c=this.cookie||(this.cookie=this.options.cookie.name||"ui-tabs-"+b.data(this.list[0]));return b.cookie.apply(null,[c].concat(b.makeArray(arguments)))},_ui:function(c,e){return{tab:c,panel:e,index:this.anchors.index(c)}},_cleanup:function(){this.lis.filter(".ui-state-processing").removeClass("ui-state-processing").find("span:data(label.tabs)").each(function(){var c=b(this);c.html(c.data("label.tabs")).removeData("label.tabs")})},_tabify:function(c){function e(D,G){D.css({display:""});
b.browser.msie&&G.opacity&&D[0].style.removeAttribute("filter")}this.list=this.element.children("ul:first");this.lis=b("li:has(a[href])",this.list);this.anchors=this.lis.map(function(){return b("a",this)[0]});this.panels=b([]);var f=this,k=this.options,m=/^#.+/;this.anchors.each(function(D,G){var L=b(G).attr("href"),h=L.split("#")[0],U;if(h&&(h===location.toString().split("#")[0]||(U=b("base")[0])&&h===U.href)){L=G.hash;G.href=L}if(m.test(L))f.panels=f.panels.add(f._sanitizeSelector(L));else if(L!=
"#"){b.data(G,"href.tabs",L);b.data(G,"load.tabs",L.replace(/#.*$/,""));L=f._tabId(G);G.href="#"+L;G=b("#"+L);if(!G.length){G=b(k.panelTemplate).attr("id",L).addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").insertAfter(f.panels[D-1]||f.list);G.data("destroy.tabs",true)}f.panels=f.panels.add(G)}else k.disabled.push(D)});if(c){this.element.addClass("ui-tabs ui-widget ui-widget-content ui-corner-all");this.list.addClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all");
this.lis.addClass("ui-state-default ui-corner-top");this.panels.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom");if(k.selected===undefined){location.hash&&this.anchors.each(function(D,G){if(G.hash==location.hash){k.selected=D;return false}});if(typeof k.selected!="number"&&k.cookie)k.selected=parseInt(f._cookie(),10);if(typeof k.selected!="number"&&this.lis.filter(".ui-tabs-selected").length)k.selected=this.lis.index(this.lis.filter(".ui-tabs-selected"));k.selected=k.selected||0}else if(k.selected===
null)k.selected=-1;k.selected=k.selected>=0&&this.anchors[k.selected]||k.selected<0?k.selected:0;k.disabled=b.unique(k.disabled.concat(b.map(this.lis.filter(".ui-state-disabled"),function(D){return f.lis.index(D)}))).sort();b.inArray(k.selected,k.disabled)!=-1&&k.disabled.splice(b.inArray(k.selected,k.disabled),1);this.panels.addClass("ui-tabs-hide");this.lis.removeClass("ui-tabs-selected ui-state-active");if(k.selected>=0&&this.anchors.length){this.panels.eq(k.selected).removeClass("ui-tabs-hide");
this.lis.eq(k.selected).addClass("ui-tabs-selected ui-state-active");f.element.queue("tabs",function(){f._trigger("show",null,f._ui(f.anchors[k.selected],f.panels[k.selected]))});this.load(k.selected)}b(window).bind("unload",function(){f.lis.add(f.anchors).unbind(".tabs");f.lis=f.anchors=f.panels=null})}else k.selected=this.lis.index(this.lis.filter(".ui-tabs-selected"));this.element[k.collapsible?"addClass":"removeClass"]("ui-tabs-collapsible");k.cookie&&this._cookie(k.selected,k.cookie);c=0;for(var p;p=
this.lis[c];c++)b(p)[b.inArray(c,k.disabled)!=-1&&!b(p).hasClass("ui-tabs-selected")?"addClass":"removeClass"]("ui-state-disabled");k.cache===false&&this.anchors.removeData("cache.tabs");this.lis.add(this.anchors).unbind(".tabs");if(k.event!="mouseover"){var x=function(D,G){G.is(":not(.ui-state-disabled)")&&G.addClass("ui-state-"+D)},q=function(D,G){G.removeClass("ui-state-"+D)};this.lis.bind("mouseover.tabs",function(){x("hover",b(this))});this.lis.bind("mouseout.tabs",function(){q("hover",b(this))});
this.anchors.bind("focus.tabs",function(){x("focus",b(this).closest("li"))});this.anchors.bind("blur.tabs",function(){q("focus",b(this).closest("li"))})}var v,w;if(k.fx)if(b.isArray(k.fx)){v=k.fx[0];w=k.fx[1]}else v=w=k.fx;var C=w?function(D,G){b(D).closest("li").removeClass("ui-state-default").addClass("ui-tabs-selected ui-state-active");G.hide().removeClass("ui-tabs-hide").animate(w,w.duration||"normal",function(){e(G,w);f._trigger("show",null,f._ui(D,G[0]))})}:function(D,G){b(D).closest("li").removeClass("ui-state-default").addClass("ui-tabs-selected ui-state-active");
G.removeClass("ui-tabs-hide");f._trigger("show",null,f._ui(D,G[0]))},E=v?function(D,G){G.animate(v,v.duration||"normal",function(){f.lis.removeClass("ui-tabs-selected ui-state-active").addClass("ui-state-default");G.addClass("ui-tabs-hide");e(G,v);f.element.dequeue("tabs")})}:function(D,G){f.lis.removeClass("ui-tabs-selected ui-state-active").addClass("ui-state-default");G.addClass("ui-tabs-hide");f.element.dequeue("tabs")};this.anchors.bind(k.event+".tabs",function(){var D=this,G=b(this).closest("li"),
L=f.panels.filter(":not(.ui-tabs-hide)"),h=b(f._sanitizeSelector(this.hash));if(G.hasClass("ui-tabs-selected")&&!k.collapsible||G.hasClass("ui-state-disabled")||G.hasClass("ui-state-processing")||f._trigger("select",null,f._ui(this,h[0]))===false){this.blur();return false}k.selected=f.anchors.index(this);f.abort();if(k.collapsible)if(G.hasClass("ui-tabs-selected")){k.selected=-1;k.cookie&&f._cookie(k.selected,k.cookie);f.element.queue("tabs",function(){E(D,L)}).dequeue("tabs");this.blur();return false}else if(!L.length){k.cookie&&
f._cookie(k.selected,k.cookie);f.element.queue("tabs",function(){C(D,h)});f.load(f.anchors.index(this));this.blur();return false}k.cookie&&f._cookie(k.selected,k.cookie);if(h.length){L.length&&f.element.queue("tabs",function(){E(D,L)});f.element.queue("tabs",function(){C(D,h)});f.load(f.anchors.index(this))}else throw"jQuery UI Tabs: Mismatching fragment identifier.";b.browser.msie&&this.blur()});this.anchors.bind("click.tabs",function(){return false})},destroy:function(){var c=this.options;this.abort();
this.element.unbind(".tabs").removeClass("ui-tabs ui-widget ui-widget-content ui-corner-all ui-tabs-collapsible").removeData("tabs");this.list.removeClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all");this.anchors.each(function(){var e=b.data(this,"href.tabs");if(e)this.href=e;var f=b(this).unbind(".tabs");b.each(["href","load","cache"],function(k,m){f.removeData(m+".tabs")})});this.lis.unbind(".tabs").add(this.panels).each(function(){b.data(this,"destroy.tabs")?
b(this).remove():b(this).removeClass("ui-state-default ui-corner-top ui-tabs-selected ui-state-active ui-state-hover ui-state-focus ui-state-disabled ui-tabs-panel ui-widget-content ui-corner-bottom ui-tabs-hide")});c.cookie&&this._cookie(null,c.cookie)},add:function(c,e,f){if(f===undefined)f=this.anchors.length;var k=this,m=this.options;e=b(m.tabTemplate.replace(/#\{href\}/g,c).replace(/#\{label\}/g,e));c=!c.indexOf("#")?c.replace("#",""):this._tabId(b("a",e)[0]);e.addClass("ui-state-default ui-corner-top").data("destroy.tabs",
true);var p=b("#"+c);p.length||(p=b(m.panelTemplate).attr("id",c).data("destroy.tabs",true));p.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom ui-tabs-hide");if(f>=this.lis.length){e.appendTo(this.list);p.appendTo(this.list[0].parentNode)}else{e.insertBefore(this.lis[f]);p.insertBefore(this.panels[f])}m.disabled=b.map(m.disabled,function(x){return x>=f?++x:x});this._tabify();if(this.anchors.length==1){e.addClass("ui-tabs-selected ui-state-active");p.removeClass("ui-tabs-hide");this.element.queue("tabs",
function(){k._trigger("show",null,k._ui(k.anchors[0],k.panels[0]))});this.load(0)}this._trigger("add",null,this._ui(this.anchors[f],this.panels[f]))},remove:function(c){var e=this.options,f=this.lis.eq(c).remove(),k=this.panels.eq(c).remove();if(f.hasClass("ui-tabs-selected")&&this.anchors.length>1)this.select(c+(c+1<this.anchors.length?1:-1));e.disabled=b.map(b.grep(e.disabled,function(m){return m!=c}),function(m){return m>=c?--m:m});this._tabify();this._trigger("remove",null,this._ui(f.find("a")[0],
k[0]))},enable:function(c){var e=this.options;if(b.inArray(c,e.disabled)!=-1){this.lis.eq(c).removeClass("ui-state-disabled");e.disabled=b.grep(e.disabled,function(f){return f!=c});this._trigger("enable",null,this._ui(this.anchors[c],this.panels[c]))}},disable:function(c){var e=this.options;if(c!=e.selected){this.lis.eq(c).addClass("ui-state-disabled");e.disabled.push(c);e.disabled.sort();this._trigger("disable",null,this._ui(this.anchors[c],this.panels[c]))}},select:function(c){if(typeof c=="string")c=
this.anchors.index(this.anchors.filter("[href$="+c+"]"));else if(c===null)c=-1;if(c==-1&&this.options.collapsible)c=this.options.selected;this.anchors.eq(c).trigger(this.options.event+".tabs")},load:function(c){var e=this,f=this.options,k=this.anchors.eq(c)[0],m=b.data(k,"load.tabs");this.abort();if(!m||this.element.queue("tabs").length!==0&&b.data(k,"cache.tabs"))this.element.dequeue("tabs");else{this.lis.eq(c).addClass("ui-state-processing");if(f.spinner){var p=b("span",k);p.data("label.tabs",p.html()).html(f.spinner)}this.xhr=
b.ajax(b.extend({},f.ajaxOptions,{url:m,success:function(x,q){b(e._sanitizeSelector(k.hash)).html(x);e._cleanup();f.cache&&b.data(k,"cache.tabs",true);e._trigger("load",null,e._ui(e.anchors[c],e.panels[c]));try{f.ajaxOptions.success(x,q)}catch(v){}e.element.dequeue("tabs")}}))}},abort:function(){this.element.queue([]);this.panels.stop(false,true);if(this.xhr){this.xhr.abort();delete this.xhr}this._cleanup()},url:function(c,e){this.anchors.eq(c).removeData("cache.tabs").data("load.tabs",e)},length:function(){return this.anchors.length}});
b.extend(b.ui.tabs,{version:"1.7.2",getter:"length",defaults:{ajaxOptions:null,cache:false,cookie:null,collapsible:false,disabled:[],event:"click",fx:null,idPrefix:"ui-tabs-",panelTemplate:"<div></div>",spinner:"<em>Loading&#8230;</em>",tabTemplate:'<li><a href="#{href}"><span>#{label}</span></a></li>'}});b.extend(b.ui.tabs.prototype,{rotation:null,rotate:function(c,e){var f=this,k=this.options,m=f._rotate||(f._rotate=function(p){clearTimeout(f.rotation);f.rotation=setTimeout(function(){var x=k.selected;
f.select(++x<f.anchors.length?x:0)},c);p&&p.stopPropagation()});e=f._unrotate||(f._unrotate=!e?function(p){p.clientX&&f.rotate(null)}:function(){t=k.selected;m()});if(c){this.element.bind("tabsshow",m);this.anchors.bind(k.event+".tabs",e);m()}else{clearTimeout(f.rotation);this.element.unbind("tabsshow",m);this.anchors.unbind(k.event+".tabs",e);delete this._rotate;delete this._unrotate}}})})(jQuery);
(function(b){b.widget("ui.progressbar",{_init:function(){this.element.addClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").attr({role:"progressbar","aria-valuemin":this._valueMin(),"aria-valuemax":this._valueMax(),"aria-valuenow":this._value()});this.valueDiv=b('<div class="ui-progressbar-value ui-widget-header ui-corner-left"></div>').appendTo(this.element);this._refreshValue()},destroy:function(){this.element.removeClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow").removeData("progressbar").unbind(".progressbar");
this.valueDiv.remove();b.widget.prototype.destroy.apply(this,arguments)},value:function(c){if(c===undefined)return this._value();this._setData("value",c);return this},_setData:function(c,e){switch(c){case "value":this.options.value=e;this._refreshValue();this._trigger("change",null,{});break}b.widget.prototype._setData.apply(this,arguments)},_value:function(){var c=this.options.value;if(c<this._valueMin())c=this._valueMin();if(c>this._valueMax())c=this._valueMax();return c},_valueMin:function(){return 0},
_valueMax:function(){return 100},_refreshValue:function(){var c=this.value();this.valueDiv[c==this._valueMax()?"addClass":"removeClass"]("ui-corner-right");this.valueDiv.width(c+"%");this.element.attr("aria-valuenow",c)}});b.extend(b.ui.progressbar,{version:"1.7.2",defaults:{value:0}})})(jQuery);var error_count=0,MAX_ERROR_THRESHOLD=1E3,MAX_ERROR_REPORTS=10,ERROR_REPORTING_ENABLED=false;function setup_crash_reporting(){window.onerror=function(b,c,e){js_breakpad_report(b,c,e);return true}}
function js_breakpad_report(b,c,e){error_count+=1;if(!(error_count>MAX_ERROR_REPORTS)){console.log("js_breakpad reports error: "+b+" "+e);if(ERROR_REPORTING_ENABLED){var f=printStackTrace().join("\n\n");$.ajax({url:"/js-breakpad/report.jsp",type:"POST",data:{msg:b,url:c,linenumber:e,stacktrace:f}})}return true}}function over_error_threshold(){return error_count>MAX_ERROR_THRESHOLD};var JSON=JSON||{};
(function(){function b(v){return v<10?"0"+v:v}function c(v){k.lastIndex=0;return k.test(v)?'"'+v.replace(k,function(w){var C=x[w];return typeof C==="string"?C:"\\u"+("0000"+w.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+v+'"'}function e(v,w){var C,E,D=m,G,L=w[v];if(L&&typeof L==="object"&&typeof L.toJSON==="function")L=L.toJSON(v);if(typeof q==="function")L=q.call(w,v,L);switch(typeof L){case "string":return c(L);case "number":return isFinite(L)?String(L):"null";case "boolean":case "null":return String(L);case "object":if(!L)return"null";
m+=p;G=[];if(Object.prototype.toString.apply(L)==="[object Array]"){E=L.length;for(v=0;v<E;v+=1)G[v]=e(v,L)||"null";w=G.length===0?"[]":m?"[\n"+m+G.join(",\n"+m)+"\n"+D+"]":"["+G.join(",")+"]";m=D;return w}if(q&&typeof q==="object"){E=q.length;for(v=0;v<E;v+=1){C=q[v];if(typeof C==="string")if(w=e(C,L))G.push(c(C)+(m?": ":":")+w)}}else for(C in L)if(Object.hasOwnProperty.call(L,C))if(w=e(C,L))G.push(c(C)+(m?": ":":")+w);w=G.length===0?"{}":m?"{\n"+m+G.join(",\n"+m)+"\n"+D+"}":"{"+G.join(",")+"}";
m=D;return w}}if(typeof Date.prototype.toJSON!=="function"){Date.prototype.toJSON=function(){return this.valueOf()?this.getUTCFullYear()+"-"+b(this.getUTCMonth()+1)+"-"+b(this.getUTCDate())+"T"+b(this.getUTCHours())+":"+b(this.getUTCMinutes())+":"+b(this.getUTCSeconds())+"Z":null};String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()}}var f=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,
k=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,m,p,x={"\u0008":"\\b","\t":"\\t","\n":"\\n","\u000c":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},q;if(typeof JSON.stringify!=="function")JSON.stringify=function(v,w,C){var E;p=m="";if(typeof C==="number")for(E=0;E<C;E+=1)p+=" ";else if(typeof C==="string")p=C;if((q=w)&&typeof w!=="function"&&(typeof w!=="object"||typeof w.length!=="number"))throw new Error("JSON.stringify");return e("",
{"":v})};if(typeof JSON.parse!=="function")JSON.parse=function(v,w){function C(E,D){var G,L,h=E[D];if(h&&typeof h==="object")for(G in h)if(Object.hasOwnProperty.call(h,G)){L=C(h,G);if(L!==undefined)h[G]=L;else delete h[G]}return w.call(E,D,h)}f.lastIndex=0;if(f.test(v))v=v.replace(f,function(E){return"\\u"+("0000"+E.charCodeAt(0).toString(16)).slice(-4)});if(/^[\],:{}\s]*$/.test(v.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,
"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))){v=eval("("+v+")");return typeof w==="function"?C({"":v},""):v}throw new SyntaxError("JSON.parse");}})();var LOG_FATAL=0,LOG_ERROR=1,LOG_NORMAL=2,LOG_VERBOSE=3,LOG_DEBUG=4;function freelog(b,c){console.log(c)};function mapview_mouse_click(b){var c;if(!b)b=window.event;if(b.which)c=b.which==3;else if(b.button)c=b.button==2;c?release_right_button(mouse_x,mouse_y):action_button_pressed(mouse_x,mouse_y,SELECT_POPUP)}function action_button_pressed(b,c,e){b=canvas_pos_to_tile(b,c);can_client_change_view()&&b!=null&&do_map_click(b,e)}function release_right_button(b,c){recenter_button_pressed(b,c)}
function recenter_button_pressed(b,c){b=canvas_pos_to_tile(b,c);can_client_change_view()&&b!=null&&center_tile_mapcanvas(b)};var map={};map.tiles={};var DIR8_NORTHWEST=0,DIR8_NORTH=1,DIR8_NORTHEAST=2,DIR8_WEST=3,DIR8_EAST=4,DIR8_SOUTHWEST=5,DIR8_SOUTH=6,DIR8_SOUTHEAST=7,DIR8_LAST=8,DIR8_COUNT=DIR8_LAST,TF_WRAPX=1,TF_WRAPY=2,TF_ISO=4,TF_HEX=8,T_NONE=0,T_UNKNOWN=0,T_FIRST=0,DIR_DX=[-1,0,1,-1,1,-1,0,1],DIR_DY=[-1,-1,-1,0,0,1,1,1];function topo_has_flag(b){return(map.topology_id&b)!=0}
function map_allocate(){map.tiles={};for(var b=0;b<map.xsize;b++)for(var c=0;c<map.ysize;c++){tile={};tile.index=b+c*map.xsize;tile.x=b;tile.y=c;tile=tile_init(tile);map.tiles[tile.index]=tile}map.startpos_table={};init_overview()}function tile_init(b){b.continent=0;b.known=null;b.seen={};b.specials=[];b.resource=null;b.terrain=T_UNKNOWN;b.units=[];b.owner=null;b.claimer=null;b.worked=null;b.spec_sprite=null;return b}
function map_init_topology(b){!b&&is_server();map.valid_dirs={};map.cardinal_dirs={};map.num_valid_dirs=0;for(b=map.num_cardinal_dirs=0;b<8;b++){if(is_valid_dir(b)){map.valid_dirs[map.num_valid_dirs]=b;map.num_valid_dirs++}if(is_cardinal_dir(b)){map.cardinal_dirs[map.num_cardinal_dirs]=b;map.num_cardinal_dirs++}}}
function is_valid_dir(b){switch(b){case DIR8_SOUTHEAST:case DIR8_NORTHWEST:return!(topo_has_flag(TF_HEX)&&!topo_has_flag(TF_ISO));case DIR8_NORTHEAST:case DIR8_SOUTHWEST:return!(topo_has_flag(TF_HEX)&&topo_has_flag(TF_ISO));case DIR8_NORTH:case DIR8_EAST:case DIR8_SOUTH:case DIR8_WEST:return true;default:return false}}
function is_cardinal_dir(b){switch(b){case DIR8_NORTH:case DIR8_SOUTH:case DIR8_EAST:case DIR8_WEST:return true;case DIR8_SOUTHEAST:case DIR8_NORTHWEST:return topo_has_flag(TF_HEX)&&topo_has_flag(TF_ISO);case DIR8_NORTHEAST:case DIR8_SOUTHWEST:return topo_has_flag(TF_HEX)&&!topo_has_flag(TF_ISO)}return false}function map_pos_to_tile(b,c){if(map.tiles==null)return null;return map.tiles[b+c*map.xsize]}
function NATIVE_TO_MAP_POS(b,c){b=Math.floor((c+(c&1))/2+b);c=Math.floor(c-b+map.xsize);return{map_x:b,map_y:c}}function MAP_TO_NATIVE_POS(b,c){c=Math.floor(b+c-map.xsize);b=Math.floor((2*b-c-(c&1))/2);return{nat_y:c,nat_x:b}}function NATURAL_TO_MAP_POS(b,c){b=Math.floor((c+b)/2);c=Math.floor(c-b+map.xsize);return{map_x:b,map_y:c}}function MAP_TO_NATURAL_POS(b,c){c=Math.floor(b+c-map.xsize);b=Math.floor(2*b-c);return{nat_y:c,nat_x:b}}
function mapstep(b,c){var e,f;if(!is_valid_dir(c))return null;c=DIRSTEP(e,f,c);e=c.dest_x+b.x;f=c.dest_y+b.y;return map_pos_to_tile(e,f)}function DIRSTEP(b,c,e){return{dest_x:DIR_DX[e],dest_y:DIR_DY[e]}}function dir_get_name(b){switch(b){case DIR8_NORTH:return"N";case DIR8_NORTHEAST:return"NE";case DIR8_EAST:return"E";case DIR8_SOUTHEAST:return"SE";case DIR8_SOUTH:return"S";case DIR8_SOUTHWEST:return"SW";case DIR8_WEST:return"W";case DIR8_NORTHWEST:return"NW"}return"[Undef]"}
function dir_cw(b){switch(b){case DIR8_NORTH:return DIR8_NORTHEAST;case DIR8_NORTHEAST:return DIR8_EAST;case DIR8_EAST:return DIR8_SOUTHEAST;case DIR8_SOUTHEAST:return DIR8_SOUTH;case DIR8_SOUTH:return DIR8_SOUTHWEST;case DIR8_SOUTHWEST:return DIR8_WEST;case DIR8_WEST:return DIR8_NORTHWEST;case DIR8_NORTHWEST:return DIR8_NORTH}return-1}
function dir_ccw(b){switch(b){case DIR8_NORTH:return DIR8_NORTHWEST;case DIR8_NORTHEAST:return DIR8_NORTH;case DIR8_EAST:return DIR8_NORTHEAST;case DIR8_SOUTHEAST:return DIR8_EAST;case DIR8_SOUTH:return DIR8_SOUTHEAST;case DIR8_SOUTHWEST:return DIR8_SOUTH;case DIR8_WEST:return DIR8_SOUTHWEST;case DIR8_NORTHWEST:return DIR8_WEST}return-1};var mapview={},mapdeco_highlight_table={},mapdeco_crosshair_table={},mapdeco_gotoline_table={},mapview_frag=null;function mapdeco_init(){mapview.can_do_cached_drawing=can_do_cached_drawing();mapdeco_highlight_table={};mapdeco_crosshair_table={};mapdeco_gotoline_table={}}function can_do_cached_drawing(){return false}function refresh_tile_mapcanvas(b,c,e){}
function center_tile_mapcanvas(b){var c=map_to_gui_pos(b.x,b.y);b=c.gui_dx;c=c.gui_dy;b-=mapview.width-tileset_tile_width>>1;c-=mapview.height-tileset_tile_height>>1;set_mapview_origin(b,c)}function map_to_gui_vector(b,c){return{gui_dx:(b-c)*tileset_tile_width>>1,gui_dy:(b+c)*tileset_tile_height>>1}}function set_mapview_origin(b,c){c=normalize_gui_pos(b,c);b=c.gui_x;c=c.gui_y;base_set_mapview_origin(b,c)}
function base_set_mapview_origin(b,c){c=normalize_gui_pos(b,c);b=c.gui_x;c=c.gui_y;mapview.gui_x0=b;mapview.gui_y0=c;update_map_canvas(0,0,mapview.store_width,mapview.store_height)}
function normalize_gui_pos(b,c){var e,f,k,m;k=gui_to_map_pos(b,c);e=k.map_x;f=k.map_y;m=map_to_gui_pos(e,f);k=m.gui_dx;m=m.gui_dy;k=b-k;m=c-m;e=MAP_TO_NATIVE_POS(e,f);b=e.nat_x;e=e.nat_y;if(topo_has_flag(TF_WRAPX))b=FC_WRAP(b,map.xsize);if(topo_has_flag(TF_WRAPY))e=FC_WRAP(e,map.ysize);b=NATIVE_TO_MAP_POS(b,e);e=b.map_x;f=b.map_y;e=map_to_gui_pos(e,f);b=e.gui_dx;c=e.gui_dy;b+=k;c+=m;return{gui_x:b,gui_y:c}}
function gui_to_map_pos(b,c){var e=tileset_tile_width,f=tileset_tile_height;b-=e>>1;var k=DIVIDE(b*f+c*e,e*f);b=DIVIDE(c*e-b*f,e*f);return{map_x:k,map_y:b}}function map_to_gui_pos(b,c){return map_to_gui_vector(b,c)}
function update_map_canvas(b,c,e,f){var k,m;k=true;k=mapview.gui_x0+b;m=mapview.gui_y0+c;canvas_put_rectangle(mapview_canvas_ctx,"rgb(0,0,0)",b,c,e,f);if(!is_canvas_supported()){if(mapview_canvas.hasChildNodes())for(;mapview_canvas.childNodes.length>=1;)mapview_canvas.removeChild(mapview_canvas.firstChild);mapview_frag=document.createDocumentFragment()}for(b=0;b<LAYER_COUNT;b++){var p=k,x=m,q=e,v=f+(tileset_tile_height>>1);if(q<0){p+=q;q=-q}if(v<0){x+=v;v=-v}if(q>0&&v>0){c={};var w={},C,E,D,G,L=tileset_tile_width,
h=tileset_tile_height,U=Math.floor(p*4/L-(p*4<0&&p*4%L<0?1:0)-1),X=Math.floor(x*4/h-(x*4<0&&x*4%h<0?1:0)-1);p=Math.floor(((p+q)*4+L-1)/L-((p+q)*4+L-1<0&&((p+q)*4+L-1)%L<0?1:0)+2);x=Math.floor(((x+v)*4+h-1)/h-((x+v)*4+h-1<0&&((x+v)*4+h-1)%h<0?1:0)+2);x=(p-U)*(x-X);for(v=0;v<x;v++){var J=q=null,V=null;C=U+v%(p-U);E=Math.floor(X+v/(p-U));D=C+E;G=E-C;if((C+E)%2==0){if(C%2==0&&E%2==0)if((C+E)%4==0)q=map_pos_to_tile((D>>2)-1,G>>2);else{V=w;V.tile=[];V.tile[0]=map_pos_to_tile(D-6>>2,G-2>>2);V.tile[1]=map_pos_to_tile(D-
2>>2,G-2>>2);V.tile[2]=map_pos_to_tile(D-2>>2,G+2>>2);V.tile[3]=map_pos_to_tile(D-6>>2,G+2>>2)}else{J=c;if(D%4==0){J.type=EDGE_NS;J.tile=[];J.tile[0]=map_pos_to_tile(D-4>>2,G-2>>2);J.tile[1]=map_pos_to_tile(D-4>>2,G+2>>2)}else{J.type=EDGE_WE;J.tile=[];J.tile[0]=map_pos_to_tile(D-6>>2,G>>2);J.tile[1]=map_pos_to_tile(D-2>>2,G>>2)}}C=Math.floor(C*L/4-L/2);E=Math.floor(E*h/4-h/2);C=C-mapview.gui_x0;E=E-mapview.gui_y0;if(q!=null)put_one_tile(mapview_canvas_ctx,b,q,C,E,null);else if(J!=null)put_one_element(mapview_canvas_ctx,
b,null,J,null,null,null,C,E,null);else V!=null&&put_one_element(mapview_canvas_ctx,b,null,null,V,null,null,C,E,null)}}}}is_canvas_supported()||mapview_canvas.appendChild(mapview_frag)}function put_one_tile(b,c,e,f,k,m){client_tile_get_known(e)!=TILE_UNKNOWN&&put_one_element(b,c,e,null,null,get_drawable_unit(e,m),tile_city(e),f,k,m)}
function put_one_element(b,c,e,f,k,m,p,x,q,v){c=fill_sprite_array(c,e,f,k,m,p,v);e=e!=null&&draw_fog_of_war&&TILE_KNOWN_UNSEEN==client_tile_get_known(e);put_drawn_sprites(b,x,q,c,e)}
function put_drawn_sprites(b,c,e,f,k){for(k=0;k<f.length;k++){var m=0,p=0;if("offset_x"in f[k])m+=f[k].offset_x;if("offset_y"in f[k])p+=f[k].offset_y;if(f[k].key=="city_text")mapview_put_city_text(b,f[k].text,c+m,e+p);else f[k].key=="unit_activity_text"?mapview_put_unit_text(b,f[k].text,c+m,e+p):canvas_put_sprite(b,c,e,f[k],m,p)}}function base_canvas_to_map_pos(b,c){return gui_to_map_pos(b+mapview.gui_x0,c+mapview.gui_y0)}
function canvas_pos_to_tile(b,c){b=base_canvas_to_map_pos(b,c);return map_pos_to_tile(b.map_x,b.map_y)}function update_map_canvas_full(){if(map.tiles!=null){var b=(new Date).getTime();if(active_city==null){update_map_canvas(0,0,mapview.store_width,mapview.store_height);b=(new Date).getTime()-b;console.log("Redraw time: "+b)}}};var mapview_canvas_ctx=null,mapview_canvas=null,tileset_images={},height_offset=240,height_offset_iphone=110,width_offset=30,font="sans",canvas_text_font="12pt Arial",fontsize=12,has_canvas_text_support=false,fullfog=[];function initCanvas(b){if(window.G_vmlCanvasManager&&window.attachEvent&&!window.opera)b=window.G_vmlCanvasManager.initElement(b);return b}
function init_mapview(){if(is_canvas_supported()){mapview_canvas=initCanvas(document.getElementById("canvas"));mapview_canvas_ctx=mapview_canvas.getContext("2d");(has_canvas_text_support=mapview_canvas_ctx.fillText&&mapview_canvas_ctx.measureText&&!is_iphone())||CanvasTextFunctions.enable(mapview_canvas_ctx)}else mapview_canvas=document.getElementById("ie_canvas");is_canvas_supported()?$("#ie_canvas").remove():$("#canvas").remove();if(is_iphone()){height_offset=height_offset_iphone;width_offset=0}setup_window_size();
mapview.gui_x0=0;mapview.gui_y0=0;var b;for(b=0;b<81;b++){var c=["u","f","k"],e="t.fog",f=[],k,m=b;for(k=0;k<4;k++){f[k]=m%3;m=Math.floor(m/3);e+="_"+c[f[k]]}fullfog[b]=e}orientation_changed();init_small_tiles()}
function setup_window_size(){var b,c,e=document;if(typeof window.innerWidth!="undefined"){b=window.innerWidth;c=window.innerHeight}else if(e.documentElement&&typeof e.documentElement.clientWidth!="undefined"&&e.documentElement.clientWidth!=0){b=e.documentElement.clientWidth;c=e.documentElement.clientHeight}else if(e.body&&typeof e.body.clientWidth!="undefined"){b=e.body.clientWidth;c=e.body.clientHeight}if(is_canvas_supported()){mapview_canvas.width=b-width_offset;mapview_canvas.height=c-height_offset}else{$("#ie_canvas").width(b-
width_offset);$("#ie_canvas").height(c-height_offset)}mapview.width=b-width_offset;mapview.height=c-height_offset;mapview.store_width=b-width_offset;mapview.store_height=c-height_offset}function init_small_tiles(){if(is_canvas_clipping_supported()){var b=new Image;b.src="/tileset/freeciv-web-tileset-1.png";tileset_images[1]=b;b=new Image;b.src="/tileset/freeciv-web-tileset-2.png";tileset_images[2]=b}else for(b in tileset){var c=new Image;c.src="/tiles/"+b+".png";tileset_images[b]=c}}
function mapview_window_resized(){if(active_city==null){setup_window_size();update_map_canvas_full()}}function drawPath(b,c,e,f,k,m,p,x,q){b.moveTo(c,e);b.lineTo(f,k);b.lineTo(m,p);b.lineTo(x,q);b.lineTo(c,e)}
function mapview_put_tile(b,c,e,f){if(tileset[c]==null)console.log("Missing in tileset "+c);else{var k=tileset[c][0],m=tileset[c][1],p=tileset[c][2],x=tileset[c][3],q=tileset[c][4];is_canvas_clipping_supported()?b.drawImage(tileset_images[k],m,p,x,q,e,f,x,q):b.drawImage(tileset_images[c],e,f)}}
function mapview_put_tile_ie(b,c,e,f){if(tileset[c]==null)console.log("Missing in tileset "+c);else{b=tileset[c][0];var k=tileset[c][1],m=tileset[c][2],p=tileset[c][3];c=tileset[c][4];var x=document.createElement("div");x.style.position="absolute";x.style.left=e+"px";x.style.top=f+"px";x.style.backgroundImage="url(/tileset/freeciv-web-tileset-"+b+".png)";x.style.width=p+"px";x.style.height=c+"px";x.style.backgroundPosition="-"+k+"px -"+m+"px";mapview_frag.appendChild(x)}}
function mapview_put_city_text(b,c,e,f){if(is_canvas_supported())if(has_canvas_text_support){b.font=canvas_text_font;var k=b.measureText(c).width;b.fillStyle="rgba(0, 0, 0, 0.5)";b.fillRect(e-Math.floor(k/2)-5,f-14,k+10,20);b.fillStyle="rgba(255, 255, 255, 1)";b.fillText(c,e-Math.floor(k/2),f)}else{k=b.measureText(font,fontsize,c);b.fillStyle="rgba(0, 0, 0, 0.5)";b.fillRect(e-Math.floor(k/2)-5,f-14,k+10,20);b.strokeStyle="rgba(255,255,255,1)";b.drawTextCenter(font,fontsize,e,f,c)}else{b=document.createElement("div");
b.style.position="absolute";b.style.left=e-20+"px";b.style.top=f-20+"px";b.appendChild(document.createTextNode(c));mapview_frag.appendChild(b)}}function mapview_put_unit_text(b,c,e,f){if(has_canvas_text_support){b.font=canvas_text_font;b.fillStyle="rgba(255, 200, 70, 1)";b.fillText(c,e,f)}else{b.strokeStyle="rgba(255, 200, 70, 1)";b.drawTextCenter(font,fontsize,e,f,c)}}
function update_unit_info_label(b){for(var c="",e=0;e<b.length;e++){var f=b[e],k=unit_type(f),m=get_unit_image_sprite(f);c+="<div style='float:left;'><div style='float: left; padding-right: 10px; background: transparent url("+m["image-src"]+");background-position:-"+m["tileset-x"]+"px -"+m["tileset-y"]+"px;  width: "+m.width+"px;height: "+m.height+"px;float:left; ''></div>";c+="<div style='float:left;'><b>"+k.name+"</b><br>";c+=get_unit_moves_left(f);c+="<br>";c+="<div style='font-size: 80%;'><span title='Attack strength'>A:"+
k.attack_strength+"</span> <span title='Defense strength'>D:"+k.defense_strength+"</span> <span title='Firepower'>F:"+k.firepower+"</span> <span title='Health points'>H:"+k.hp+"</span>";c+="</div></div></div>"}$("#game_unit_info").html(c)}
function update_select_unit_dialog(b){for(var c="<div><b>Select a unit:</b></div>",e=0;e<b.length;e++){var f=b[e],k=get_unit_image_sprite(f);c+="<div id='game_unit_list_item' style='cursor: hand; background: transparent url("+k["image-src"]+");background-position:-"+k["tileset-x"]+"px -"+k["tileset-y"]+"px;  width: "+k.width+"px;height: "+k.height+"px;float:left; ' onclick='set_unit_focus_and_redraw(units["+f.id+"])'></div>"}$("#game_unit_info").html(c);$("#game_unit_orders_default").hide()}
function set_city_mapview_active(){if(is_canvas_supported()){mapview_canvas=initCanvas(document.getElementById("city_canvas"));mapview_canvas_ctx=mapview_canvas.getContext("2d");has_canvas_text_support||CanvasTextFunctions.enable(mapview_canvas_ctx)}else mapview_canvas=document.getElementById("city_ie_canvas");is_canvas_supported()?$("#city_ie_canvas").remove():$("#city_canvas").remove();mapview.width=300;mapview.height=150;mapview.store_width=300;mapview.store_height=150}
function set_default_mapview_active(){if(is_canvas_supported()){mapview_canvas=initCanvas(document.getElementById("canvas"));mapview_canvas_ctx=mapview_canvas.getContext("2d");has_canvas_text_support||CanvasTextFunctions.enable(mapview_canvas_ctx)}else mapview_canvas=document.getElementById("ie_canvas");is_canvas_supported()?$("#ie_canvas").remove():$("#canvas").remove();if(active_city!=null){setup_window_size();center_tile_mapcanvas(city_tile(active_city));active_city=null}update_map_canvas_full()}
;function update_menus(){};var nations={},nation_groups=[];function update_nation_screen(){var b="";for(var c in players){var e=players[c],f=get_player_fplag_sprite(e);b=b+"<div style='background: transparent url("+f["image-src"]+"); background-position:-"+f["tileset-x"]+"px -"+f["tileset-y"]+"px;  width: "+f.width+"px;height: "+f.height+"px; margin: 5px; '><div style='width: 600px; margin-left: 60px;'>"+e.name+" - "+e.username+"  - "+nations[e.nation].adjective+"</div></div>"}$("#nations_list").html(b)};var default_user_name="",default_server_host="localhost",default_theme_name="human",default_tileset_name="",default_sound_set_name="stdsounds",default_sound_plugin_name="",save_options_on_exit=TRUE,fullscreen_mode=FALSE,solid_color_behind_units=FALSE,sound_bell_at_new_turn=FALSE,smooth_move_unit_msec=30,smooth_center_slide_msec=200,do_combat_animation=TRUE,ai_manual_turn_done=TRUE,auto_center_on_unit=TRUE,auto_center_on_combat=FALSE,auto_center_each_turn=TRUE,wakeup_focus=TRUE,goto_into_unknown=TRUE,
center_when_popup_city=TRUE,concise_city_production=FALSE,auto_turn_done=FALSE,meta_accelerators=TRUE,ask_city_name=TRUE,popup_new_cities=TRUE,popup_caravan_arrival=TRUE,keyboardless_goto=TRUE,enable_cursor_changes=TRUE,separate_unit_selection=FALSE,unit_selection_clears_orders=TRUE,highlight_our_names="yellow",update_city_text_in_refresh_tile=TRUE,draw_city_outlines=TRUE,draw_city_output=FALSE,draw_map_grid=FALSE,draw_city_names=TRUE,draw_city_growth=TRUE,draw_city_productions=FALSE,draw_city_buycost=
FALSE,draw_city_traderoutes=FALSE,draw_terrain=TRUE,draw_coastline=FALSE,draw_roads_rails=TRUE,draw_irrigation=TRUE,draw_mines=TRUE,draw_fortress_airbase=TRUE,draw_specials=TRUE,draw_pollution=TRUE,draw_cities=TRUE,draw_units=TRUE,draw_focus_unit=FALSE,draw_fog_of_war=TRUE,draw_borders=TRUE,draw_full_citybar=TRUE,draw_unit_shields=TRUE,player_dlg_show_dead_players=TRUE,reqtree_show_icons=TRUE,reqtree_curved_lines=FALSE,gui_gtk2_map_scrollbars=FALSE,gui_gtk2_dialogs_on_top=TRUE,gui_gtk2_show_task_icons=
TRUE,gui_gtk2_enable_tabs=TRUE,gui_gtk2_better_fog=TRUE,gui_gtk2_show_chat_message_time=FALSE,gui_gtk2_split_bottom_notebook=FALSE,gui_gtk2_new_messages_go_to_top=FALSE,gui_gtk2_show_message_window_buttons=TRUE,gui_gtk2_metaserver_tab_first=FALSE,gui_gtk2_allied_chat_only=FALSE,gui_gtk2_small_display_layout=FALSE;var OVERVIEW_TILE_SIZE=1,overviewTimerId=-1,overview_w=230,overview_h=140,OVERVIEW_REFRESH=5E3,palette=[],COLOR_OVERVIEW_UNKNOWN=0,COLOR_OVERVIEW_MY_CITY=1,COLOR_OVERVIEW_ALLIED_CITY=2,COLOR_OVERVIEW_ENEMY_CITY=3,COLOR_OVERVIEW_MY_UNIT=4,COLOR_OVERVIEW_ALLIED_UNIT=5,COLOR_OVERVIEW_ENEMY_UNIT=6,COLOR_OVERVIEW_OCEAN=7,COLOR_OVERVIEW_LAND=8,COLOR_OVERVIEW_VIEWRECT=9;
function init_overview(){if(!is_iphone()){OVERVIEW_TILE_SIZE=Math.min(Math.floor((overview_w-1)/(map.xsize*2)+1)+1,Math.floor((overview_h-1)/map.ysize+1)+1);OVERVIEW_TILE_SIZE=Math.max(OVERVIEW_TILE_SIZE,1);palette=generate_palette();redraw_overview();if(overviewTimerId==-1)overviewTimerId=setInterval("redraw_overview()",OVERVIEW_REFRESH)}}function redraw_overview(){bmp_lib.render("overview_map",generate_overview_grid(map.xsize,map.ysize),palette)}
function generate_overview_grid(b,c){var e,f=Array(c*OVERVIEW_TILE_SIZE);for(e=0;e<c*OVERVIEW_TILE_SIZE;e++)f[e]=Array(b*OVERVIEW_TILE_SIZE);for(e=0;e<c;e++)for(var k=0;k<b;k++){var m=overview_tile_color(k,e);render_multipixel(f,e,k,m)}render_viewrect(f);return f}
function render_viewrect(b){var c;if(mapview.gui_x0!=0&&mapview.gui_y0!=0){c=base_canvas_to_map_pos(0,0);s=base_canvas_to_map_pos(mapview.width,0);t=base_canvas_to_map_pos(0,mapview.height);u=base_canvas_to_map_pos(mapview.width,mapview.height);drawLine(b,c.map_y,c.map_x,s.map_y,s.map_x);drawLine(b,s.map_y,s.map_x,u.map_y,u.map_x);drawLine(b,t.map_y,t.map_x,u.map_y,u.map_x);drawLine(b,c.map_y,c.map_x,t.map_y,t.map_x)}}
function drawLine(b,c,e,f,k){c=c*OVERVIEW_TILE_SIZE;e=e*OVERVIEW_TILE_SIZE;f=f*OVERVIEW_TILE_SIZE;k=k*OVERVIEW_TILE_SIZE;for(var m=Math.sqrt((c-f)*(c-f)+(e-k)*(e-k)),p=0;p<m;p++){var x=Math.round(c+(f-c)*p/m),q=Math.round(e+(k-e)*p/m);render_singlepixel(b,x,q,COLOR_OVERVIEW_VIEWRECT)}}function render_multipixel(b,c,e,f){if(c>=0&&e>=0&&c<map.ysize&&e<map.xsize)for(var k=0;k<OVERVIEW_TILE_SIZE;k++)for(var m=0;m<OVERVIEW_TILE_SIZE;m++)b[OVERVIEW_TILE_SIZE*c+k][OVERVIEW_TILE_SIZE*e+m]=f}
function render_singlepixel(b,c,e,f){if(c>=0&&e>=0&&c<map.ysize*OVERVIEW_TILE_SIZE&&e<map.xsize*OVERVIEW_TILE_SIZE)b[c][e]=f}
function generate_palette(){var b=[];b[COLOR_OVERVIEW_UNKNOWN]=[0,0,0];b[COLOR_OVERVIEW_MY_CITY]=[255,255,255];b[COLOR_OVERVIEW_ALLIED_CITY]=[0,255,255];b[COLOR_OVERVIEW_ENEMY_CITY]=[0,255,255];b[COLOR_OVERVIEW_MY_UNIT]=[255,255,0];b[COLOR_OVERVIEW_ALLIED_UNIT]=[255,0,0];b[COLOR_OVERVIEW_ENEMY_UNIT]=[255,0,0];b[COLOR_OVERVIEW_OCEAN]=[30,65,195];b[COLOR_OVERVIEW_LAND]=[40,114,22];b[COLOR_OVERVIEW_VIEWRECT]=[200,200,255];return b}
function overview_tile_color(b,c){b=map_pos_to_tile(b,c);c=tile_city(b);if(c!=null)return client.conn.playing==null?COLOR_OVERVIEW_ENEMY_CITY:city_owner_player_id(c)==client.conn.playing.id?COLOR_OVERVIEW_MY_CITY:COLOR_OVERVIEW_ENEMY_CITY;c=find_visible_unit(b);if(c!=null)return client.conn.playing==null?COLOR_OVERVIEW_ENEMY_UNIT:c.owner==client.conn.playing.id?COLOR_OVERVIEW_MY_UNIT:COLOR_OVERVIEW_ENEMY_UNIT;if(tile_get_known(b)!=TILE_UNKNOWN)return is_ocean_tile(b)?COLOR_OVERVIEW_OCEAN:COLOR_OVERVIEW_LAND;
return COLOR_OVERVIEW_UNKNOWN}function overview_clicked(b){var c=document.getElementById("overview_map");if(c!=null){var e=b.offsetX?b.offsetX:b.pageX-c.offsetLeft;b=b.offsetY?b.offsetY:b.pageY-c.offsetTop;var f=$("#overview_map").width();c=$("#overview_map").height();e=Math.floor(e*map.xsize/f);b=Math.floor(b*map.ysize/c);e=map_pos_to_tile(e,b);e!=null&&center_tile_mapcanvas(e);redraw_overview()}};function client_handle_packet(b){if(b!=null)try{for(var c=0;c<b.length;c++)if(b[c]!=null)switch(b[c].packet_type){case "packet_processing_started":handle_packet_processing_started(b[c]);break;case "packet_processing_finished":handle_packet_processing_finished(b[c]);break;case "packet_freeze_hint":handle_packet_freeze_hint(b[c]);break;case "packet_thaw_hint":handle_packet_thaw_hint(b[c]);break;case "packet_server_join_reply":handle_packet_server_join_reply(b[c]);break;case "packet_authentication_req":handle_packet_authentication_req(b[c]);
break;case "packet_server_shutdown":handle_packet_server_shutdown(b[c]);break;case "packet_endgame_report":handle_packet_endgame_report(b[c]);break;case "packet_tile_info":handle_packet_tile_info(b[c]);break;case "packet_game_info":handle_packet_game_info(b[c]);break;case "packet_map_info":handle_packet_map_info(b[c]);break;case "packet_nuke_tile_info":handle_packet_nuke_tile_info(b[c]);break;case "packet_chat_msg":handle_packet_chat_msg(b[c]);break;case "packet_city_remove":handle_packet_city_remove(b[c]);
break;case "packet_city_info":handle_packet_city_info(b[c]);break;case "packet_city_short_info":handle_packet_city_short_info(b[c]);break;case "packet_city_name_suggestion_info":handle_packet_city_name_suggestion_info(b[c]);break;case "packet_city_sabotage_list":handle_packet_city_sabotage_list(b[c]);break;case "packet_player_remove":handle_packet_player_remove(b[c]);break;case "packet_player_info":handle_packet_player_info(b[c]);break;case "packet_player_attribute_chunk":handle_packet_player_attribute_chunk(b[c]);
break;case "packet_unit_remove":handle_packet_unit_remove(b[c]);break;case "packet_unit_info":handle_packet_unit_info(b[c]);break;case "packet_unit_short_info":handle_packet_unit_short_info(b[c]);break;case "packet_unit_combat_info":handle_packet_unit_combat_info(b[c]);break;case "packet_ruleset_specialist":handle_packet_ruleset_specialist(b[c]);break;case "packet_unit_diplomat_answer":handle_packet_unit_diplomat_answer(b[c]);break;case "packet_diplomacy_init_meeting":handle_packet_diplomacy_init_meeting(b[c]);
break;case "packet_diplomacy_cancel_meeting":handle_packet_diplomacy_cancel_meeting(b[c]);break;case "packet_diplomacy_create_clause":handle_packet_diplomacy_create_clause(b[c]);break;case "packet_diplomacy_remove_clause":handle_packet_diplomacy_remove_clause(b[c]);break;case "packet_diplomacy_accept_treaty":handle_packet_diplomacy_accept_treaty(b[c]);break;case "packet_page_msg":handle_packet_page_msg(b[c]);break;case "packet_conn_info":handle_packet_conn_info(b[c]);break;case "packet_conn_ping_info":handle_packet_conn_ping_info(b[c]);
break;case "packet_conn_ping":handle_packet_conn_ping(b[c]);break;case "packet_end_phase":handle_packet_end_phase(b[c]);break;case "packet_start_phase":handle_packet_start_phase(b[c]);break;case "packet_new_year":handle_packet_new_year(b[c]);break;case "packet_spaceship_info":handle_packet_spaceship_info(b[c]);break;case "packet_ruleset_unit":handle_packet_ruleset_unit(b[c]);break;case "packet_ruleset_game":handle_packet_ruleset_game(b[c]);break;case "packet_ruleset_government_ruler_title":handle_packet_ruleset_government_ruler_title(b[c]);
break;case "packet_ruleset_tech":handle_packet_ruleset_tech(b[c]);break;case "packet_ruleset_government":handle_packet_ruleset_government(b[c]);break;case "packet_ruleset_terrain_control":handle_packet_ruleset_terrain_control(b[c]);break;case "packet_ruleset_nation":handle_packet_ruleset_nation(b[c]);break;case "packet_ruleset_city":handle_packet_ruleset_city(b[c]);break;case "packet_ruleset_building":handle_packet_ruleset_building(b[c]);break;case "packet_ruleset_terrain":handle_packet_ruleset_terrain(b[c]);
break;case "packet_ruleset_control":handle_packet_ruleset_control(b[c]);break;case "packet_single_want_hack_reply":handle_packet_single_want_hack_reply(b[c]);break;case "packet_game_load":handle_packet_game_load(b[c]);break;case "packet_options_settable_control":handle_packet_options_settable_control(b[c]);break;case "packet_options_settable":handle_packet_options_settable(b[c]);break;case "packet_ruleset_choices":handle_packet_ruleset_choices(b[c]);break;case "packet_ruleset_nation_groups":handle_packet_ruleset_nation_groups(b[c]);
break;case "packet_ruleset_unit_class":handle_packet_ruleset_unit_class(b[c]);break;case "packet_ruleset_base":handle_packet_ruleset_base(b[c]);break;case "packet_ruleset_effect":handle_packet_ruleset_effect(b[c]);break;case "packet_ruleset_effect_req":handle_packet_ruleset_effect_req(b[c]);break;case "packet_ruleset_resource":handle_packet_ruleset_resource(b[c]);break;case "packet_freeze_client":handle_packet_freeze_client(b[c]);break;case "packet_thaw_client":handle_packet_thaw_client(b[c]);break;
case "packet_begin_turn":handle_packet_begin_turn(b[c]);break;case "packet_end_turn":handle_packet_end_turn(b[c]);break;case "packet_scenario_info":handle_packet_scenario_info(b[c]);break;case "packet_vote_new":handle_packet_vote_new(b[c]);break;case "packet_vote_update":handle_packet_vote_update(b[c]);break;case "packet_vote_remove":handle_packet_vote_remove(b[c]);break;case "packet_vote_resolve":handle_packet_vote_resolve(b[c]);break;case "packet_edit_object_created":handle_packet_edit_object_created(b[c]);
break;case "packet_connect_msg":handle_packet_connect_msg(b[c]);break}b.length>0&&update_map_canvas_full()}catch(e){if(e.message!=null&&e.fileName!=null&&e.lineNumber!=null)js_breakpad_report(e.message,e.fileName,e.lineNumber);else e.message!=null?js_breakpad_report(e.message,"generate_js_hand.py",0):js_breakpad_report("unknown network error","generate_js_hand.py",0)}};function handle_packet_processing_started(b){client_frozen=true}function handle_packet_processing_finished(b){client_frozen=false}function handle_packet_freeze_hint(b){client_frozen=true}function handle_packet_thaw_hint(b){client_frozen=false}function handle_packet_ruleset_terrain(b){terrains[b.id]=b}
function handle_packet_server_join_reply(b){if(b.you_can_join){client.conn.established=true;client.conn.id=b.conn_id;if(get_client_page()==PAGE_MAIN||get_client_page()==PAGE_NETWORK||get_client_page()==PAGE_GGZ)set_client_page(PAGE_START);set_client_state(C_S_PREPARING)}else{alert("You were rejected from the game.");client.conn.id=-1;set_client_page(PAGE_MAIN)}}
function handle_packet_conn_info(b){var c=find_conn_by_id(b.id);if(b.used==false){if(c==null){freelog(LOG_VERBOSE,"Server removed unknown connection "+b.id);return}client_remove_cli_conn(c)}else{c=valid_player_by_number(b.player_num);b.playing=c;if(b.id==client.conn.id)client.conn=b;conn_list_append(b)}b.id==client.conn.id&&client.conn.playing!=b.playing&&set_client_state(C_S_PREPARING)}function handle_packet_ruleset_resource(b){resources[b.id]=b}
function handle_packet_tile_info(b){var c=false;c=false;c=valid_player_by_number(b.owner);c=resources[b.resource];c=terrains[b.terrain];if(map.tiles!=null){c=b.x+b.y*map.xsize;map.tiles[c]=$.extend(map.tiles[c],b)}}function handle_packet_chat_msg(b){var c=b.message,e=b.conn_id;b=b.event;connections[e]!=null?add_chatbox_text("<b>"+connections[e].username+":</b>"+c):add_chatbox_text(c)}
function handle_packet_city_info(b){cities[b.id]=cities[b.id]==null?b:$.extend(cities[b.id],b);active_city!=null&&show_city_dialog(active_city)}function handle_packet_city_short_info(b){cities[b.id]=cities[b.id]==null?b:$.extend(cities[b.id],b)}function handle_packet_player_info(b){players[b.playerno]=$.extend(players[b.playerno],b);if(client.conn.playing!=null)if(b.playerno==client.conn.playing.playerno)client.conn.playing=players[b.playerno];update_player_info()}
function handle_packet_player_remove(b){delete players[b.playerno];update_player_info()}function handle_packet_conn_ping(b){b=JSON.stringify([{packet_type:"conn_pong"}]);send_request(b)}function handle_packet_map_info(b){map=b;map_init_topology(false);map_allocate();mapdeco_init()}function handle_packet_game_info(b){game_info=b}function handle_packet_start_phase(b){update_client_state(C_S_RUNNING);set_phase_start()}function handle_packet_ruleset_control(b){update_client_state(C_S_PREPARING)}
function handle_packet_endgame_report(b){update_client_state(C_S_OVER)}function update_client_state(b){var c=client_state()!=b;client_state();set_client_state(b);client_state();client_state()}function handle_packet_authentication_req(b){}function handle_packet_server_shutdown(b){}function handle_packet_nuke_tile_info(b){}function handle_packet_city_remove(b){remove_city(b.pcity_id)}function handle_packet_connect_msg(b){add_chatbox_text(b.message)}
function handle_packet_city_name_suggestion_info(b){b=[{packet_type:"unit_build_city",name:prompt("What should we call our new city?",b.name),unit_id:b.unit_id}];send_request(JSON.stringify(b))}function handle_packet_city_sabotage_list(b){}function handle_packet_player_attribute_chunk(b){}function handle_packet_unit_remove(b){b=game_find_unit_by_number(b.unit_id);if(b!=null){clear_tile_unit(b);client_remove_unit(b)}}function handle_packet_unit_info(b){handle_unit_packet_common(b)}
function handle_packet_unit_short_info(b){handle_unit_packet_common(b)}function handle_unit_packet_common(b){var c;c=c=c=c=c=c=c=true;c=player_find_unit_by_id(unit_owner(b),b.id);clear_tile_unit(c);c==null&&game_find_unit_by_number(b.id)&&handle_unit_remove(b.id);units[b.id]=units[b.id]==null?b:$.extend(units[b.id],b);update_tile_unit(units[b.id]);if(current_focus.length>0&&current_focus[0].id==b.id){update_unit_info_label(current_focus);b.done_moving==true&&update_unit_focus()}}
function handle_packet_unit_combat_info(b){}function handle_packet_unit_diplomat_answer(b){var c=b.diplomat_id,e=b.target_id,f=b.cost;b=b.action_type;f=game_find_city_by_number(e);f=game_find_unit_by_number(e);c=game_find_unit_by_number(c);switch(b){case DIPLOMAT_MOVE:process_diplomat_arrival(c,e);break}}function handle_packet_diplomacy_init_meeting(b){}function handle_packet_diplomacy_cancel_meeting(b){}function handle_packet_diplomacy_create_clause(b){}
function handle_packet_diplomacy_remove_clause(b){}function handle_packet_diplomacy_accept_treaty(b){}function handle_packet_page_msg(b){add_chatbox_text(b.message)}function handle_packet_conn_ping_info(b){}function handle_packet_end_phase(b){}function handle_packet_new_year(b){game_info.year=b.year;game_info.turn=b.turn}function handle_packet_begin_turn(b){update_unit_focus();auto_center_on_focus_unit();update_unit_info_label(current_focus);update_game_status_panel()}
function handle_packet_end_turn(b){}function handle_packet_freeze_client(b){client_frozen=true}function handle_packet_thaw_client(b){client_frozen=false}function handle_packet_spaceship_info(b){}function handle_packet_ruleset_unit(b){unit_types[b.id]=b}function handle_packet_ruleset_game(b){game_rules=b}function handle_packet_ruleset_specialist(b){specialists[b.id]=b}function handle_packet_ruleset_government_ruler_title(b){}function handle_packet_ruleset_tech(b){techs[b.id]=b}
function handle_packet_ruleset_government(b){governments[b.id]=b}function handle_packet_ruleset_terrain_control(b){terrain_control=b}function handle_packet_ruleset_nation_groups(b){nation_groups=b.groups}function handle_packet_ruleset_nation(b){nations[b.id]=b}function handle_packet_ruleset_city(b){city_rules[b.style_id]=b}function handle_packet_ruleset_building(b){improvements[b.id]=b}function handle_packet_ruleset_unit_class(b){}function handle_packet_ruleset_base(b){}
function handle_packet_single_want_hack_reply(b){}function handle_packet_ruleset_choices(b){}function handle_packet_game_load(b){}function handle_packet_options_settable_control(b){}function handle_packet_options_settable(b){}function handle_packet_ruleset_effect(b){effects[b.effect_type]=b}function handle_packet_ruleset_effect_req(b){requirements[b.effect_id]=b}function handle_packet_scenario_info(b){}function handle_packet_vote_new(b){}function handle_packet_vote_update(b){}
function handle_packet_vote_remove(b){}function handle_packet_vote_resolve(b){}function handle_packet_edit_object_created(b){};var PAGE_MAIN=0,PAGE_START=1,PAGE_SCENARIO=2,PAGE_LOAD=3,PAGE_NETWORK=4,PAGE_NATION=5,PAGE_GAME=6,PAGE_GGZ=7,old_page=-1;
function set_client_page(b){if(old_page!=b){switch(old_page){case -1:$("#pregame_page").hide();break;case PAGE_SCENARIO:break;case PAGE_LOAD:break;case PAGE_NETWORK:break;case PAGE_GAME:break;default:break}switch(b){case PAGE_MAIN:break;case PAGE_GGZ:break;case PAGE_START:break;case PAGE_NATION:break;case PAGE_GAME:$("#game_page").show();break;case PAGE_LOAD:break;case PAGE_SCENARIO:break;case PAGE_NETWORK:break}}}function get_client_page(){return old_page};var players={},MAX_NUM_PLAYERS=30;function valid_player_by_number(b){return players[b]}function player_by_number(b){return players[b]}function player_find_unit_by_id(b,c){c=idex_lookup_unit(c);if(c==null)return null;if(b!=null||unit_owner(c)==b)return c;return NULL}function player_index(b){return player_number(b)}function player_number(b){return b.playerno};var observing=false,chosen_nation=1;function pregame_start_game(){var b=JSON.stringify([{packet_type:"chat_msg_req",message:"/start"}]);send_request(b)}function leave_pregame(){history.back()}function observe(){if(observing){$("#observe_button").text("Observe Game");var b=[{packet_type:"chat_msg_req",message:"/detach"}];b=JSON.stringify(b)}else{$("#observe_button").text("Don't observe");b=[{packet_type:"chat_msg_req",message:"/observe"}];b=JSON.stringify(b)}send_request(b);observing=!observing}
function update_player_info(){player_html="";for(id in players){player=players[id];if(player!=null)player_html+=player.name.indexOf("AI")!=-1?"<div id='pregame_player_name'><div id='pregame_ai_icon'></div><b>"+player.name+"</b></div>":"<div id='pregame_player_name'><div id='pregame_player_icon'></div><b>"+player.name+"</b></div>"}$("#pregame_player_list").html(player_html)}
function pick_nation(){var b="";b+="<div id='nation_list'> ";for(var c in nations){var e=nations[c],f=get_nation_flag_sprite(e);b+="<div onclick='select_nation("+c+");' style='background: transparent url("+f["image-src"]+"); background-position:-"+f["tileset-x"]+"px -"+f["tileset-y"]+"px;  width: "+f.width+"px;height: "+f.height+"px; margin: 5px; '><div id='nation_choice'>"+e.adjective+"</div></div>"}b+="</div><div id='nation_legend'></div>";$("#pick_nation_dialog").html(b);$("#pick_nation_dialog").attr("title",
"Which nation do you want to play?");$("#pick_nation_dialog").dialog({bgiframe:true,modal:true,width:"50%",buttons:{Ok:function(){$(this).dialog("close");submit_nation_choise(chosen_nation)}}});$("#pick_nation_dialog").dialog("open")}function select_nation(b){var c=nations[b];$("#nation_legend").html(c.legend);chosen_nation=b}
function submit_nation_choise(b){b=JSON.stringify([{packet_type:"nation_select_req",player_no:client.conn.player_num,nation_no:b,is_male:true,name:client.conn.username,city_style:nations[b].city_style}]);send_request(b)};function Range(){this._minimum=this._value=0;this._maximum=100;this._extent=0;this._isChanging=false}a=Range.prototype;a.setValue=function(b){b=Math.round(parseFloat(b));if(!isNaN(b))if(this._value!=b){this._value=b+this._extent>this._maximum?this._maximum-this._extent:b<this._minimum?this._minimum:b;!this._isChanging&&typeof this.onchange=="function"&&this.onchange()}};a.getValue=function(){return this._value};
a.setExtent=function(b){if(this._extent!=b){this._extent=b<0?0:this._value+b>this._maximum?this._maximum-this._value:b;!this._isChanging&&typeof this.onchange=="function"&&this.onchange()}};a.getExtent=function(){return this._extent};
a.setMinimum=function(b){if(this._minimum!=b){var c=this._isChanging;this._isChanging=true;this._minimum=b;b>this._value&&this.setValue(b);if(b>this._maximum){this._extent=0;this.setMaximum(b);this.setValue(b)}if(b+this._extent>this._maximum)this._extent=this._maximum-this._minimum;this._isChanging=c;!this._isChanging&&typeof this.onchange=="function"&&this.onchange()}};a.getMinimum=function(){return this._minimum};
a.setMaximum=function(b){if(this._maximum!=b){var c=this._isChanging;this._isChanging=true;this._maximum=b;b<this._value&&this.setValue(b-this._extent);if(b<this._minimum){this._extent=0;this.setMinimum(b);this.setValue(this._maximum)}if(b<this._minimum+this._extent)this._extent=this._maximum-this._minimum;if(b<this._value+this._extent)this._extent=this._maximum-this._value;this._isChanging=c;!this._isChanging&&typeof this.onchange=="function"&&this.onchange()}};a.getMaximum=function(){return this._maximum};var s_tax=null,s_lux=null,s_sci=null,tax,sci,lux,maxrate=80,freeze=false,government_list,current_government,government_id=-1;
function update_rates_dialog(){if(!client_is_observer()){maxrate=government_max_rate(client.conn.playing.government);if(s_tax==null)create_rates_dialog(client.conn.playing.tax,client.conn.playing.luxury,client.conn.playing.science,maxrate);else{tax=client.conn.playing.tax;lux=client.conn.playing.luxury;sci=client.conn.playing.science;s_tax.setValue(tax);s_tax.setMaximum(maxrate);s_lux.setValue(lux);s_lux.setMaximum(maxrate);s_sci.setValue(sci);s_sci.setMaximum(maxrate)}}}
function create_rates_dialog(b,c,e,f){s_tax=new Slider(document.getElementById("slider-tax"),document.getElementById("slider-tax-input"));s_tax.setValue(b);s_tax.setMaximum(f);s_tax.setMinimum(0);s_tax.setBlockIncrement(10);s_tax.setUnitIncrement(10);s_tax.onchange=update_tax_rates;s_lux=new Slider(document.getElementById("slider-lux"),document.getElementById("slider-lux-input"));s_lux.setValue(c);s_lux.setMaximum(f);s_lux.setMinimum(0);s_lux.setBlockIncrement(10);s_lux.setUnitIncrement(10);s_lux.onchange=
update_lux_rates;s_sci=new Slider(document.getElementById("slider-sci"),document.getElementById("slider-sci-input"));s_sci.setValue(e);s_sci.setMaximum(f);s_sci.setMinimum(0);s_sci.setBlockIncrement(10);s_sci.setUnitIncrement(10);s_sci.onchange=update_sci_rates;maxrate=f;update_rates_labels()}function update_rates_labels(){tax=s_tax.getValue();lux=s_lux.getValue();sci=s_sci.getValue();$("#tax_result").html(tax+"%");$("#lux_result").html(lux+"%");$("#sci_result").html(sci+"%")}
function update_tax_rates(){if(!freeze){freeze=true;s_tax.getValue()%10!=0&&s_tax.setValue(s_tax.getValue()-s_tax.getValue()%10);s_lux.getValue()%10!=0&&s_lux.setValue(s_lux.getValue()-s_lux.getValue()%10);s_sci.getValue()%10!=0&&s_sci.setValue(s_sci.getValue()-s_sci.getValue()%10);lock_tax=document.rates.lock[0].checked;lock_lux=document.rates.lock[1].checked;lock_sci=document.rates.lock[2].checked;tax=s_tax.getValue();lux=s_lux.getValue();sci=s_sci.getValue();if(tax+lux+sci!=100&&lock_lux==false)lux=
Math.min(Math.max(100-tax-sci,0),maxrate);if(tax+lux+sci!=100&&lock_sci==false)sci=Math.min(Math.max(100-lux-tax,0),maxrate);if(tax+lux+sci!=100)s_tax.setValue(100-lux-sci);else{s_tax.setValue(tax);s_lux.setValue(lux);s_sci.setValue(sci);$("#tax_result").html(tax+"%");$("#lux_result").html(lux+"%");$("#sci_result").html(sci+"%")}freeze=false}}
function update_lux_rates(){if(!freeze){freeze=true;s_tax.getValue()%10!=0&&s_tax.setValue(s_tax.getValue()-s_tax.getValue()%10);s_lux.getValue()%10!=0&&s_lux.setValue(s_lux.getValue()-s_lux.getValue()%10);s_sci.getValue()%10!=0&&s_sci.setValue(s_sci.getValue()-s_sci.getValue()%10);lock_tax=document.rates.lock[0].checked;lock_lux=document.rates.lock[1].checked;lock_sci=document.rates.lock[2].checked;tax=s_tax.getValue();lux=s_lux.getValue();sci=s_sci.getValue();if(tax+lux+sci!=100&&lock_tax==false)tax=
Math.min(Math.max(100-lux-sci,0),maxrate);if(tax+lux+sci!=100&&lock_sci==false)sci=Math.min(Math.max(100-lux-tax,0),maxrate);if(tax+lux+sci!=100)s_lux.setValue(100-tax-sci);else{s_tax.setValue(tax);s_lux.setValue(lux);s_sci.setValue(sci);$("#tax_result").html(tax+"%");$("#lux_result").html(lux+"%");$("#sci_result").html(sci+"%")}freeze=false}}
function update_sci_rates(){if(!freeze){freeze=true;s_tax.getValue()%10!=0&&s_tax.setValue(s_tax.getValue()-s_tax.getValue()%10);s_lux.getValue()%10!=0&&s_lux.setValue(s_lux.getValue()-s_lux.getValue()%10);s_sci.getValue()%10!=0&&s_sci.setValue(s_sci.getValue()-s_sci.getValue()%10);lock_tax=document.rates.lock[0].checked;lock_lux=document.rates.lock[1].checked;lock_sci=document.rates.lock[2].checked;tax=s_tax.getValue();lux=s_lux.getValue();sci=s_sci.getValue();if(tax+lux+sci!=100&&lock_lux==false)lux=
Math.min(Math.max(100-tax-sci,0),maxrate);if(tax+lux+sci!=100&&lock_tax==false)tax=Math.min(Math.max(100-sci-lux,0),maxrate);if(tax+lux+sci!=100)s_sci.setValue(100-lux-tax);else{s_tax.setValue(tax);s_lux.setValue(lux);s_sci.setValue(sci);$("#tax_result").html(tax+"%");$("#lux_result").html(tax+"%");$("#sci_result").html(tax+"%")}freeze=false}}function submit_player_rates(){send_request(JSON.stringify([{packet_type:"player_rates",tax:tax,luxury:lux,science:sci}]));close_rates_dialog()}
function close_rates_dialog(){$("#tabs-map").removeClass("ui-tabs-hide");$("#tabs-civ").addClass("ui-tabs-hide");$("#civ_tab").removeClass("ui-tabs-selected");$("#civ_tab").removeClass("ui-state-active");$("#civ_tab").addClass("ui-state-default");$("#map_tab").addClass("ui-state-active");$("#map_tab").addClass("ui-tabs-selected");$("#map_tab").removeClass("ui-state-default")};var reqtree={"2":{x:0,y:0},"10":{x:0,y:69},"63":{x:0,y:183},"46":{x:0,y:300},"35":{x:0,y:417},"9":{x:0,y:534},"86":{x:0,y:651},"87":{x:416,y:0},"13":{x:416,y:79},"55":{x:416,y:167},"48":{x:416,y:246},"45":{x:416,y:322},"62":{x:416,y:413},"81":{x:416,y:456},"20":{x:416,y:532},"38":{x:416,y:635},"42":{x:667,y:38},"84":{x:667,y:126},"53":{x:667,y:202},"4":{x:667,y:290},"72":{x:667,y:369},"19":{x:667,y:500},"80":{x:918,y:29},"59":{x:918,y:152},"56":{x:918,y:329},"25":{x:918,y:425},"29":{x:918,y:504},
"8":{x:918,y:676},"7":{x:1169,y:6},"49":{x:1169,y:85},"85":{x:1169,y:173},"60":{x:1169,y:249},"54":{x:1169,y:310},"37":{x:1169,y:386},"12":{x:1169,y:605},"22":{x:1420,y:20},"11":{x:1420,y:104},"21":{x:1420,y:133},"83":{x:1420,y:210},"75":{x:1420,y:307},"71":{x:1420,y:384},"44":{x:1420,y:458},"82":{x:1420,y:535},"34":{x:1420,y:612},"5":{x:1753,y:100},"28":{x:1753,y:238},"65":{x:1753,y:383},"50":{x:1753,y:471},"41":{x:1753,y:620},"36":{x:1938,y:170},"23":{x:1938,y:429},"18":{x:1938,y:508},"79":{x:2271,
y:42},"16":{x:2271,y:133},"76":{x:2271,y:300},"68":{x:2271,y:491},"78":{x:2271,y:570},"32":{x:2543,y:2},"67":{x:2543,y:93},"27":{x:2543,y:172},"24":{x:2543,y:352},"33":{x:2543,y:428},"43":{x:2543,y:504},"3":{x:2543,y:616},"15":{x:2794,y:185},"51":{x:2794,y:472},"6":{x:2977,y:233},"30":{x:2977,y:309},"47":{x:3228,y:170},"52":{x:3228,y:420},"64":{x:3228,y:496},"66":{x:3479,y:101},"57":{x:3479,y:193},"39":{x:3479,y:270},"17":{x:3479,y:346},"1":{x:3479,y:516},"58":{x:3812,y:298},"69":{x:3812,y:384},"70":{x:3812,
y:460},"14":{x:3812,y:539},"73":{x:4228,y:287},"40":{x:4228,y:378},"61":{x:4479,y:120},"26":{x:4479,y:196},"77":{x:4479,y:378},"31":{x:4680,y:381},"74":{x:4680,y:481}};var requirements={},REQ_RANGE_LOCAL=0,REQ_RANGE_ADJACENT=1,REQ_RANGE_CITY=2,REQ_RANGE_CONTINENT=3,REQ_RANGE_PLAYER=4,REQ_RANGE_WORLD=5,REQ_RANGE_LAST=6;
function is_req_active(b,c,e,f,k,m,p,x,q){c=false;switch(x.source_type){case VUT_NONE:c=true;break;case VUT_ADVANCE:c=is_tech_in_range(b,x.range,x.source_value);break;case VUT_GOVERNMENT:break;case VUT_IMPROVEMENT:break;case VUT_SPECIAL:break;case VUT_TERRAIN:break;case VUT_NATION:break;case VUT_UTYPE:break;case VUT_UTFLAG:break;case VUT_UCLASS:break;case VUT_UCFLAG:break;case VUT_OTYPE:break;case VUT_SPECIALIST:break;case VUT_MINSIZE:break;case VUT_AI_LEVEL:break;case VUT_TERRAINCLASS:break;case VUT_BASE:break;
case VUT_MINYEAR:break;case VUT_TERRAINALTER:break;case VUT_CITYTILE:break;case VUT_LAST:return false}return x.negated==true?!c:c}function are_reqs_active(b,c,e,f,k,m,p,x,q){for(var v=0;v<x.length;v++)if(!is_req_active(b,c,e,f,k,m,p,x[v],q))return false;return true}
function is_tech_in_range(b,c,e){switch(c){case REQ_RANGE_PLAYER:return b!=null&&player_invention_state(b,e)==TECH_KNOWN;case REQ_RANGE_WORLD:return false;case REQ_RANGE_LOCAL:case REQ_RANGE_ADJACENT:case REQ_RANGE_CITY:case REQ_RANGE_CONTINENT:case REQ_RANGE_LAST:break}return false}function universal_build_shield_cost(b){return b.build_cost};function load_game_check(){var b=$.getUrlVar("load");if(b!=null)loadTimerId=setTimeout("load_game_real('"+b+"');",2E3)}function load_game_real(b){b=$.getUrlVar("scenario")=="true"?[{packet_type:"chat_msg_req",message:"/load "+b},{packet_type:"chat_msg_req",message:"/take AI*1"},{packet_type:"chat_msg_req",message:"/aitoggle AI*1"}]:[{packet_type:"chat_msg_req",message:"/load "+b}];b=JSON.stringify(b);send_request(b)}
function show_savegame_dialog(){$.ajax({url:"/savegames/save.jsp",success:function(b){$("#save_game_dialog").html(b)}});$("#save_button").hide()}
function save_game(){var b=$("#save_name").val();if(b==null||b.length<5||!alpha_numeric_check(b)){$("#save_button").show();$("#save_game_dialog").html("Invalid save game name. The name can only consist of characters and numbers. It must also be at least 5 characters.")}else if(b!=null&&b.length>=5){b=JSON.stringify([{packet_type:"chat_msg_req",message:"/save "+username+"-savegame-"+b}]);send_request(b);$("#save_button").show();$("#save_game_dialog").html("Game saved.")}}
function alpha_numeric_check(b){return/^[0-9A-Za-z]+$/.test(b)?true:false};Slider.isSupported=typeof document.createElement!="undefined"&&typeof document.documentElement!="undefined"&&typeof document.documentElement.offsetWidth=="number";
function Slider(b,c,e){if(b){this._orientation=e||"horizontal";this._range=new Range;this._range.setExtent(0);this._blockIncrement=10;this._unitIncrement=1;this._timer=new Timer(100);if(Slider.isSupported&&b){this.document=b.ownerDocument||b.document;this.element=b;this.element.slider=this;this.element.unselectable="on";this.element.className=this._orientation+" "+this.classNameTag+" "+this.element.className;this.line=this.document.createElement("DIV");this.line.className="line";this.line.unselectable=
"on";this.line.appendChild(this.document.createElement("DIV"));this.element.appendChild(this.line);this.handle=this.document.createElement("DIV");this.handle.className="handle";this.handle.unselectable="on";this.handle.appendChild(this.document.createElement("DIV"));this.handle.firstChild.appendChild(this.document.createTextNode(String.fromCharCode(160)));this.element.appendChild(this.handle)}this.input=c;var f=this;this._range.onchange=function(){f.recalculate();typeof f.onchange=="function"&&f.onchange()};
if(Slider.isSupported&&b){this.element.onfocus=Slider.eventHandlers.onfocus;this.element.onblur=Slider.eventHandlers.onblur;this.element.onmousedown=Slider.eventHandlers.onmousedown;this.element.onmouseover=Slider.eventHandlers.onmouseover;this.element.onmouseout=Slider.eventHandlers.onmouseout;this.element.onkeydown=Slider.eventHandlers.onkeydown;this.element.onkeypress=Slider.eventHandlers.onkeypress;this.element.onmousewheel=Slider.eventHandlers.onmousewheel;this.handle.onselectstart=this.element.onselectstart=
function(){return false};this._timer.ontimer=function(){f.ontimer()};window.setTimeout(function(){f.recalculate()},1)}else this.input.onchange=function(){f.setValue(f.input.value)}}}
Slider.eventHandlers={getEvent:function(b,c){b||(b=c?c.document.parentWindow.event:window.event);if(!b.srcElement){for(c=b.target;c!=null&&c.nodeType!=1;)c=c.parentNode;b.srcElement=c}if(typeof b.offsetX=="undefined"){b.offsetX=b.layerX;b.offsetY=b.layerY}return b},getDocument:function(b){if(b.target)return b.target.ownerDocument;return b.srcElement.document},getSlider:function(b){for(b=b.target||b.srcElement;b!=null&&b.slider==null;)b=b.parentNode;if(b)return b.slider;return null},getLine:function(b){for(b=
b.target||b.srcElement;b!=null&&b.className!="line";)b=b.parentNode;return b},getHandle:function(b){b=b.target||b.srcElement;for(var c=/handle/;b!=null&&!c.test(b.className);)b=b.parentNode;return b},onfocus:function(){var b=this.slider;b._focused=true;b.handle.className="handle hover"},onblur:function(){var b=this.slider;b._focused=false;b.handle.className="handle"},onmouseover:function(b){b=Slider.eventHandlers.getEvent(b,this);var c=this.slider;if(b.srcElement==c.handle)c.handle.className="handle hover"},
onmouseout:function(b){b=Slider.eventHandlers.getEvent(b,this);var c=this.slider;if(b.srcElement==c.handle&&!c._focused)c.handle.className="handle"},onmousedown:function(b){b=Slider.eventHandlers.getEvent(b,this);var c=this.slider;c.element.focus&&c.element.focus();Slider._currentInstance=c;var e=c.document;if(e.addEventListener){e.addEventListener("mousemove",Slider.eventHandlers.onmousemove,true);e.addEventListener("mouseup",Slider.eventHandlers.onmouseup,true)}else if(e.attachEvent){e.attachEvent("onmousemove",
Slider.eventHandlers.onmousemove);e.attachEvent("onmouseup",Slider.eventHandlers.onmouseup);e.attachEvent("onlosecapture",Slider.eventHandlers.onmouseup);c.element.setCapture()}if(Slider.eventHandlers.getHandle(b))Slider._sliderDragData={screenX:b.screenX,screenY:b.screenY,dx:b.screenX-c.handle.offsetLeft,dy:b.screenY-c.handle.offsetTop,startValue:c.getValue(),slider:c};else{e=Slider.eventHandlers.getLine(b);c._mouseX=b.offsetX+(e?c.line.offsetLeft:0);c._mouseY=b.offsetY+(e?c.line.offsetTop:0);c._increasing=
null;c.ontimer()}},onmousemove:function(b){b=Slider.eventHandlers.getEvent(b,this);if(Slider._sliderDragData){var c=Slider._sliderDragData.slider,e=c.getMaximum()-c.getMinimum(),f,k;if(c._orientation=="horizontal"){f=c.element.offsetWidth-c.handle.offsetWidth;k=b.screenX-Slider._sliderDragData.dx;b=Math.abs(b.screenY-Slider._sliderDragData.screenY)>100}else{f=c.element.offsetHeight-c.handle.offsetHeight;k=c.element.offsetHeight-c.handle.offsetHeight-(b.screenY-Slider._sliderDragData.dy);b=Math.abs(b.screenX-
Slider._sliderDragData.screenX)>100}c.setValue(b?Slider._sliderDragData.startValue:c.getMinimum()+e*k/f);return false}else{c=Slider._currentInstance;if(c!=null){e=Slider.eventHandlers.getLine(b);c._mouseX=b.offsetX+(e?c.line.offsetLeft:0);c._mouseY=b.offsetY+(e?c.line.offsetTop:0)}}},onmouseup:function(b){Slider.eventHandlers.getEvent(b,this);b=Slider._currentInstance;var c=b.document;if(c.removeEventListener){c.removeEventListener("mousemove",Slider.eventHandlers.onmousemove,true);c.removeEventListener("mouseup",
Slider.eventHandlers.onmouseup,true)}else if(c.detachEvent){c.detachEvent("onmousemove",Slider.eventHandlers.onmousemove);c.detachEvent("onmouseup",Slider.eventHandlers.onmouseup);c.detachEvent("onlosecapture",Slider.eventHandlers.onmouseup);b.element.releaseCapture()}if(Slider._sliderDragData)Slider._sliderDragData=null;else{b._timer.stop();b._increasing=null}Slider._currentInstance=null},onkeydown:function(b){b=Slider.eventHandlers.getEvent(b,this);var c=this.slider;b=b.keyCode;switch(b){case 33:c.setValue(c.getValue()+
c.getBlockIncrement());break;case 34:c.setValue(c.getValue()-c.getBlockIncrement());break;case 35:c.setValue(c.getOrientation()=="horizontal"?c.getMaximum():c.getMinimum());break;case 36:c.setValue(c.getOrientation()=="horizontal"?c.getMinimum():c.getMaximum());break;case 38:case 39:c.setValue(c.getValue()+c.getUnitIncrement());break;case 37:case 40:c.setValue(c.getValue()-c.getUnitIncrement());break}if(b>=33&&b<=40)return false},onkeypress:function(b){b=Slider.eventHandlers.getEvent(b,this);b=b.keyCode;
if(b>=33&&b<=40)return false},onmousewheel:function(b){b=Slider.eventHandlers.getEvent(b,this);var c=this.slider;if(c._focused){c.setValue(c.getValue()+b.wheelDelta/120*c.getUnitIncrement());return false}}};a=Slider.prototype;a.classNameTag="dynamic-slider-control";a.setValue=function(b){this._range.setValue(b);this.input.value=this.getValue()};a.getValue=function(){return this._range.getValue()};a.setMinimum=function(b){this._range.setMinimum(b);this.input.value=this.getValue()};a.getMinimum=function(){return this._range.getMinimum()};
a.setMaximum=function(b){this._range.setMaximum(b);this.input.value=this.getValue()};a.getMaximum=function(){return this._range.getMaximum()};a.setUnitIncrement=function(b){this._unitIncrement=b};a.getUnitIncrement=function(){return this._unitIncrement};a.setBlockIncrement=function(b){this._blockIncrement=b};a.getBlockIncrement=function(){return this._blockIncrement};a.getOrientation=function(){return this._orientation};
a.setOrientation=function(b){if(b!=this._orientation){if(Slider.isSupported&&this.element)this.element.className=this.element.className.replace(this._orientation,b);this._orientation=b;this.recalculate()}};
a.recalculate=function(){if(Slider.isSupported&&this.element){var b=this.element.offsetWidth,c=this.element.offsetHeight,e=this.handle.offsetWidth,f=this.handle.offsetHeight,k=this.line.offsetWidth,m=this.line.offsetHeight;if(this._orientation=="horizontal"){this.handle.style.left=(b-e)*(this.getValue()-this.getMinimum())/(this.getMaximum()-this.getMinimum())+"px";this.handle.style.top=(c-f)/2+"px";this.line.style.top=(c-m)/2+"px";this.line.style.left=e/2+"px";this.line.style.width=Math.max(0,b-e-
2)+"px";this.line.firstChild.style.width=Math.max(0,b-e-4)+"px"}else{this.handle.style.left=(b-e)/2+"px";this.handle.style.top=c-f-(c-f)*(this.getValue()-this.getMinimum())/(this.getMaximum()-this.getMinimum())+"px";this.line.style.left=(b-k)/2+"px";this.line.style.top=f/2+"px";this.line.style.height=Math.max(0,c-f-2)+"px";this.line.firstChild.style.height=Math.max(0,c-f-4)+"px"}}};
a.ontimer=function(){var b=this.handle.offsetWidth,c=this.handle.offsetHeight,e=this.handle.offsetLeft,f=this.handle.offsetTop;if(this._orientation=="horizontal")if(this._mouseX>e+b&&(this._increasing==null||this._increasing)){this.setValue(this.getValue()+this.getBlockIncrement());this._increasing=true}else{if(this._mouseX<e&&(this._increasing==null||!this._increasing)){this.setValue(this.getValue()-this.getBlockIncrement());this._increasing=false}}else if(this._mouseY>f+c&&(this._increasing==null||
!this._increasing)){this.setValue(this.getValue()-this.getBlockIncrement());this._increasing=false}else if(this._mouseY<f&&(this._increasing==null||this._increasing)){this.setValue(this.getValue()+this.getBlockIncrement());this._increasing=true}this._timer.start()};var specialists={};function printStackTrace(b){var c=b&&b.e?b.e:null;b=b&&b.guess?b.guess:false;var e=new printStackTrace.implementation;c=e.run(c);return b?e.guessFunctions(c):c}printStackTrace.implementation=function(){};
printStackTrace.implementation.prototype={run:function(b){var c=this._mode||this.mode();if(c==="other")return this.other(arguments.callee);else{b=b||function(){try{0()}catch(e){return e}}();return this[c](b)}},mode:function(){try{0()}catch(b){if(b.arguments)return this._mode="chrome";if(b.stack)return this._mode="firefox";if(window.opera&&!("stacktrace"in b))return this._mode="opera"}return this._mode="other"},chrome:function(b){return b.stack.replace(/^.*?\n/,"").replace(/^.*?\n/,"").replace(/^.*?\n/,
"").replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@").split("\n")},firefox:function(b){return b.stack.replace(/^.*?\n/,"").replace(/(?:\n@:0)?\s+$/m,"").replace(/^\(/gm,"{anonymous}(").split("\n")},opera:function(b){b=b.message.split("\n");var c=/Line\s+(\d+).*?script\s+(http\S+)(?:.*?in\s+function\s+(\S+))?/i,e,f,k;e=4;f=0;for(k=b.length;e<k;e+=2)if(c.test(b[e]))b[f++]=(RegExp.$3?RegExp.$3+"()@"+RegExp.$2+RegExp.$1:"{anonymous}()@"+RegExp.$2+
":"+RegExp.$1)+" -- "+b[e+1].replace(/^\s+/,"");b.splice(f,b.length-f);return b},other:function(b){for(var c=/function\s*([\w\-$]+)?\s*\(/i,e=[],f=0,k,m;b&&e.length<10;){k=c.test(b.toString())?RegExp.$1||"{anonymous}":"{anonymous}";m=Array.prototype.slice.call(b.arguments);e[f++]=k+"("+printStackTrace.implementation.prototype.stringifyArguments(m)+")";if(b===b.caller&&window.opera)break;b=b.caller}return e},stringifyArguments:function(b){for(var c=0;c<b.length;++c){var e=b[c];if(typeof e=="object")b[c]=
"#object";else if(typeof e=="function")b[c]="#function";else if(typeof e=="string")b[c]='"'+e+'"'}return b.join(",")},sourceCache:{},ajax:function(b){var c=this.createXMLHTTPObject();if(c){c.open("GET",b,false);c.setRequestHeader("User-Agent","XMLHTTP/1.0");c.send("");return c.responseText}},createXMLHTTPObject:function(){for(var b,c=[function(){return new XMLHttpRequest},function(){return new ActiveXObject("Msxml2.XMLHTTP")},function(){return new ActiveXObject("Msxml3.XMLHTTP")},function(){return new ActiveXObject("Microsoft.XMLHTTP")}],
e=0;e<c.length;e++)try{b=c[e]();this.createXMLHTTPObject=c[e];return b}catch(f){}},getSource:function(b){b in this.sourceCache||(this.sourceCache[b]=this.ajax(b).split("\n"));return this.sourceCache[b]},guessFunctions:function(b){for(var c=0;c<b.length;++c){var e=b[c],f=/{anonymous}\(.*\)@(\w+:\/\/([-\w\.]+)+(:\d+)?[^:]+):(\d+):?(\d+)?/.exec(e);if(f){var k=f[1];f=f[4];if(k&&f){k=this.guessFunctionName(k,f);b[c]=e.replace("{anonymous}",k)}}}return b},guessFunctionName:function(b,c){try{return this.guessFunctionNameFromLines(c,
this.getSource(b))}catch(e){return"getSource failed with url: "+b+", exception: "+e.toString()}},guessFunctionNameFromLines:function(b,c){for(var e=/function ([^(]*)\(([^)]*)\)/,f=/['"]?([0-9A-Za-z_]+)['"]?\s*[:=]\s*(function|eval|new Function)/,k="",m=0;m<10;++m){k=c[b-m]+k;if(k!==undefined){var p=f.exec(k);if(p)return p[1];else p=e.exec(k);if(p&&p[1])return p[1]}}return"(?)"}};var techs={},is_tech_tree_init=false,tech_xscale=1.2,TECH_UNKNOWN=0,TECH_PREREQS_KNOWN=1,TECH_KNOWN=2,AR_ONE=0,AR_TWO=1,AR_ROOT=2,AR_SIZE=3,TF_BONUS_TECH=0,TF_BRIDGE=1,TF_RAILROAD=2,TF_POPULATION_POLLUTION_INC=3,TF_FARMLAND=4,TF_BUILD_AIRBORNE=5,TF_LAST=6,A_NONE=0,A_FIRST=1,A_LAST=MAX_NUM_ITEMS,A_UNSET=A_LAST-1,A_FUTURE=A_LAST-2,A_UNKNOWN=A_LAST-3,A_LAST_REAL=A_UNKNOWN,A_NEVER=null;
function player_invention_state(b,c){return b==null?TECH_UNKNOWN:b.inventions!=null&&b.inventions[c]!=null?b.inventions[c]:TECH_UNKNOWN}
function update_tech_screen(){if(!client_is_observer()){var b="<div><b>";if(techs[client.conn.playing.researching]!=null)b=b+"Researching:"+techs[client.conn.playing.researching].name;if(techs[client.conn.playing.tech_goal]!=null)b=b+" <br> Technology goal: "+techs[client.conn.playing.tech_goal].name;b+="</b></div>";$("#technology_heading").html(b);b="";for(var c in techs){var e=techs[c];if(c+""in reqtree){var f=Math.floor(reqtree[c+""].x*tech_xscale),k=reqtree[c+""].y;if(player_invention_state(client.conn.playing,
e.id)==TECH_KNOWN){var m=get_technology_image_sprite(e);b=b+"<div style='z-index: 1000; cursor:pointer;cursor:hand; position: absolute; left: "+f+"px; top: "+k+"px; background: transparent url("+m["image-src"]+");background-position:-"+m["tileset-x"]+"px -"+m["tileset-y"]+"px;  width: "+m.width+"px;height: "+m.height+"px; margin: 5px; '><div style='background-color:#ffffff; color:#000000; margin-left: 48px; width:160px; height: 48px; font-size: 110%'>"+e.name+"</div></div>"}else if(player_invention_state(client.conn.playing,
e.id)==TECH_PREREQS_KNOWN){var p=client.conn.playing.researching==e.id?"#992222":"#222266";m=get_technology_image_sprite(e);b=b+"<div style='z-index: 1000; cursor:pointer;cursor:hand; position: absolute; left: "+f+"px; top: "+k+"px; background: transparent url("+m["image-src"]+");background-position:-"+m["tileset-x"]+"px -"+m["tileset-y"]+"px;  width: "+m.width+"px;height: "+m.height+"px; margin: 5px; ' onclick='send_player_research("+e.id+");'><div style='background-color:"+p+"; margin-left: 48px; width:160px; height: 48px; font-size: 110%'>"+
e.name+"</div></div>"}else if(player_invention_state(client.conn.playing,e.id)==TECH_UNKNOWN){p=client.conn.playing.tech_goal==e.id?"#330000":"#222222";m=get_technology_image_sprite(e);b=b+"<div style='z-index: 1000; cursor:pointer;cursor:hand; position: absolute; left: "+f+"px; top: "+k+"px; background: transparent url("+m["image-src"]+");background-position:-"+m["tileset-x"]+"px -"+m["tileset-y"]+"px;  width: "+m.width+"px;height: "+m.height+"px; margin: 5px; ' onclick='send_player_tech_goal("+
e.id+");'><div style='background-color:"+p+"; margin-left: 48px; width:160px; height: 48px; font-size: 110%'>"+e.name+"</div></div>"}}}$("#technology_list").html(b);init_tech_tree()}}
function init_tech_tree(){if(is_tech_tree_init!=true){is_tech_tree_init=true;var b=new jsGraphics("technologies");b.setColor("#eeeeee");for(var c in techs){var e=techs[c];if(c+""in reqtree)for(var f=Math.floor(reqtree[c+""].x*tech_xscale),k=reqtree[c+""].y,m=0;m<e.req.length;m++){var p=e.req[m];if(p!=0){var x=Math.floor(reqtree[p+""].x*tech_xscale);b.drawLine(f,k+24,x+208,reqtree[p+""].y+24)}}}b.paint()}}
function send_player_research(b){send_request(JSON.stringify([{packet_type:"player_research",tech:b}]));setTimeout("update_tech_screen();",1E3)}function send_player_tech_goal(b){send_request(JSON.stringify([{packet_type:"player_tech_goal",tech:b}]));setTimeout("update_tech_screen();",1E3)};var terrains={},resources={},terrain_control={},S_ROAD=0,S_IRRIGATION=1,S_RAILROAD=2,S_MINE=3,S_POLLUTION=4,S_HUT=5,S_OLD_FORTRESS=6,S_RIVER=7,S_FARMLAND=8,S_OLD_AIRBASE=9,S_FALLOUT=10,S_LAST=11,S_RESOURCE_VALID=S_LAST;function tile_set_terrain(b,c){b.terrain=c}
function tile_specials(b){return{road:b.special[0],irrigation:b.special[1],railroad:b.special[2],mine:b.special[3],pollution:b.special[4],hut:b.special[5],old_fortress:b.special[6],river:b.special[7],farmland:b.special[8],old_airbase:b.special[9],fallout:b.special[10]}}function tile_terrain(b){return terrains[b.terrain]}
function tile_terrain_near(b){for(var c=[],e=[],f=0;f<8;f++){var k=mapstep(b,f);if(k!=null&&client_tile_get_known(k)!=TILE_UNKNOWN){var m=tile_terrain(k);if(null!=m){c[f]=m;e[f]=tile_specials(k);continue}freelog(LOG_ERROR,"build_tile_data() tile (%d,%d) has no terrain!",TILE_XY(k))}c[f]=tile_terrain(b)}return{terrain:c,special:e}}function is_ocean_tile(b){b=tile_terrain(b);return b.graphic_str=="floor"||b.graphic_str=="coast"}
function contains_special(b,c){if(b!=null&&b.special!=null)return b.special[c];return false};var TILE_UNKNOWN=0,TILE_KNOWN_UNSEEN=1,TILE_KNOWN_SEEN=2;function tile_get_known(b){if(b.known==null||b.known==TILE_UNKNOWN)return TILE_UNKNOWN;else if(b.known==TILE_KNOWN_UNSEEN)return TILE_KNOWN_UNSEEN;else if(b.known==TILE_KNOWN_SEEN)return TILE_KNOWN_SEEN}function tile_set_special(b,c,e){if(b.special==null)b.special=[];b.special[c]=e}function tile_has_special(b,c){if(b.special==null||b.special[c]==null)return false;return b.special[c]}function tile_resource(b){return b.resource}
function tile_set_resource(b,c){b.resource=c}function tile_owner(b){return b.owner}function tile_set_owner(b,c,e){b.owner=c}function tile_worked(b){return b.worked}function tile_set_worked(b,c){b.worked=c}function tile_city(b){var c=cities[b.worked];if(c!=null&&is_city_center(c,b))return c;return null};var num_cardinal_tileset_dirs=4,cardinal_tileset_dirs=[DIR8_NORTH,DIR8_EAST,DIR8_SOUTH,DIR8_WEST],NUM_CORNER_DIRS=4,DIR4_TO_DIR8=[DIR8_NORTH,DIR8_SOUTH,DIR8_EAST,DIR8_WEST],LAYER_TERRAIN1=0,LAYER_TERRAIN2=1,LAYER_TERRAIN3=2,LAYER_ROADS=3,LAYER_SPECIAL1=4,LAYER_CITY1=5,LAYER_UNIT=6,LAYER_FOG=7,LAYER_FOCUS_UNIT=8,LAYER_CITYBAR=9,LAYER_COUNT=10,EDGE_NS=0,EDGE_WE=1,EDGE_UD=2,EDGE_LR=3,EDGE_COUNT=4,MATCH_NONE=0,MATCH_SAME=1,MATCH_PAIR=2,MATCH_FULL=3,CELL_WHOLE=0,CELL_CORNER=1,DARKNESS_NONE=0,DARKNESS_ISORECT=
1,DARKNESS_CARD_SINGLE=2,DARKNESS_CARD_FULL=3,DARKNESS_CORNER=4,terrain_match={"t.l0.hills1":MATCH_NONE,"t.l0.mountains1":MATCH_NONE,"t.l0.plains1":MATCH_NONE,"t.l0.desert1":MATCH_NONE};
function fill_sprite_array(b,c,e,f,k,m,p){p=[];var x=k!=null&&(draw_units||c==null||draw_focus_unit&&unit_is_in_focus(k));switch(b){case LAYER_TERRAIN1:if(c!=null){k=tile_terrain_near(c).terrain;b=tile_terrain(c);p=p.concat(fill_terrain_sprite_layer(0,c,b,k))}break;case LAYER_TERRAIN2:if(c!=null){k=tile_terrain_near(c).terrain;b=tile_terrain(c);p=p.concat(fill_terrain_sprite_layer(1,c,b,k))}break;case LAYER_TERRAIN3:if(c!=null){k=tile_terrain_near(c).terrain;b=tile_terrain(c);p=p.concat(fill_terrain_sprite_layer(2,
c,b,k));p=p.concat(fill_irrigation_sprite_array(c,m))}break;case LAYER_ROADS:if(c!=null)p=p.concat(fill_road_rail_sprite_array(c,m));break;case LAYER_SPECIAL1:if(c!=null){m=get_tile_specials_sprite(c);m!=null&&p.push(m);contains_special(c,S_MINE)&&p.push({key:"tx.mine"});contains_special(c,S_HUT)&&p.push({key:"tx.village"});contains_special(c,S_POLLUTION)&&p.push({key:"tx.pollution"})}break;case LAYER_CITY1:if(m!=null){p.push(get_city_flag_sprite(m));p.push(get_city_sprite(m));p=p.concat(get_city_size_sprites(m))}break;
case LAYER_UNIT:case LAYER_FOCUS_UNIT:if(x&&XOR(b==LAYER_UNIT,unit_is_in_focus(k))&&active_city==null){m=true;m=c;unit_is_in_focus(k)&&p.push(get_select_sprite());p=p.concat(fill_unit_sprite_array(k,m,false))}break;case LAYER_FOG:p=p.concat(fill_fog_sprite_array(c,e,f));break;case LAYER_CITYBAR:m!=null&&p.push(get_city_info_text(m));break}return p}function fill_terrain_sprite_layer(b,c,e,f){var k=[];return k=k.concat(fill_terrain_sprite_array(b,c,e,f))}
function fill_terrain_sprite_array(b,c,e,f){if(tile_types_setup["l"+b+"."+e.graphic_str]==null)return[];c=tile_types_setup["l"+b+"."+e.graphic_str];switch(c.sprite_type){case CELL_WHOLE:switch(c.match_style){case MATCH_NONE:return[{key:"t.l"+b+"."+e.graphic_str+1}];case MATCH_SAME:c=0;for(var k=ts_tiles[e.graphic_str]["layer"+b+"_match_type"],m=0;m<num_cardinal_tileset_dirs;m++){var p=cardinal_tileset_dirs[m];if(ts_tiles[f[m].graphic_str]!=null)if(ts_tiles[f[m].graphic_str]["layer"+b+"_match_type"]==
k)c|=1<<m}return[{key:"t.l"+b+"."+e.graphic_str+"_"+cardinal_index_str(c)}]}case CELL_CORNER:m=normal_tile_width;k=normal_tile_height;k=[[m/4,0],[m/4,k/2],[m/2,k/4],[0,k/4]];var x="l"+b+"."+e.graphic_str in tile_types_setup?tile_types_setup["l"+b+"."+e.graphic_str].match_index[0]:-1;m="l"+b+"."+e.graphic_str in tile_types_setup?tile_types_setup["l"+b+"."+e.graphic_str].match_index[1]:-1;var q=[];for(m=0;m<NUM_CORNER_DIRS;m++){var v=c.match_indices,w=0;p=dir_ccw(DIR4_TO_DIR8[m]);var C=k[m][0],E=k[m][1];
p=["l"+b+"."+f[dir_ccw(p)].graphic_str in tile_types_setup?tile_types_setup["l"+b+"."+f[dir_ccw(p)].graphic_str].match_index[0]:-1,"l"+b+"."+f[p].graphic_str in tile_types_setup?tile_types_setup["l"+b+"."+f[p].graphic_str].match_index[0]:-1,"l"+b+"."+f[dir_cw(p)].graphic_str in tile_types_setup?tile_types_setup["l"+b+"."+f[dir_cw(p)].graphic_str].match_index[0]:-1];switch(c.match_style){case MATCH_NONE:break;case MATCH_SAME:v=p[1]!=x?1:0;var D=p[0]!=x?1:0;w=w*2+(p[2]!=x?1:0);w=w*2+v;w=w*2+D;break;
case MATCH_PAIR:return[];case MATCH_FULL:D=[];for(var G=0;G<3;G++)for(var L=0;L<v;L++){D[G]=L;if(p[G]==c.match_index[L])break}w=w*v+D[2];w=w*v+D[1];w=w*v+D[0];break}w=w*NUM_CORNER_DIRS+m;q.push({key:cellgroup_map[e.graphic_str+"."+w]+"."+m,offset_x:C,offset_y:E})}return q}return[]}function check_sprite_type(b){if(b=="corner")return CELL_CORNER;if(b=="single")return CELL_WHOLE;if(b=="whole")return CELL_WHOLE;return CELL_WHOLE}
function fill_unit_sprite_array(b,c,e){c=[get_unit_nation_flag_sprite(b),{key:unit_type(b).graphic_str,offset_x:unit_offset_x,offset_y:-unit_offset_y}];e=get_unit_activity_sprite(b);e!=null&&c.push(e);c.push(get_unit_hp_sprite(b));return c}
function dir_get_tileset_name(b){switch(b){case DIR8_NORTH:return"n";case DIR8_NORTHEAST:return"ne";case DIR8_EAST:return"e";case DIR8_SOUTHEAST:return"se";case DIR8_SOUTH:return"s";case DIR8_SOUTHWEST:return"sw";case DIR8_WEST:return"w";case DIR8_NORTHWEST:return"nw"}return""}function cardinal_index_str(b){for(var c="",e=0;e<num_cardinal_tileset_dirs;e++){var f=b>>e&1;c+=dir_get_tileset_name(cardinal_tileset_dirs[e])+f}return c}
function get_city_flag_sprite(b){b=b.owner;if(b==null)return{};b=players[b];if(b==null)return{};b=b.nation;if(b==null)return{};b=nations[b];if(b==null)return{};return{key:"f."+b.graphic_str,offset_x:city_flag_offset_x,offset_y:-city_flag_offset_y}}
function get_city_size_sprites(b){var c=[];b=b.size+"";var e=0,f=0;if(b.length==1){e=b;f=0}else if(b.length==2){e=b.substring(1,2);f=b.substring(0,1)}c.push({key:"city.size_"+e,offset_x:city_size_offset_x,offset_y:-city_size_offset_y});b.length==2&&c.push({key:"city.size_"+f+"0",offset_x:city_size_offset_x,offset_y:-city_size_offset_y});return c}
function get_unit_nation_flag_sprite(b){return{key:"f.shield."+nations[players[b.owner].nation].graphic_str,offset_x:unit_flag_offset_x,offset_y:-unit_flag_offset_y}}function get_unit_hp_sprite(b){return{key:"unit.hp_"+10*Math.floor(10*b.hp/unit_types[b.type].hp),offset_x:unit_flag_offset_x+-25,offset_y:-unit_flag_offset_y-15}}
function get_unit_activity_sprite(b){var c=b.activity;if(client.conn.playing==null||b.owner!=client.conn.playing.playerno)return null;if(unit_has_goto(b))return{key:"unit.goto",offset_x:unit_activity_offset_x,offset_y:-unit_activity_offset_y};switch(c){case ACTIVITY_POLLUTION:return{key:"unit.fallout",offset_x:unit_activity_offset_x,offset_y:-unit_activity_offset_y};case ACTIVITY_ROAD:return{key:"unit.road",offset_x:unit_activity_offset_x,offset_y:-unit_activity_offset_y};case ACTIVITY_MINE:return{key:"unit.mine",
offset_x:unit_activity_offset_x,offset_y:-unit_activity_offset_y};case ACTIVITY_IRRIGATE:return{key:"unit.irrigate",offset_x:unit_activity_offset_x,offset_y:-unit_activity_offset_y};case ACTIVITY_FORTIFIED:return{key:"unit.fortified",offset_x:unit_activity_offset_x,offset_y:-unit_activity_offset_y};case ACTIVITY_FORTRESS:return{key:"unit.fortress",offset_x:unit_activity_offset_x,offset_y:-unit_activity_offset_y};case ACTIVITY_SENTRY:return{key:"unit.sentry",offset_x:unit_activity_offset_x,offset_y:-unit_activity_offset_y};
case ACTIVITY_RAILROAD:return{key:"unit.road",offset_x:unit_activity_offset_x,offset_y:-unit_activity_offset_y};case ACTIVITY_PILLAGE:return{key:"unit.pillage",offset_x:unit_activity_offset_x,offset_y:-unit_activity_offset_y};case ACTIVITY_GOTO:return{key:"unit.goto",offset_x:unit_activity_offset_x,offset_y:-unit_activity_offset_y};case ACTIVITY_EXPLORE:return{key:"unit.auto_explore",offset_x:unit_activity_offset_x,offset_y:-unit_activity_offset_y};case ACTIVITY_TRANSFORM:return{key:"unit.transform",
offset_x:unit_activity_offset_x,offset_y:-unit_activity_offset_y};case ACTIVITY_FORTIFYING:return{key:"unit.fortifying",offset_x:unit_activity_offset_x,offset_y:-unit_activity_offset_y}}return null}function get_city_sprite(b){var c=city_rules[players[b.owner].city_style],e=0;if(b.size>=4&&b.size<=7)e=4;else if(b.size>=8&&b.size<=11)e=8;else if(b.size>=12&&b.size<=15)e=12;else if(b.size>=16)e=16;return{key:c.graphic+"_"+(b.walls?"wall":"city")+"_"+e,offset_x:0,offset_y:-unit_offset_y}}
function fill_fog_sprite_array(b,c,e){c=0;if(e==null)return[];for(b=3;b>=0;b--){var f=-1;if(e.tile[b]==null)f=1;else switch(tile_get_known(e.tile[b])){case TILE_KNOWN_SEEN:f=2;break;case TILE_KNOWN_UNSEEN:f=1;break;case TILE_UNKNOWN:f=0;break}c=c*3+f}if(c>=80)return[];return[{key:fullfog[c]}]}function get_select_sprite(){return{key:"unit.select0"}}function get_city_info_text(b){return{key:"city_text",text:b.name,offset_x:citybar_offset_x,offset_y:citybar_offset_y}}
function get_tile_specials_sprite(b){if(b==null||b.resource==null)return null;b=resources[b.resource];if(b==null)return null;return{key:b.graphic_str}}function get_unit_image_sprite(b){b=unit_type(b).graphic_str;if(tileset[b]==null)return null;return{tag:b,"image-src":"/tileset/freeciv-web-tileset-"+tileset[b][0]+".png","tileset-x":tileset[b][1],"tileset-y":tileset[b][2],width:tileset[b][3],height:tileset[b][4]}}
function get_unit_type_image_sprite(b){b=b.graphic_str;if(tileset[b]==null)return null;return{tag:b,"image-src":"/tileset/freeciv-web-tileset-"+tileset[b][0]+".png","tileset-x":tileset[b][1],"tileset-y":tileset[b][2],width:tileset[b][3],height:tileset[b][4]}}
function get_improvement_image_sprite(b){b=b.graphic_str;if(tileset[b]==null)return null;return{tag:b,"image-src":"/tileset/freeciv-web-tileset-"+tileset[b][0]+".png","tileset-x":tileset[b][1],"tileset-y":tileset[b][2],width:tileset[b][3],height:tileset[b][4]}}
function get_technology_image_sprite(b){b=b.graphic_str;if(tileset[b]==null)return null;return{tag:b,"image-src":"/tileset/freeciv-web-tileset-"+tileset[b][0]+".png","tileset-x":tileset[b][1],"tileset-y":tileset[b][2],width:tileset[b][3],height:tileset[b][4]}}
function get_player_fplag_sprite(b){b="f."+nations[b.nation].graphic_str;if(tileset[b]==null)return null;return{tag:b,"image-src":"/tileset/freeciv-web-tileset-"+tileset[b][0]+".png","tileset-x":tileset[b][1],"tileset-y":tileset[b][2],width:tileset[b][3],height:tileset[b][4]}}
function get_nation_flag_sprite(b){b="f."+b.graphic_str;if(tileset[b]==null)return null;return{tag:b,"image-src":"/tileset/freeciv-web-tileset-"+tileset[b][0]+".png","tileset-x":tileset[b][1],"tileset-y":tileset[b][2],width:tileset[b][3],height:tileset[b][4]}}
function fill_road_rail_sprite_array(b,c){var e=contains_special(b,S_ROAD),f=contains_special(b,S_RAILROAD),k=[],m=[],p=[],x=[],q=[],v=e==true&&c==null&&f==false;c=f&&c==null;for(var w=0;w<8;w++){var C=mapstep(b,w);if(C!=null&&client_tile_get_known(C)!=TILE_UNKNOWN){k[w]=contains_special(C,S_ROAD);m[w]=contains_special(C,S_RAILROAD);p[w]=f&&m[w];x[w]=e&&k[w]&&!p[w];c&=!p[w];v&=!p[w]&&!x[w]}}if(e)for(b=0;b<8;b++)x[b]&&q.push({key:"r.road_"+dir_get_tileset_name(b)});if(f)for(b=0;b<8;b++)p[b]&&q.push({key:"r.rail_"+
dir_get_tileset_name(b)});if(c)q.push({key:"r.rail_isolated"});else v&&q.push({key:"r.road_isolated"});return q}function fill_irrigation_sprite_array(b,c){var e=[];if(contains_special(b,S_IRRIGATION)&&c==null)contains_special(b,S_FARMLAND)?e.push({key:"tx.farmland"}):e.push({key:"tx.irrigation"});return e};function Timer(b){this._pauseTime=typeof b=="undefined"?1E3:b;this._timer=null;this._isStarted=false}a=Timer.prototype;a.start=function(){this.isStarted()&&this.stop();var b=this;this._timer=window.setTimeout(function(){typeof b.ontimer=="function"&&b.ontimer()},this._pauseTime);this._isStarted=false};a.stop=function(){this._timer!=null&&window.clearTimeout(this._timer);this._isStarted=false};a.isStarted=function(){return this._isStarted};a.getPauseTime=function(){return this._pauseTime};
a.setPauseTime=function(b){this._pauseTime=b};var units={},SINGLE_MOVE=3,DIPLOMAT_MOVE=0,DIPLOMAT_EMBASSY=1,DIPLOMAT_BRIBE=2,DIPLOMAT_INCITE=3,DIPLOMAT_INVESTIGATE=4,DIPLOMAT_SABOTAGE=5,DIPLOMAT_STEAL=6,SPY_POISON=7,SPY_SABOTAGE_UNIT=8,DIPLOMAT_ANY_ACTION=9;function idex_lookup_unit(b){return units[b]}function unit_owner(b){return player_by_number(b.owner)}function client_remove_unit(b){if(unit_is_in_focus(b))current_focus=[];delete units[b.id]}function tile_units(b){if(b==null)return null;return b.units}
function update_tile_unit(b){if(b!=null){var c=false,e=map_pos_to_tile(b.x,b.y);if(!(e==null||e.units==null)){for(var f=0;f<e.units.length;f++)if(e.units[f].id==b.id)c=true;c||e.units.push(b)}}}function clear_tile_unit(b){if(b!=null){var c=map_pos_to_tile(b.x,b.y);if(c==null||c.units==null)return-1;c.units.indexOf(b)>=0&&c.units.splice(c.units.indexOf(b),1)}}function unit_list_size(b){return b.length}function unit_type(b){return unit_types[b.type]}
function get_unit_moves_left(b){if(b==null)return 0;var c="";return c=b.movesleft%SINGLE_MOVE!=0?Math.floor(b.movesleft/SINGLE_MOVE)>0?"Moves: "+Math.floor(b.movesleft/SINGLE_MOVE)+" "+Math.floor(b.movesleft%SINGLE_MOVE)+"/"+SINGLE_MOVE:"Moves: "+Math.floor(b.movesleft%SINGLE_MOVE)+"/"+SINGLE_MOVE:"Moves: "+Math.floor(b.movesleft/SINGLE_MOVE)}function unit_has_goto(b){return b.goto_dest_x!=255&&b.goto_dest_y!=255};var unit_types={},U_NOT_OBSOLETED=null;function can_player_build_unit_direct(b,c){if(player_invention_state(b,c.tech_requirement)!=TECH_KNOWN)return false;return true};function clone(b){if(b==null||typeof b!="object")return b;var c=b.constructor();for(var e in b)c[e]=clone(b[e]);return c}function DIVIDE(b,c){return parseInt(b/c-(b<0&&b%c<0?1:0))}function FC_WRAP(b,c){return b<0?b%c!=0?b%c+c:0:b>=c?b%c:b}function XOR(b,c){return(b||c)&&!(b&&c)}$.extend({getUrlVars:function(){for(var b=[],c,e=window.location.href.slice(window.location.href.indexOf("?")+1).split("&"),f=0;f<e.length;f++){c=e[f].split("=");b.push(c[0]);b[c[0]]=c[1]}return b},getUrlVar:function(b){return $.getUrlVars()[b]}});
var benchmark_start=0;function civclient_benchmark(b){if(b==0)benchmark_start=(new Date).getTime();var c=map_pos_to_tile(b+5,b+5);center_tile_mapcanvas(c);if(b<30)setTimeout("civclient_benchmark("+(b+1)+");",10);else{b=((new Date).getTime()-benchmark_start)/25;alert("Redraw time: "+b)}};var V_MAIN=0,V_INVIS=1,V_COUNT=2;var jg_ok,jg_ie,jg_fast,jg_dom,jg_moz;function _chkDHTM(b,c,e){jg_ie=(c=b.document.body||null)&&typeof c.insertAdjacentHTML!="undefined"&&b.document.createElement;jg_dom=c&&!jg_ie&&typeof c.appendChild!="undefined"&&typeof b.document.createRange!="undefined"&&typeof(e=b.document.createRange()).setStartBefore!="undefined"&&typeof e.createContextualFragment!="undefined";jg_fast=jg_ie&&b.document.all&&!b.opera;jg_moz=jg_dom&&typeof c.style.MozOpacity!="undefined";jg_ok=!!(jg_ie||jg_dom)}
function _pntCnvDom(){var b=this.wnd.document.createRange();b.setStartBefore(this.cnv);b=b.createContextualFragment(jg_fast?this._htmRpc():this.htm);this.cnv&&this.cnv.appendChild(b);this.htm=""}function _pntCnvIe(){if(this.cnv)this.cnv.insertAdjacentHTML("BeforeEnd",jg_fast?this._htmRpc():this.htm);this.htm=""}function _pntDoc(){this.wnd.document.write(jg_fast?this._htmRpc():this.htm);this.htm=""}function _pntN(){}
function _mkDiv(b,c,e,f){this.htm+='<div style="position:absolute;left:'+b+"px;top:"+c+"px;width:"+e+"px;height:"+f+"px;clip:rect(0,"+e+"px,"+f+"px,0);background-color:"+this.color+(!jg_moz?";overflow:hidden":"")+';"></div>'}function _mkDivIe(b,c,e,f){this.htm+="%%"+this.color+";"+b+";"+c+";"+e+";"+f+";"}
function _mkDivPrt(b,c,e,f){this.htm+='<div style="position:absolute;border-left:'+e+"px solid "+this.color+";left:"+b+"px;top:"+c+"px;width:0px;height:"+f+"px;clip:rect(0,"+e+"px,"+f+"px,0);background-color:"+this.color+(!jg_moz?";overflow:hidden":"")+';"></div>'}var _regex=/%%([^;]+);([^;]+);([^;]+);([^;]+);([^;]+);/g;function _htmRpc(){return this.htm.replace(_regex,'<div style="overflow:hidden;position:absolute;background-color:$1;left:$2px;top:$3px;width:$4px;height:$5px"></div>\n')}
function _htmPrtRpc(){return this.htm.replace(_regex,'<div style="overflow:hidden;position:absolute;background-color:$1;left:$2px;top:$3px;width:$4px;height:$5px;border-left:$4px solid $1"></div>\n')}
function _mkLin(b,c,e,f){if(b>e){var k=e,m=f;e=b;f=c;b=k;c=m}k=e-b;m=Math.abs(f-c);b=b;var p=c,x=c>f?-1:1;if(k>=m){var q=m<<1,v=q-(k<<1),w=q-k;for(c=b;k>0;){--k;++b;if(w>0){this._mkDiv(c,p,b-c,1);p+=x;w+=v;c=b}else w+=q}this._mkDiv(c,p,e-c+1,1)}else{q=k<<1;v=q-(m<<1);w=q-m;k=p;if(f<=c){for(;m>0;){--m;if(w>0){this._mkDiv(b++,p,1,k-p+1);p+=x;w+=v;k=p}else{p+=x;w+=q}}this._mkDiv(e,f,1,k-f+1)}else{for(;m>0;){--m;p+=x;if(w>0){this._mkDiv(b++,k,1,p-k);w+=v;k=p}else w+=q}this._mkDiv(e,k,1,f-k+1)}}}
function _mkLin2D(b,c,e,f){if(b>e){var k=e,m=f;e=b;f=c;b=k;c=m}k=e-b;m=Math.abs(f-c);b=b;var p=c,x=c>f?-1:1,q=this.stroke;if(k>=m){if(k>0&&q-3>0){var v=(q*k*Math.sqrt(1+m*m/(k*k))-k-(q>>1)*m)/k;v=(!(q-4)?Math.ceil(v):Math.round(v))+1}else v=q;q=Math.ceil(q/2);var w=m<<1,C=w-(k<<1),E=w-k;for(c=b;k>0;){--k;++b;if(E>0){this._mkDiv(c,p,b-c+q,v);p+=x;E+=C;c=b}else E+=w}this._mkDiv(c,p,e-c+q+1,v)}else{if(q-3>0){v=(q*m*Math.sqrt(1+k*k/(m*m))-(q>>1)*k-m)/m;v=(!(q-4)?Math.ceil(v):Math.round(v))+1}else v=q;
q=Math.round(q/2);w=k<<1;C=w-(m<<1);E=w-m;k=p;if(f<=c){for(++q;m>0;){--m;if(E>0){this._mkDiv(b++,p,v,k-p+q);p+=x;E+=C;k=p}else{p+=x;E+=w}}this._mkDiv(e,f,v,k-f+q)}else{for(;m>0;){--m;p+=x;if(E>0){this._mkDiv(b++,k,v,p-k+q);E+=C;k=p}else E+=w}this._mkDiv(e,k,v,f-k+q+1)}}}
function _mkLinDott(b,c,e,f){if(b>e){var k=e,m=f;e=b;f=c;b=k;c=m}e=e-b;k=Math.abs(f-c);b=b;m=c;c=c>f?-1:1;f=true;if(e>=k)for(var p=k<<1,x=p-(e<<1),q=p-e;e>0;){--e;f&&this._mkDiv(b,m,1,1);f=!f;if(q>0){m+=c;q+=x}else q+=p;++b}else{p=e<<1;x=p-(k<<1);for(q=p-k;k>0;){--k;f&&this._mkDiv(b,m,1,1);f=!f;m+=c;if(q>0){++b;q+=x}else q+=p}}f&&this._mkDiv(b,m,1,1)}
function _mkOv(b,c,e,f){var k=++e>>1,m=++f>>1;e=e&1;f=f&1;b=b+k;c=c+m;var p=0,x=m,q=0,v=m,w=k*k<<1,C=w<<1,E=m*m<<1,D=E<<1,G=(w>>1)*(1-(m<<1))+E;m=(E>>1)-w*((m<<1)-1);for(var L,h;x>0;)if(G<0){G+=E*((p<<1)+3);m+=D*++p}else if(m<0){G+=E*((p<<1)+3)-C*(x-1);m+=D*++p-w*((x--<<1)-3);L=p-q;h=v-x;if(L&2&&h&2){this._mkOvQds(b,c,p-2,x+2,1,1,e,f);this._mkOvQds(b,c,p-1,x+1,1,1,e,f)}else this._mkOvQds(b,c,p-1,v,L,h,e,f);q=p;v=x}else{m-=w*((x<<1)-3);G-=C*--x}L=k-q+1;h=(v<<1)+f;x=c-v;this._mkDiv(b-k,x,L,h);this._mkDiv(b+
q+e-1,x,L,h)}
function _mkOv2D(b,c,e,f){var k=this.stroke;e+=k+1;f+=k+1;var m=e>>1,p=f>>1,x=e&1,q=f&1;b=b+m;c=c+p;var v=0,w=p,C=m*m<<1,E=C<<1,D=p*p<<1,G=D<<1,L=(C>>1)*(1-(p<<1))+D,h=(D>>1)-C*((p<<1)-1);if(k-4<0&&(!(k-2)||e-51>0&&f-51>0)){var U=0;for(p=p;w>0;)if(L<0){L+=D*((v<<1)+3);h+=G*++v}else if(h<0){L+=D*((v<<1)+3)-E*(w-1);h+=G*++v-C*((w--<<1)-3);e=v-U;f=p-w;if(e-1){e=e+1+(k&1);f=k}else if(f-1){e=k;f+=1+(k&1)}else e=f=k;this._mkOvQds(b,c,v-1,p,e,f,x,q);U=v;p=w}else{h-=C*((w<<1)-3);L-=E*--w}this._mkDiv(b-m,
c-p,k,(p<<1)+q);this._mkDiv(b+m+x-k,c-p,k,(p<<1)+q)}else{e=e-(k<<1)>>1;U=f-(k<<1)>>1;var X=0,J=U,V=e*e<<1,da=V<<1,ha=U*U<<1,ra=ha<<1,ia=(V>>1)*(1-(U<<1))+ha,ja=(ha>>1)-V*((U<<1)-1);k=[];f=[];e=[];k[0]=0;f[0]=p;for(e[0]=U-1;w>0;){if(L<0){k[k.length]=v;f[f.length]=w;L+=D*((v<<1)+3);h+=G*++v}else if(h<0){k[k.length]=v;L+=D*((v<<1)+3)-E*(w-1);h+=G*++v-C*((w--<<1)-3);f[f.length]=w}else{h-=C*((w<<1)-3);L-=E*--w}if(J>0)if(ia<0){ia+=ha*((X<<1)+3);ja+=ra*++X;e[e.length]=J-1}else if(ja<0){ia+=ha*((X<<1)+3)-
da*(J-1);ja+=ra*++X-V*((J--<<1)-3);e[e.length]=J-1}else{ja-=V*((J<<1)-3);ia-=da*--J;e[e.length-1]--}}U=-x;p=p;w=e[0];C=k.length;for(E=0;E<C;E++)if(typeof e[E]!="undefined"){if(e[E]<w||f[E]<p){v=k[E];this._mkOvQds(b,c,v,p,v-U,p-w,x,q);U=v;p=f[E];w=e[E]}}else{v=k[E];this._mkDiv(b-v,c-p,1,(p<<1)+q);this._mkDiv(b+U+x,c-p,1,(p<<1)+q);U=v;p=f[E]}this._mkDiv(b-m,c-p,1,(p<<1)+q);this._mkDiv(b+U+x,c-p,1,(p<<1)+q)}}
function _mkOvDott(b,c,e,f){var k=++e>>1,m=++f>>1;e=e&1;f=f&1;var p=f^1;b=b+k;c=c+m;var x=0,q=m;k=k*k<<1;var v=k<<1,w=m*m<<1,C=w<<1,E=(k>>1)*(1-(m<<1))+w;m=(w>>1)-k*((m<<1)-1);for(var D=true;q>0;){if(E<0){E+=w*((x<<1)+3);m+=C*++x}else if(m<0){E+=w*((x<<1)+3)-v*(q-1);m+=C*++x-k*((q--<<1)-3)}else{m-=k*((q<<1)-3);E-=v*--q}D&&q>=p&&this._mkOvQds(b,c,x,q,1,1,e,f);D=!D}}
function _mkRect(b,c,e,f){var k=this.stroke;this._mkDiv(b,c,e,k);this._mkDiv(b+e,c,k,f);this._mkDiv(b,c+f,e+k,k);this._mkDiv(b,c+k,k,f-k)}function _mkRectDott(b,c,e,f){this.drawLine(b,c,b+e,c);this.drawLine(b+e,c,b+e,c+f);this.drawLine(b,c+f,b+e,c+f);this.drawLine(b,c,b,c+f)}function jsgFont(){this.PLAIN="font-weight:normal;";this.BOLD="font-weight:bold;";this.ITALIC="font-style:italic;";this.BOLD_ITALIC=this.ITALIC_BOLD=this.ITALIC+this.BOLD}var Font=new jsgFont;
function jsgStroke(){this.DOTTED=-1}var Stroke=new jsgStroke;
function jsGraphics(b,c){this.setColor=function(e){this.color=e.toLowerCase()};this.setStroke=function(e){this.stroke=e;if(e+1){if(e-1>0){this.drawLine=_mkLin2D;this._mkOv=_mkOv2D}else{this.drawLine=_mkLin;this._mkOv=_mkOv}this.drawRect=_mkRect}else{this.drawLine=_mkLinDott;this._mkOv=_mkOvDott;this.drawRect=_mkRectDott}};this.setPrintable=function(e){this.printable=e;if(jg_fast){this._mkDiv=_mkDivIe;this._htmRpc=e?_htmPrtRpc:_htmRpc}else this._mkDiv=e?_mkDivPrt:_mkDiv};this.setFont=function(e,f,
k){this.ftFam=e;this.ftSz=f;this.ftSty=k||Font.PLAIN};this.drawPolyline=this.drawPolyLine=function(e,f){for(var k=e.length-1;k;){--k;this.drawLine(e[k],f[k],e[k+1],f[k+1])}};this.fillRect=function(e,f,k,m){this._mkDiv(e,f,k,m)};this.drawPolygon=function(e,f){this.drawPolyline(e,f);this.drawLine(e[e.length-1],f[e.length-1],e[0],f[0])};this.drawEllipse=this.drawOval=function(e,f,k,m){this._mkOv(e,f,k,m)};this.fillEllipse=this.fillOval=function(e,f,k,m){var p=k>>1,x=m>>1,q=k&1;m=m&1;e=e+p;f=f+x;var v=
0,w=x,C=x,E=p*p<<1,D=E<<1,G=x*x<<1,L=G<<1,h=(E>>1)*(1-(x<<1))+G;x=(G>>1)-E*((x<<1)-1);var U,X,J;if(k)for(;w>0;)if(h<0){h+=G*((v<<1)+3);x+=L*++v}else if(x<0){h+=G*((v<<1)+3)-D*(w-1);U=e-v;X=(v<<1)+q;x+=L*++v-E*((w--<<1)-3);J=C-w;this._mkDiv(U,f-C,X,J);this._mkDiv(U,f+w+m,X,J);C=w}else{x-=E*((w<<1)-3);h-=D*--w}this._mkDiv(e-p,f-C,k,(C<<1)+m)};this.fillArc=function(e,f,k,m,p,x){var q=k>>1,v=m>>1;k=k&1|(m&1)<<16;e=e+q;f=f+v;m=0;var w=v,C=m,E=w,D=q*q<<1,G=D<<1,L=v*v<<1,h=L<<1,U=(D>>1)*(1-(v<<1))+L,X=(L>>
1)-D*((v<<1)-1),J=1<<(Math.floor((p%=360)/180)<<3)|2<<(Math.floor((x%=360)/180)<<3)|(p>=x)<<16,V=new Array(v+1),da=new Array(v+1);p*=Math.PI/180;x*=Math.PI/180;C=e+Math.round(q*Math.cos(p));p=f+Math.round(-v*Math.sin(p));_mkLinVirt(V,e,f,C,p);q=e+Math.round(q*Math.cos(x));x=f+Math.round(-v*Math.sin(x));for(_mkLinVirt(da,e,f,q,x);w>0;)if(U<0){U+=L*((m<<1)+3);X+=h*++m}else if(X<0){U+=L*((m<<1)+3)-G*(w-1);C=m;X+=h*++m-D*((w--<<1)-3);this._mkArcDiv(C,w,E,e,f,k,V,da,J);E=w}else{X-=D*((w<<1)-3);U-=G*--w;
if(w&&(V[w]!=V[w-1]||da[w]!=da[w-1])){this._mkArcDiv(m,w,E,e,f,k,V,da,J);E=w}}this._mkArcDiv(m,0,E,e,f,k,V,da,J);if(k>>16)if(J>>16){x=p<=f||x>f?e-m:e;this._mkDiv(x,f,m+e-x+(k&65535),1)}else J&1&&x>f&&this._mkDiv(e-m,f,m,1)};this.fillPolygon=function(e,f){var k,m,p,x,q,v,w,C,E,D=e.length;if(D){m=f[0];p=f[0];for(k=1;k<D;k++){if(f[k]<m)m=f[k];if(f[k]>p)p=f[k]}for(m=m;m<=p;m++){var G=[];for(k=E=0;k<D;k++){if(k){x=k-1;C=k}else{x=D-1;C=0}q=f[x];w=f[C];if(q<w){x=e[x];v=e[C]}else if(q>w){w=f[x];q=f[C];v=
e[x];x=e[C]}else continue;if(m>=q&&m<w)G[E++]=Math.round((m-q)*(v-x)/(w-q)+x);else if(m==p&&m>q&&m<=w)G[E++]=Math.round((m-q)*(v-x)/(w-q)+x)}G.sort(_CompInt);for(k=0;k<E;k+=2)this._mkDiv(G[k],m,G[k+1]-G[k]+1,1)}}};this.drawString=function(e,f,k){this.htm+='<div style="position:absolute;white-space:nowrap;left:'+f+"px;top:"+k+"px;font-family:"+this.ftFam+";font-size:"+this.ftSz+";color:"+this.color+";"+this.ftSty+'">'+e+"</div>"};this.drawStringRect=function(e,f,k,m,p){this.htm+='<div style="position:absolute;overflow:hidden;left:'+
f+"px;top:"+k+"px;width:"+m+"px;text-align:"+p+";font-family:"+this.ftFam+";font-size:"+this.ftSz+";color:"+this.color+";"+this.ftSty+'">'+e+"</div>"};this.drawImage=function(e,f,k,m,p,x){this.htm+='<div style="position:absolute;left:'+f+"px;top:"+k+"px;"+(m?"width:"+m+"px;":"")+(p?"height:"+p+"px;":"")+'"><img src="'+e+'"'+(m?' width="'+m+'"':"")+(p?' height="'+p+'"':"")+(x?" "+x:"")+"></div>"};this.clear=function(){this.htm="";if(this.cnv)this.cnv.innerHTML=""};this._mkOvQds=function(e,f,k,m,p,
x,q,v){var w=e-k;e=e+k+q-p;k=f-m;f=f+m+v-x;if(e>w+p){this._mkDiv(e,k,p,x);this._mkDiv(e,f,p,x)}else p=e-w+p;this._mkDiv(w,k,p,x);this._mkDiv(w,f,p,x)};this._mkArcDiv=function(e,f,k,m,p,x,q,v,w){var C=m+e+(x&65535);k=k-f;var E,D;k||(k=1);e=m-e;if(w&16711680){m=p-f-k;if(w&255){if(w&2){E=Math.max(e,v[f]);D=C-E;D>0&&this._mkDiv(E,m,D,k)}if(w&1){D=Math.min(C,q[f]);D=D-e;D>0&&this._mkDiv(e,m,D,k)}}else this._mkDiv(e,m,C-e,k);m=p+f+(x>>16);if(w&65280){if(w&256){E=Math.max(e,q[f]);D=C-E;D>0&&this._mkDiv(E,
m,D,k)}if(w&512){D=Math.min(C,v[f]);D=D-e;D>0&&this._mkDiv(e,m,D,k)}}else this._mkDiv(e,m,C-e,k)}else{if(w&255){E=w&2?Math.max(e,v[f]):e;D=w&1?Math.min(C,q[f]):C;m=p-f-k;D=D-E;D>0&&this._mkDiv(E,m,D,k)}if(w&65280){E=w&256?Math.max(e,q[f]):e;D=w&512?Math.min(C,v[f]):C;m=p+f+(x>>16);D=D-E;D>0&&this._mkDiv(E,m,D,k)}}};this.setStroke(1);this.setFont("verdana,geneva,helvetica,sans-serif","12px",Font.PLAIN);this.color="#000000";this.htm="";this.wnd=c||window;jg_ok||_chkDHTM(this.wnd);if(jg_ok)if(b){this.cont=
typeof b=="string"?document.all?this.wnd.document.all[b]||null:document.getElementById?this.wnd.document.getElementById(b)||null:null:b==window.document?document.getElementsByTagName("body")[0]:b;this.cnv=this.wnd.document.createElement("div");this.cnv.style.fontSize=0;this.cont.appendChild(this.cnv);this.paint=jg_dom?_pntCnvDom:_pntCnvIe}else this.paint=_pntDoc;else this.paint=_pntN;this.setPrintable(false)}
function _mkLinVirt(b,c,e,f,k){var m=Math.abs(f-c),p=Math.abs(k-e),x=c,q=e;c=c>f?-1:1;k=e>k?-1:1;e=0;if(m>=p){var v=p<<1,w=v-(m<<1);for(f=v-m;m>0;){--m;if(f>0){b[e++]=x;q+=k;f+=w}else f+=v;x+=c}}else{v=m<<1;w=v-(p<<1);for(f=v-p;p>0;){--p;q+=k;b[e++]=x;if(f>0){x+=c;f+=w}else f+=v}}m=b.length;for(e=m-e;e;)b[m-e--]=x}function _CompInt(b,c){return b-c};
